(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+7AZ":function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return r})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return s})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return l})),n.d(e,"__metadata",(function(){return c})),n.d(e,"__awaiter",(function(){return u})),n.d(e,"__generator",(function(){return h})),n.d(e,"__exportStar",(function(){return d})),n.d(e,"__values",(function(){return f})),n.d(e,"__read",(function(){return p})),n.d(e,"__spread",(function(){return g})),n.d(e,"__spreadArrays",(function(){return v})),n.d(e,"__await",(function(){return m})),n.d(e,"__asyncGenerator",(function(){return y})),n.d(e,"__asyncDelegator",(function(){return b})),n.d(e,"__asyncValues",(function(){return x})),n.d(e,"__makeTemplateObject",(function(){return w})),n.d(e,"__importStar",(function(){return S})),n.d(e,"__importDefault",(function(){return A})),n.d(e,"__classPrivateFieldGet",(function(){return E})),n.d(e,"__classPrivateFieldSet",(function(){return k}));var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function r(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}function a(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function l(t,e){return function(n,i){e(n,i,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function u(t,e,n,i){return new(n||(n=Promise))((function(r,o){function s(t){try{l(i.next(t))}catch(e){o(e)}}function a(t){try{l(i.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((i=i.apply(t,e||[])).next())}))}function h(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function d(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function f(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s}function g(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function v(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i}function m(t){return this instanceof m?(this.v=t,this):new m(t)}function y(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(t){r[t]&&(i[t]=function(e){return new Promise((function(n,i){o.push([t,e,n,i])>1||a(t,e)}))})}function a(t,e){try{(n=r[t](e)).value instanceof m?Promise.resolve(n.value.v).then(l,c):u(o[0][2],n)}catch(i){u(o[0][3],i)}var n}function l(t){a("next",t)}function c(t){a("throw",t)}function u(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function b(t){var e,n;return e={},i("next"),i("throw",(function(t){throw t})),i("return"),e[Symbol.iterator]=function(){return this},e;function i(i,r){e[i]=t[i]?function(e){return(n=!n)?{value:m(t[i](e)),done:"return"===i}:r?r(e):e}:r}}function x(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=f(t),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(n){e[n]=t[n]&&function(e){return new Promise((function(i,r){!function(t,e,n,i){Promise.resolve(i).then((function(e){t({value:e,done:n})}),e)}(i,r,(e=t[n](e)).done,e.value)}))}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function S(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function A(t){return t&&t.__esModule?t:{default:t}}function E(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function k(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},0:function(t,e,n){t.exports=n("zUnb")},"30Go":function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return r})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return s})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return l})),n.d(e,"__metadata",(function(){return c})),n.d(e,"__awaiter",(function(){return u})),n.d(e,"__generator",(function(){return h})),n.d(e,"__exportStar",(function(){return d})),n.d(e,"__values",(function(){return f})),n.d(e,"__read",(function(){return p})),n.d(e,"__spread",(function(){return g})),n.d(e,"__spreadArrays",(function(){return v})),n.d(e,"__await",(function(){return m})),n.d(e,"__asyncGenerator",(function(){return y})),n.d(e,"__asyncDelegator",(function(){return b})),n.d(e,"__asyncValues",(function(){return x})),n.d(e,"__makeTemplateObject",(function(){return w})),n.d(e,"__importStar",(function(){return S})),n.d(e,"__importDefault",(function(){return A})),n.d(e,"__classPrivateFieldGet",(function(){return E})),n.d(e,"__classPrivateFieldSet",(function(){return k}));var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function r(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}function a(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function l(t,e){return function(n,i){e(n,i,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function u(t,e,n,i){return new(n||(n=Promise))((function(r,o){function s(t){try{l(i.next(t))}catch(e){o(e)}}function a(t){try{l(i.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((i=i.apply(t,e||[])).next())}))}function h(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function d(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function f(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s}function g(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function v(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i}function m(t){return this instanceof m?(this.v=t,this):new m(t)}function y(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(t){r[t]&&(i[t]=function(e){return new Promise((function(n,i){o.push([t,e,n,i])>1||a(t,e)}))})}function a(t,e){try{(n=r[t](e)).value instanceof m?Promise.resolve(n.value.v).then(l,c):u(o[0][2],n)}catch(i){u(o[0][3],i)}var n}function l(t){a("next",t)}function c(t){a("throw",t)}function u(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function b(t){var e,n;return e={},i("next"),i("throw",(function(t){throw t})),i("return"),e[Symbol.iterator]=function(){return this},e;function i(i,r){e[i]=t[i]?function(e){return(n=!n)?{value:m(t[i](e)),done:"return"===i}:r?r(e):e}:r}}function x(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=f(t),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(n){e[n]=t[n]&&function(e){return new Promise((function(i,r){!function(t,e,n,i){Promise.resolve(i).then((function(e){t({value:e,done:n})}),e)}(i,r,(e=t[n](e)).done,e.value)}))}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function S(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function A(t){return t&&t.__esModule?t:{default:t}}function E(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function k(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"4SJn":function(t,e,n){"use strict";(function(t){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function s(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&function(t,e){(Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}(t,e)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var p,g,v=function(){function t(){r(this,t)}return s(t,[{key:"shadeRGBColor",value:function(t,e){var n=e.split(","),i=t<0?0:255,r=t<0?-1*t:t,o=parseInt(n[0].slice(4),10),s=parseInt(n[1],10),a=parseInt(n[2],10);return"rgb("+(Math.round((i-o)*r)+o)+","+(Math.round((i-s)*r)+s)+","+(Math.round((i-a)*r)+a)+")"}},{key:"shadeHexColor",value:function(t,e){var n=parseInt(e.slice(1),16),i=t<0?0:255,r=t<0?-1*t:t,o=n>>16,s=n>>8&255,a=255&n;return"#"+(16777216+65536*(Math.round((i-o)*r)+o)+256*(Math.round((i-s)*r)+s)+(Math.round((i-a)*r)+a)).toString(16).slice(1)}},{key:"shadeColor",value:function(e,n){return t.isColorHex(n)?this.shadeHexColor(e,n):this.shadeRGBColor(e,n)}}],[{key:"bind",value:function(t,e){return function(){return t.apply(e,arguments)}}},{key:"isObject",value:function(t){return t&&"object"===i(t)&&!Array.isArray(t)&&null!=t}},{key:"listToArray",value:function(t){var e,n=[];for(e=0;e<t.length;e++)n[e]=t[e];return n}},{key:"extend",value:function(t,e){var n=this;"function"!=typeof Object.assign&&(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])}return e});var i=Object.assign({},t);return this.isObject(t)&&this.isObject(e)&&Object.keys(e).forEach((function(r){n.isObject(e[r])&&r in t?i[r]=n.extend(t[r],e[r]):Object.assign(i,a({},r,e[r]))})),i}},{key:"extendArray",value:function(e,n){var i=[];return e.map((function(e){i.push(t.extend(n,e))})),i}},{key:"monthMod",value:function(t){return t%12}},{key:"clone",value:function(t){if("[object Array]"===Object.prototype.toString.call(t)){for(var e=[],n=0;n<t.length;n++)e[n]=this.clone(t[n]);return e}if("[object Null]"===Object.prototype.toString.call(t))return null;if("object"===i(t)){var r={};for(var o in t)t.hasOwnProperty(o)&&(r[o]=this.clone(t[o]));return r}return t}},{key:"log10",value:function(t){return Math.log(t)/Math.LN10}},{key:"roundToBase10",value:function(t){return Math.pow(10,Math.floor(Math.log10(t)))}},{key:"roundToBase",value:function(t,e){return Math.pow(e,Math.floor(Math.log(t)/Math.log(e)))}},{key:"parseNumber",value:function(t){return null===t?t:parseFloat(t)}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(t){var e=String(t).split(/[eE]/);if(1===e.length)return e[0];var n="",i=t<0?"-":"",r=e[0].replace(".",""),o=Number(e[1])+1;if(o<0){for(n=i+"0.";o++;)n+="0";return n+r.replace(/^-/,"")}for(o-=r.length;o--;)n+="0";return r+n}},{key:"getDimensions",value:function(t){var e=getComputedStyle(t),n=[],i=t.clientHeight,r=t.clientWidth;return i-=parseFloat(e.paddingTop)+parseFloat(e.paddingBottom),r-=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight),n.push(r),n.push(i),n}},{key:"getBoundingClientRect",value:function(t){var e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:t.clientWidth,height:t.clientHeight,x:e.left,y:e.top}}},{key:"getLargestStringFromArr",value:function(t){return t.reduce((function(t,e){return Array.isArray(e)&&(e=e.reduce((function(t,e){return t.length>e.length?t:e}))),t.length>e.length?t:e}),0)}},{key:"hexToRgba",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#999999",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.6;"#"!==t.substring(0,1)&&(t="#999999");var n=t.replace("#","");n=n.match(new RegExp("(.{"+n.length/3+"})","g"));for(var i=0;i<n.length;i++)n[i]=parseInt(1===n[i].length?n[i]+n[i]:n[i],16);return void 0!==e&&n.push(e),"rgba("+n.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(t){return parseFloat(t.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(t){return(t=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===t.length?"#"+("0"+parseInt(t[1],10).toString(16)).slice(-2)+("0"+parseInt(t[2],10).toString(16)).slice(-2)+("0"+parseInt(t[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(t)}},{key:"polarToCartesian",value:function(t,e,n,i){var r=(i-90)*Math.PI/180;return{x:t+n*Math.cos(r),y:e+n*Math.sin(r)}}},{key:"escapeString",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",n=t.toString().slice();return n.replace(/[` ~!@#$%^&*()_|+\-=?;:'",.<>{}[\]\\/]/gi,e)}},{key:"negToZero",value:function(t){return t<0?0:t}},{key:"moveIndexInArray",value:function(t,e,n){if(n>=t.length)for(var i=n-t.length+1;i--;)t.push(void 0);return t.splice(n,0,t.splice(e,1)[0]),t}},{key:"extractNumber",value:function(t){return parseFloat(t.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(t,e){for(;(t=t.parentElement)&&!t.classList.contains(e););return t}},{key:"setELstyles",value:function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t.style.key=e[n])}},{key:"isNumber",value:function(t){return!isNaN(t)&&parseFloat(Number(t))===t&&!isNaN(parseInt(t,10))}},{key:"isFloat",value:function(t){return Number(t)===t&&t%1!=0}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"isFirefox",value:function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1}},{key:"isIE11",value:function(){if(-1!==window.navigator.userAgent.indexOf("MSIE")||window.navigator.appVersion.indexOf("Trident/")>-1)return!0}},{key:"isIE",value:function(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);if(t.indexOf("Trident/")>0){var n=t.indexOf("rv:");return parseInt(t.substring(n+3,t.indexOf(".",n)),10)}var i=t.indexOf("Edge/");return i>0&&parseInt(t.substring(i+5,t.indexOf(".",i)),10)}}]),t}(),m=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w}return s(t,[{key:"getDefaultFilter",value:function(t,e){var n=this.w;t.unfilter(!0),(new window.SVG.Filter).size("120%","180%","-5%","-40%"),"none"!==n.config.states.normal.filter?this.applyFilter(t,e,n.config.states.normal.filter.type,n.config.states.normal.filter.value):n.config.chart.dropShadow.enabled&&this.dropShadow(t,n.config.chart.dropShadow,e)}},{key:"addNormalFilter",value:function(t,e){var n=this.w;n.config.chart.dropShadow.enabled&&!t.node.classList.contains("apexcharts-marker")&&this.dropShadow(t,n.config.chart.dropShadow,e)}},{key:"addLightenFilter",value:function(t,e,n){var i=this,r=this.w,o=n.intensity;v.isFirefox()||(t.unfilter(!0),new window.SVG.Filter,t.filter((function(t){var n=r.config.chart.dropShadow;(n.enabled?i.addShadow(t,e,n):t).componentTransfer({rgb:{type:"linear",slope:1.5,intercept:o}})})),t.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(t.filterer.node))}},{key:"addDarkenFilter",value:function(t,e,n){var i=this,r=this.w,o=n.intensity;v.isFirefox()||(t.unfilter(!0),new window.SVG.Filter,t.filter((function(t){var n=r.config.chart.dropShadow;(n.enabled?i.addShadow(t,e,n):t).componentTransfer({rgb:{type:"linear",slope:o}})})),t.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(t.filterer.node))}},{key:"applyFilter",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;switch(n){case"none":this.addNormalFilter(t,e);break;case"lighten":this.addLightenFilter(t,e,{intensity:i});break;case"darken":this.addDarkenFilter(t,e,{intensity:i})}}},{key:"addShadow",value:function(t,e,n){var i=n.blur,r=n.top,o=n.left,s=n.color,a=n.opacity,l=t.flood(Array.isArray(s)?s[e]:s,a).composite(t.sourceAlpha,"in").offset(o,r).gaussianBlur(i).merge(t.source);return t.blend(t.source,l)}},{key:"dropShadow",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=e.top,r=e.left,o=e.blur,s=e.color,a=e.opacity,l=e.noUserSpaceOnUse,c=this.w;return t.unfilter(!0),v.isIE()&&"radialBar"===c.config.chart.type?t:(s=Array.isArray(s)?s[n]:s,t.filter((function(t){var e;e=v.isSafari()||v.isFirefox()||v.isIE()?t.flood(s,a).composite(t.sourceAlpha,"in").offset(r,i).gaussianBlur(o):t.flood(s,a).composite(t.sourceAlpha,"in").offset(r,i).gaussianBlur(o).merge(t.source),t.blend(t.source,e)})),l||t.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(t.filterer.node),t)}},{key:"setSelectionFilter",value:function(t,e,n){var i=this.w;if(void 0!==i.globals.selectedDataPoints[e]&&i.globals.selectedDataPoints[e].indexOf(n)>-1){t.node.setAttribute("selected",!0);var r=i.config.states.active.filter;"none"!==r&&this.applyFilter(t,e,r.type,r.value)}}},{key:"_scaleFilterSize",value:function(t){!function(e){for(var n in e)e.hasOwnProperty(n)&&t.setAttribute(n,e[n])}({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),t}(),y=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w,this.setEasingFunctions()}return s(t,[{key:"setEasingFunctions",value:function(){var t;if(!this.w.globals.easing){switch(this.w.config.chart.animations.easing){case"linear":t="-";break;case"easein":t="<";break;case"easeout":t=">";break;case"easeinout":t="<>";break;case"swing":t=function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1};break;case"bounce":t=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375};break;case"elastic":t=function(t){return t===!!t?t:Math.pow(2,-10*t)*Math.sin((t-.075)*(2*Math.PI)/.3)+1};break;default:t="<>"}this.w.globals.easing=t}}},{key:"animateLine",value:function(t,e,n,i){t.attr(e).animate(i).attr(n)}},{key:"animateCircleRadius",value:function(t,e,n,i,r,o){e||(e=0),t.attr({r:e}).animate(i,r).attr({r:n}).afterAll((function(){o()}))}},{key:"animateCircle",value:function(t,e,n,i,r){t.attr({r:e.r,cx:e.cx,cy:e.cy}).animate(i,r).attr({r:n.r,cx:n.cx,cy:n.cy})}},{key:"animateRect",value:function(t,e,n,i,r){t.attr(e).animate(i).attr(n).afterAll((function(){return r()}))}},{key:"animatePathsGradually",value:function(t){var e=this.w,n=0;e.config.chart.animations.animateGradually.enabled&&(n=e.config.chart.animations.animateGradually.delay),e.config.chart.animations.dynamicAnimation.enabled&&e.globals.dataChanged&&"bar"!==e.config.chart.type&&(n=0),this.morphSVG(t.el,t.realIndex,t.j,"line"!==e.config.chart.type||e.globals.comboCharts?t.fill:"stroke",t.pathFrom,t.pathTo,t.speed,t.delay*n)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach((function(t){t.el.classList.remove("apexcharts-element-hidden")}))}},{key:"animationCompleted",value:function(t){var e=this.w;e.globals.animationEnded||(e.globals.animationEnded=!0,this.showDelayedElements(),"function"==typeof e.config.chart.events.animationEnd&&e.config.chart.events.animationEnd(this.ctx,{el:t,w:e}))}},{key:"morphSVG",value:function(t,e,n,i,r,o,s,a){var l=this,c=this.w;r||(r=t.attr("pathFrom")),o||(o=t.attr("pathTo"));var u=function(t){return"radar"===c.config.chart.type&&(s=1),"M 0 ".concat(c.globals.gridHeight)};(!r||r.indexOf("undefined")>-1||r.indexOf("NaN")>-1)&&(r=u()),(o.indexOf("undefined")>-1||o.indexOf("NaN")>-1)&&(o=u()),c.globals.shouldAnimate||(s=1),t.plot(r).animate(1,c.globals.easing,a).plot(r).animate(s,c.globals.easing,a).plot(o).afterAll((function(){v.isNumber(n)?n===c.globals.series[c.globals.maxValsInArrayIndex].length-2&&c.globals.shouldAnimate&&l.animationCompleted(t):"none"!==i&&c.globals.shouldAnimate&&(!c.globals.comboCharts&&e===c.globals.series.length-1||c.globals.comboCharts)&&l.animationCompleted(t),l.showDelayedElements()}))}}]),t}(),b=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w}return s(t,[{key:"drawLine",value:function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#a8a8a8",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=this.w,l=a.globals.dom.Paper.line().attr({x1:t,y1:e,x2:n,y2:i,stroke:r,"stroke-dasharray":o,"stroke-width":s});return l}},{key:"drawRect",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"#fefefe",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,u=this.w,h=u.globals.dom.Paper.rect();return h.attr({x:t,y:e,width:n>0?n:0,height:i>0?i:0,rx:r,ry:r,opacity:s,"stroke-width":null!==a?a:0,stroke:null!==l?l:"none","stroke-dasharray":c}),h.node.setAttribute("fill",o),h}},{key:"drawPolygon",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#e1e1e1",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none",r=this.w,o=r.globals.dom.Paper.polygon(t).attr({fill:i,stroke:e,"stroke-width":n});return o}},{key:"drawCircle",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.w,i=n.globals.dom.Paper.circle(2*t);return null!==e&&i.attr(e),i}},{key:"drawPath",value:function(t){var e=t.d,n=void 0===e?"":e,i=t.stroke,r=void 0===i?"#a8a8a8":i,o=t.strokeWidth,s=void 0===o?1:o,a=t.fill,l=t.fillOpacity,c=void 0===l?1:l,u=t.strokeOpacity,h=void 0===u?1:u,d=t.classes,f=t.strokeLinecap,p=void 0===f?null:f,g=t.strokeDashArray,v=void 0===g?0:g,m=this.w;return null===p&&(p=m.config.stroke.lineCap),(n.indexOf("undefined")>-1||n.indexOf("NaN")>-1)&&(n="M 0 ".concat(m.globals.gridHeight)),m.globals.dom.Paper.path(n).attr({fill:a,"fill-opacity":c,stroke:r,"stroke-opacity":h,"stroke-linecap":p,"stroke-width":s,"stroke-dasharray":v,class:d})}},{key:"group",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.w,n=e.globals.dom.Paper.group();return null!==t&&n.attr(t),n}},{key:"move",value:function(t,e){return["M",t,e].join(" ")}},{key:"line",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=null;return null===n?i=["L",t,e].join(" "):"H"===n?i=["H",t].join(" "):"V"===n&&(i=["V",e].join(" ")),i}},{key:"curve",value:function(t,e,n,i,r,o){return["C",t,e,n,i,r,o].join(" ")}},{key:"quadraticCurve",value:function(t,e,n,i){return["Q",t,e,n,i].join(" ")}},{key:"arc",value:function(t,e,n,i,r,o,s){var a=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l="A";a&&(l="a");var c=[l,t,e,n,i,r,o,s].join(" ");return c}},{key:"renderPaths",value:function(t){var e,n=t.j,i=t.realIndex,r=t.pathFrom,o=t.pathTo,s=t.stroke,a=t.strokeWidth,l=t.strokeLinecap,u=t.fill,h=t.animationDelay,d=t.initialSpeed,f=t.dataChangeSpeed,p=t.className,g=t.shouldClipToGrid,v=void 0===g||g,b=t.bindEventsOnPaths,x=void 0===b||b,w=t.drawShadow,S=void 0===w||w,A=this.w,E=new m(this.ctx),k=new y(this.ctx),_=this.w.config.chart.animations.enabled,C=_&&this.w.config.chart.animations.dynamicAnimation.enabled,T=!!(_&&!A.globals.resized||C&&A.globals.dataChanged&&A.globals.shouldAnimate);T?e=r:(e=o,A.globals.animationEnded=!0);var I,N=A.config.stroke.dashArray;I=Array.isArray(N)?N[i]:A.config.stroke.dashArray;var P=this.drawPath({d:e,stroke:s,strokeWidth:a,fill:u,fillOpacity:1,classes:p,strokeLinecap:l,strokeDashArray:I});P.attr("index",i),v&&P.attr({"clip-path":"url(#gridRectMask".concat(A.globals.cuid,")")}),"none"!==A.config.states.normal.filter.type?E.getDefaultFilter(P,i):A.config.chart.dropShadow.enabled&&S&&(!A.config.chart.dropShadow.enabledOnSeries||A.config.chart.dropShadow.enabledOnSeries&&-1!==A.config.chart.dropShadow.enabledOnSeries.indexOf(i))&&E.dropShadow(P,A.config.chart.dropShadow,i),x&&(P.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,P)),P.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,P)),P.node.addEventListener("mousedown",this.pathMouseDown.bind(this,P))),P.attr({pathTo:o,pathFrom:r});var L={el:P,j:n,realIndex:i,pathFrom:r,pathTo:o,fill:u,strokeWidth:a,delay:h};return!_||A.globals.resized||A.globals.dataChanged?!A.globals.resized&&A.globals.dataChanged||k.showDelayedElements():k.animatePathsGradually(c({},L,{speed:d})),A.globals.dataChanged&&C&&T&&k.animatePathsGradually(c({},L,{speed:f})),P}},{key:"drawPattern",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#a8a8a8",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=this.w,s=o.globals.dom.Paper.pattern(e,n,(function(o){"horizontalLines"===t?o.line(0,0,n,0).stroke({color:i,width:r+1}):"verticalLines"===t?o.line(0,0,0,e).stroke({color:i,width:r+1}):"slantedLines"===t?o.line(0,0,e,n).stroke({color:i,width:r}):"squares"===t?o.rect(e,n).fill("none").stroke({color:i,width:r}):"circles"===t&&o.circle(e).fill("none").stroke({color:i,width:r})}));return s}},{key:"drawGradient",value:function(t,e,n,i,r){var o,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,u=this.w;e.length<9&&0===e.indexOf("#")&&(e=v.hexToRgba(e,i)),n.length<9&&0===n.indexOf("#")&&(n=v.hexToRgba(n,r));var h=0,d=1,f=1,p=null;null!==a&&(h=void 0!==a[0]?a[0]/100:0,d=void 0!==a[1]?a[1]/100:1,f=void 0!==a[2]?a[2]/100:1,p=void 0!==a[3]?a[3]/100:null);var g=!("donut"!==u.config.chart.type&&"pie"!==u.config.chart.type&&"polarArea"!==u.config.chart.type&&"bubble"!==u.config.chart.type);if(o=u.globals.dom.Paper.gradient(g?"radial":"linear",null===l||0===l.length?function(t){t.at(h,e,i),t.at(d,n,r),t.at(f,n,r),null!==p&&t.at(p,e,i)}:function(t){(Array.isArray(l[c])?l[c]:l).forEach((function(e){t.at(e.offset/100,e.color,e.opacity)}))}),g){var m=u.globals.gridWidth/2,y=u.globals.gridHeight/2;o.attr("bubble"!==u.config.chart.type?{gradientUnits:"userSpaceOnUse",cx:m,cy:y,r:s}:{cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else"vertical"===t?o.from(0,0).to(0,1):"diagonal"===t?o.from(0,0).to(1,1):"horizontal"===t?o.from(0,1).to(1,1):"diagonal2"===t&&o.from(1,0).to(0,1);return o}},{key:"drawText",value:function(t){var e,n=t.x,i=t.y,r=t.text,o=t.textAnchor,s=t.fontSize,a=t.fontFamily,l=t.fontWeight,c=t.foreColor,u=t.opacity,h=t.cssClass,d=void 0===h?"":h,f=t.isPlainText,p=void 0===f||f,g=this.w;return void 0===r&&(r=""),o||(o="start"),c&&c.length||(c=g.config.chart.foreColor),a=a||g.config.chart.fontFamily,l=l||"regular",(e=Array.isArray(r)?g.globals.dom.Paper.text((function(t){for(var e=0;e<r.length;e++)0===e?t.tspan(r[e]):t.tspan(r[e]).newLine()})):p?g.globals.dom.Paper.plain(r):g.globals.dom.Paper.text((function(t){return t.tspan(r)}))).attr({x:n,y:i,"text-anchor":o,"dominant-baseline":"auto","font-size":s,"font-family":a,"font-weight":l,fill:c,class:"apexcharts-text "+d}),e.node.style.fontFamily=a,e.node.style.opacity=u,e}},{key:"drawMarker",value:function(t,e,n){t=t||0;var i=n.pSize||0,r=null;if("square"===n.shape){var o=void 0===n.pRadius?i/2:n.pRadius;null!==e&&i||(i=0,o=0);var s=1.2*i+o,a=this.drawRect(s,s,s,s,o);a.attr({x:t-s/2,y:e-s/2,cx:t,cy:e,class:n.class?n.class:"",fill:n.pointFillColor,"fill-opacity":n.pointFillOpacity?n.pointFillOpacity:1,stroke:n.pointStrokeColor,"stroke-width":n.pWidth?n.pWidth:0,"stroke-opacity":n.pointStrokeOpacity?n.pointStrokeOpacity:1}),r=a}else"circle"!==n.shape&&n.shape||(v.isNumber(e)||(i=0,e=0),r=this.drawCircle(i,{cx:t,cy:e,class:n.class?n.class:"",stroke:n.pointStrokeColor,fill:n.pointFillColor,"fill-opacity":n.pointFillOpacity?n.pointFillOpacity:1,"stroke-width":n.pWidth?n.pWidth:0,"stroke-opacity":n.pointStrokeOpacity?n.pointStrokeOpacity:1}));return r}},{key:"pathMouseEnter",value:function(t,e){var n=this.w,i=new m(this.ctx),r=parseInt(t.node.getAttribute("index"),10),o=parseInt(t.node.getAttribute("j"),10);if("function"==typeof n.config.chart.events.dataPointMouseEnter&&n.config.chart.events.dataPointMouseEnter(e,this.ctx,{seriesIndex:r,dataPointIndex:o,w:n}),this.ctx.events.fireEvent("dataPointMouseEnter",[e,this.ctx,{seriesIndex:r,dataPointIndex:o,w:n}]),("none"===n.config.states.active.filter.type||"true"!==t.node.getAttribute("selected"))&&"none"!==n.config.states.hover.filter.type&&"none"!==n.config.states.active.filter.type&&!n.globals.isTouchDevice){var s=n.config.states.hover.filter;i.applyFilter(t,r,s.type,s.value)}}},{key:"pathMouseLeave",value:function(t,e){var n=this.w,i=new m(this.ctx),r=parseInt(t.node.getAttribute("index"),10),o=parseInt(t.node.getAttribute("j"),10);"function"==typeof n.config.chart.events.dataPointMouseLeave&&n.config.chart.events.dataPointMouseLeave(e,this.ctx,{seriesIndex:r,dataPointIndex:o,w:n}),this.ctx.events.fireEvent("dataPointMouseLeave",[e,this.ctx,{seriesIndex:r,dataPointIndex:o,w:n}]),"none"!==n.config.states.active.filter.type&&"true"===t.node.getAttribute("selected")||"none"!==n.config.states.hover.filter.type&&i.getDefaultFilter(t,r)}},{key:"pathMouseDown",value:function(t,e){var n=this.w,i=new m(this.ctx),r=parseInt(t.node.getAttribute("index"),10),o=parseInt(t.node.getAttribute("j"),10),s="false";if("true"===t.node.getAttribute("selected")){if(t.node.setAttribute("selected","false"),n.globals.selectedDataPoints[r].indexOf(o)>-1){var a=n.globals.selectedDataPoints[r].indexOf(o);n.globals.selectedDataPoints[r].splice(a,1)}}else{if(!n.config.states.active.allowMultipleDataPointsSelection&&n.globals.selectedDataPoints.length>0){n.globals.selectedDataPoints=[];var l=n.globals.dom.Paper.select(".apexcharts-series path").members,c=n.globals.dom.Paper.select(".apexcharts-series circle, .apexcharts-series rect").members,u=function(t){Array.prototype.forEach.call(t,(function(t){t.node.setAttribute("selected","false"),i.getDefaultFilter(t,r)}))};u(l),u(c)}t.node.setAttribute("selected","true"),s="true",void 0===n.globals.selectedDataPoints[r]&&(n.globals.selectedDataPoints[r]=[]),n.globals.selectedDataPoints[r].push(o)}if("true"===s){var h=n.config.states.active.filter;"none"!==h&&i.applyFilter(t,r,h.type,h.value)}else"none"!==n.config.states.active.filter.type&&i.getDefaultFilter(t,r);"function"==typeof n.config.chart.events.dataPointSelection&&n.config.chart.events.dataPointSelection(e,this.ctx,{selectedDataPoints:n.globals.selectedDataPoints,seriesIndex:r,dataPointIndex:o,w:n}),e&&this.ctx.events.fireEvent("dataPointSelection",[e,this.ctx,{selectedDataPoints:n.globals.selectedDataPoints,seriesIndex:r,dataPointIndex:o,w:n}])}},{key:"rotateAroundCenter",value:function(t){var e=t.getBBox();return{x:e.x+e.width/2,y:e.y+e.height/2}}},{key:"getTextRects",value:function(t,e,n,i){var r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=this.w,s=this.drawText({x:-200,y:-200,text:t,textAnchor:"start",fontSize:e,fontFamily:n,foreColor:"#fff",opacity:0});i&&s.attr("transform",i),o.globals.dom.Paper.add(s);var a=s.bbox();return r||(a=s.node.getBoundingClientRect()),s.remove(),{width:a.width,height:a.height}}},{key:"placeTextWithEllipsis",value:function(t,e,n){if("function"==typeof t.getComputedTextLength&&(t.textContent=e,e.length>0&&t.getComputedTextLength()>=n/.8)){for(var i=e.length-3;i>0;i-=3)if(t.getSubStringLength(0,i)<=n/.8)return void(t.textContent=e.substring(0,i)+"...");t.textContent="."}}}],[{key:"setAttrs",value:function(t,e){for(var n in e)e.hasOwnProperty(n)&&t.setAttribute(n,e[n])}}]),t}(),x=function(){function t(e){r(this,t),this.w=e.w,this.annoCtx=e}return s(t,[{key:"setOrientations",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.w;if("vertical"===t.label.orientation){var i=null!==e?e:0,r=n.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(i,"']"));if(null!==r){var o=r.getBoundingClientRect();r.setAttribute("x",parseFloat(r.getAttribute("x"))-o.height+4),r.setAttribute("y","top"===t.label.position?parseFloat(r.getAttribute("y"))+o.width:parseFloat(r.getAttribute("y"))-o.width);var s=this.annoCtx.graphics.rotateAroundCenter(r),a=s.x,l=s.y;r.setAttribute("transform","rotate(-90 ".concat(a," ").concat(l,")"))}}}},{key:"addBackgroundToAnno",value:function(t,e){var n=this.w;if(!e.label.text||e.label.text&&!e.label.text.trim())return null;var i=n.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),r=t.getBoundingClientRect(),o=e.label.style.padding.left,s=e.label.style.padding.right,a=e.label.style.padding.top,l=e.label.style.padding.bottom;"vertical"===e.label.orientation&&(a=e.label.style.padding.left,l=e.label.style.padding.right,o=e.label.style.padding.top,s=e.label.style.padding.bottom);var c=this.annoCtx.graphics.drawRect(r.left-i.left-o-n.globals.barPadForNumericAxis,r.top-i.top-a,r.width+o+s,r.height+a+l,e.label.borderRadius,e.label.style.background,1,e.label.borderWidth,e.label.borderColor,0);return e.id&&c.node.classList.add(e.id),c}},{key:"annotationsBackground",value:function(){var t=this,e=this.w,n=function(n,i,r){var o=e.globals.dom.baseEl.querySelector(".apexcharts-".concat(r,"-annotations .apexcharts-").concat(r,"-annotation-label[rel='").concat(i,"']"));if(o){var s=o.parentNode,a=t.addBackgroundToAnno(o,n);a&&s.insertBefore(a.node,o)}};e.config.annotations.xaxis.map((function(t,e){n(t,e,"xaxis")})),e.config.annotations.yaxis.map((function(t,e){n(t,e,"yaxis")})),e.config.annotations.points.map((function(t,e){n(t,e,"point")}))}},{key:"makeAnnotationDraggable",value:function(t,e,n){var i=this.w.config.annotations[e][n];t.draggable().on("dragend",(function(t){var e=t.target.getAttribute("x"),n=t.target.getAttribute("y"),r=t.target.getAttribute("cx"),o=t.target.getAttribute("cy");i.x=e,i.y=n,r&&o&&(i.x=r,i.y=o)})),t.node.addEventListener("mousedown",(function(e){e.stopPropagation(),t.selectize({pointSize:8,rotationPoint:!1,pointType:"rect"}),t.resize().on("resizedone",(function(t){var e=t.target.getAttribute("width"),n=t.target.getAttribute("height"),r=t.target.getAttribute("r");i.width=e,i.height=n,r&&(i.radius=r)}))}))}},{key:"getStringX",value:function(t){var e=this.w,n=t;e.config.xaxis.convertedCatToNumeric&&e.globals.categoryLabels.length&&(t=e.globals.categoryLabels.indexOf(t)+1);var i=e.globals.labels.indexOf(t),r=e.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child("+(i+1)+")");return r&&(n=parseFloat(r.getAttribute("x"))),n}}]),t}(),w=function(){function t(e){r(this,t),this.w=e.w,this.annoCtx=e,this.invertAxis=this.annoCtx.invertAxis}return s(t,[{key:"addXaxisAnnotation",value:function(t,e,n){var i=this.w,r=this.invertAxis?i.globals.minY:i.globals.minX,o=this.invertAxis?i.globals.maxY:i.globals.maxX,s=this.invertAxis?i.globals.yRange[0]:i.globals.xRange,a=(t.x-r)/(s/i.globals.gridWidth);this.annoCtx.inversedReversedAxis&&(a=(o-t.x)/(s/i.globals.gridWidth));var l=t.label.text;"category"!==i.config.xaxis.type&&!i.config.xaxis.convertedCatToNumeric||this.invertAxis||i.globals.dataFormatXNumeric||(a=this.annoCtx.helpers.getStringX(t.x));var c=t.strokeDashArray;if(v.isNumber(a)){if(null==t.x2){var u=this.annoCtx.graphics.drawLine(a+t.offsetX,0+t.offsetY,a+t.offsetX,i.globals.gridHeight+t.offsetY,t.borderColor,c,t.borderWidth);e.appendChild(u.node),t.id&&u.node.classList.add(t.id)}else{var h=(t.x2-r)/(s/i.globals.gridWidth);if(this.annoCtx.inversedReversedAxis&&(h=(o-t.x2)/(s/i.globals.gridWidth)),"category"!==i.config.xaxis.type&&!i.config.xaxis.convertedCatToNumeric||this.invertAxis||i.globals.dataFormatXNumeric||(h=this.annoCtx.helpers.getStringX(t.x2)),h<a){var d=a;a=h,h=d}var f=this.annoCtx.graphics.drawRect(a+t.offsetX,0+t.offsetY,h-a,i.globals.gridHeight+t.offsetY,0,t.fillColor,t.opacity,1,t.borderColor,c);f.node.classList.add("apexcharts-annotation-rect"),f.attr("clip-path","url(#gridRectMask".concat(i.globals.cuid,")")),e.appendChild(f.node),t.id&&f.node.classList.add(t.id)}var p="top"===t.label.position?4:i.globals.gridHeight,g=this.annoCtx.graphics.getTextRects(l,parseFloat(t.label.style.fontSize)),m=this.annoCtx.graphics.drawText({x:a+t.label.offsetX,y:p+t.label.offsetY-("vertical"===t.label.orientation?"top"===t.label.position?g.width/2-12:-g.width/2:0),text:l,textAnchor:t.label.textAnchor,fontSize:t.label.style.fontSize,fontFamily:t.label.style.fontFamily,fontWeight:t.label.style.fontWeight,foreColor:t.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(t.label.style.cssClass," ").concat(t.id?t.id:"")});m.attr({rel:n}),e.appendChild(m.node),this.annoCtx.helpers.setOrientations(t,n)}}},{key:"drawXAxisAnnotations",value:function(){var t=this,e=this.w,n=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return e.config.annotations.xaxis.map((function(e,i){t.addXaxisAnnotation(e,n.node,i)})),n}}]),t}(),S=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w}return s(t,[{key:"getStackedSeriesTotals",value:function(){var t=this.w,e=[];if(0===t.globals.series.length)return e;for(var n=0;n<t.globals.series[t.globals.maxValsInArrayIndex].length;n++){for(var i=0,r=0;r<t.globals.series.length;r++)void 0!==t.globals.series[r][n]&&(i+=t.globals.series[r][n]);e.push(i)}return t.globals.stackedSeriesTotals=e,e}},{key:"getSeriesTotalByIndex",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null===t?this.w.config.series.reduce((function(t,e){return t+e}),0):this.w.globals.series[t].reduce((function(t,e){return t+e}),0)}},{key:"isSeriesNull",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return 0===(null===t?this.w.config.series.filter((function(t){return null!==t})):this.w.config.series[t].data.filter((function(t){return null!==t}))).length}},{key:"seriesHaveSameValues",value:function(t){return this.w.globals.series[t].every((function(t,e,n){return t===n[0]}))}},{key:"getCategoryLabels",value:function(t){var e=this.w,n=t.slice();return e.config.xaxis.convertedCatToNumeric&&(n=t.map((function(t){return e.config.xaxis.labels.formatter(t-e.globals.minX+1)}))),n}},{key:"getLargestSeries",value:function(){var t=this.w;t.globals.maxValsInArrayIndex=t.globals.series.map((function(t){return t.length})).indexOf(Math.max.apply(Math,t.globals.series.map((function(t){return t.length}))))}},{key:"getLargestMarkerSize",value:function(){var t=this.w,e=0;return t.globals.markers.size.forEach((function(t){e=Math.max(e,t)})),t.globals.markers.largestSize=e,e}},{key:"getSeriesTotals",value:function(){var t=this.w;t.globals.seriesTotals=t.globals.series.map((function(t,e){var n=0;if(Array.isArray(t))for(var i=0;i<t.length;i++)n+=t[i];else n+=t;return n}))}},{key:"getSeriesTotalsXRange",value:function(t,e){var n=this.w;return n.globals.series.map((function(i,r){for(var o=0,s=0;s<i.length;s++)n.globals.seriesX[r][s]>t&&n.globals.seriesX[r][s]<e&&(o+=i[s]);return o}))}},{key:"getPercentSeries",value:function(){var t=this.w;t.globals.seriesPercent=t.globals.series.map((function(e,n){var i=[];if(Array.isArray(e))for(var r=0;r<e.length;r++){var o=t.globals.stackedSeriesTotals[r],s=0;o&&(s=100*e[r]/o),i.push(s)}else{var a=100*e/t.globals.seriesTotals.reduce((function(t,e){return t+e}),0);i.push(a)}return i}))}},{key:"getCalculatedRatios",value:function(){var t,e,n,i,r=this.w.globals,o=[],s=0,a=[],l=.1,c=0;if(r.yRange=[],r.isMultipleYAxis)for(var u=0;u<r.minYArr.length;u++)r.yRange.push(Math.abs(r.minYArr[u]-r.maxYArr[u])),a.push(0);else r.yRange.push(Math.abs(r.minY-r.maxY));r.xRange=Math.abs(r.maxX-r.minX),r.zRange=Math.abs(r.maxZ-r.minZ);for(var h=0;h<r.yRange.length;h++)o.push(r.yRange[h]/r.gridHeight);if(e=r.xRange/r.gridWidth,n=Math.abs(r.initialMaxX-r.initialMinX)/r.gridWidth,t=r.yRange/r.gridWidth,i=r.xRange/r.gridHeight,(s=r.zRange/r.gridHeight*16)||(s=1),r.minY!==Number.MIN_VALUE&&0!==Math.abs(r.minY)&&(r.hasNegs=!0),r.isMultipleYAxis){a=[];for(var d=0;d<o.length;d++)a.push(-r.minYArr[d]/o[d])}else a.push(-r.minY/o[0]),r.minY!==Number.MIN_VALUE&&0!==Math.abs(r.minY)&&(l=-r.minY/t,c=r.minX/e);return{yRatio:o,invertedYRatio:t,zRatio:s,xRatio:e,initialXRatio:n,invertedXRatio:i,baseLineInvertedY:l,baseLineY:a,baseLineX:c}}},{key:"getLogSeries",value:function(t){var e=this,n=this.w;return n.globals.seriesLog=t.map((function(t,i){return n.config.yaxis[i]&&n.config.yaxis[i].logarithmic?t.map((function(t){return null===t?null:e.getLogVal(t,i)})):t})),n.globals.invalidLogScale?t:n.globals.seriesLog}},{key:"getLogVal",value:function(t,e){var n=this.w;return(Math.log(t)-Math.log(n.globals.minYArr[e]))/(Math.log(n.globals.maxYArr[e])-Math.log(n.globals.minYArr[e]))}},{key:"getLogYRatios",value:function(t){var e=this,n=this.w,i=this.w.globals;return i.yLogRatio=t.slice(),i.logYRange=i.yRange.map((function(t,r){if(n.config.yaxis[r]&&e.w.config.yaxis[r].logarithmic){var o,s=-Number.MAX_VALUE,a=Number.MIN_VALUE;return i.seriesLog.forEach((function(t,e){t.forEach((function(t){n.config.yaxis[e]&&n.config.yaxis[e].logarithmic&&(s=Math.max(t,s),a=Math.min(t,a))}))})),o=Math.pow(i.yRange[r],Math.abs(a-s)/i.yRange[r]),i.yLogRatio[r]=o/i.gridHeight,o}})),i.invalidLogScale?t.slice():i.yLogRatio}}],[{key:"checkComboSeries",value:function(t){var e=!1,n=0;return t.length&&void 0!==t[0].type&&(e=!0,t.forEach((function(t){"bar"!==t.type&&"column"!==t.type&&"candlestick"!==t.type||n++}))),{comboBarCount:n,comboCharts:e}}},{key:"extendArrayProps",value:function(t,e,n){return e.yaxis&&(e=t.extendYAxis(e,n)),e.annotations&&(e.annotations.yaxis&&(e=t.extendYAxisAnnotations(e)),e.annotations.xaxis&&(e=t.extendXAxisAnnotations(e)),e.annotations.points&&(e=t.extendPointAnnotations(e))),e}}]),t}(),A=function(){function t(e){r(this,t),this.w=e.w,this.annoCtx=e}return s(t,[{key:"addYaxisAnnotation",value:function(t,e,n){var i,r=this.w,o=t.strokeDashArray,s=this._getY1Y2("y1",t),a=t.label.text;if(null==t.y2){var l=this.annoCtx.graphics.drawLine(0+t.offsetX,s+t.offsetY,r.globals.gridWidth+t.offsetX,s+t.offsetY,t.borderColor,o,t.borderWidth);e.appendChild(l.node),t.id&&l.node.classList.add(t.id)}else{if((i=this._getY1Y2("y2",t))>s){var c=s;s=i,i=c}var u=this.annoCtx.graphics.drawRect(0+t.offsetX,i+t.offsetY,r.globals.gridWidth+t.offsetX,s-i,0,t.fillColor,t.opacity,1,t.borderColor,o);u.node.classList.add("apexcharts-annotation-rect"),u.attr("clip-path","url(#gridRectMask".concat(r.globals.cuid,")")),e.appendChild(u.node),t.id&&u.node.classList.add(t.id)}var h=this.annoCtx.graphics.drawText({x:("right"===t.label.position?r.globals.gridWidth:0)+t.label.offsetX,y:(i||s)+t.label.offsetY-3,text:a,textAnchor:t.label.textAnchor,fontSize:t.label.style.fontSize,fontFamily:t.label.style.fontFamily,fontWeight:t.label.style.fontWeight,foreColor:t.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(t.label.style.cssClass," ").concat(t.id?t.id:"")});h.attr({rel:n}),e.appendChild(h.node)}},{key:"_getY1Y2",value:function(t,e){var n,i="y1"===t?e.y:e.y2,r=this.w;if(this.annoCtx.invertAxis){var o=r.globals.labels.indexOf(i);r.config.xaxis.convertedCatToNumeric&&(o=r.globals.categoryLabels.indexOf(i));var s=r.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child("+(o+1)+")");s&&(n=parseFloat(s.getAttribute("y")))}else{var a;a=r.config.yaxis[e.yAxisIndex].logarithmic?(i=new S(this.annoCtx.ctx).getLogVal(i,e.yAxisIndex))/r.globals.yLogRatio[e.yAxisIndex]:(i-r.globals.minYArr[e.yAxisIndex])/(r.globals.yRange[e.yAxisIndex]/r.globals.gridHeight),n=r.globals.gridHeight-a,r.config.yaxis[e.yAxisIndex]&&r.config.yaxis[e.yAxisIndex].reversed&&(n=a)}return n}},{key:"drawYAxisAnnotations",value:function(){var t=this,e=this.w,n=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return e.config.annotations.yaxis.map((function(e,i){t.addYaxisAnnotation(e,n.node,i)})),n}}]),t}(),E=function(){function t(e){r(this,t),this.w=e.w,this.annoCtx=e}return s(t,[{key:"addPointAnnotation",value:function(t,e,n){var i=this.w,r=0,o=0,s=0;this.annoCtx.invertAxis&&console.warn("Point annotation is not supported in horizontal bar charts.");var a,l=parseFloat(t.y);if("string"==typeof t.x){var c=i.globals.labels.indexOf(t.x);i.config.xaxis.convertedCatToNumeric&&(c=i.globals.categoryLabels.indexOf(t.x)),r=this.annoCtx.helpers.getStringX(t.x),null===t.y&&(l=i.globals.series[t.seriesIndex][c])}else r=(t.x-i.globals.minX)/(i.globals.xRange/i.globals.gridWidth);if(a=i.config.yaxis[t.yAxisIndex].logarithmic?(l=new S(this.annoCtx.ctx).getLogVal(l,t.yAxisIndex))/i.globals.yLogRatio[t.yAxisIndex]:(l-i.globals.minYArr[t.yAxisIndex])/(i.globals.yRange[t.yAxisIndex]/i.globals.gridHeight),o=i.globals.gridHeight-a-parseFloat(t.label.style.fontSize)-t.marker.size,s=i.globals.gridHeight-a,i.config.yaxis[t.yAxisIndex]&&i.config.yaxis[t.yAxisIndex].reversed&&(o=a+parseFloat(t.label.style.fontSize)+t.marker.size,s=a),v.isNumber(r)){var u={pSize:t.marker.size,pWidth:t.marker.strokeWidth,pointFillColor:t.marker.fillColor,pointStrokeColor:t.marker.strokeColor,shape:t.marker.shape,pRadius:t.marker.radius,class:"apexcharts-point-annotation-marker ".concat(t.marker.cssClass," ").concat(t.id?t.id:"")},h=this.annoCtx.graphics.drawMarker(r+t.marker.offsetX,s+t.marker.offsetY,u);e.appendChild(h.node);var d=this.annoCtx.graphics.drawText({x:r+t.label.offsetX,y:o+t.label.offsetY,text:t.label.text?t.label.text:"",textAnchor:t.label.textAnchor,fontSize:t.label.style.fontSize,fontFamily:t.label.style.fontFamily,fontWeight:t.label.style.fontWeight,foreColor:t.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(t.label.style.cssClass," ").concat(t.id?t.id:"")});if(d.attr({rel:n}),e.appendChild(d.node),t.customSVG.SVG){var f=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+t.customSVG.cssClass});f.attr({transform:"translate(".concat(r+t.customSVG.offsetX,", ").concat(o+t.customSVG.offsetY,")")}),f.node.innerHTML=t.customSVG.SVG,e.appendChild(f.node)}if(t.image.path){var p=t.image.width?t.image.width:20,g=t.image.height?t.image.height:20;this.annoCtx.addImage({x:r+t.image.offsetX-p/2,y:o+t.image.offsetY-g/2,width:p,height:g,path:t.image.path,appendTo:".apexcharts-point-annotations"})}}}},{key:"drawPointAnnotations",value:function(){var t=this,e=this.w,n=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return e.config.annotations.points.map((function(e,i){t.addPointAnnotation(e,n.node,i)})),n}}]),t}(),k={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},_=function(){function t(){r(this,t),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,tickAmount:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={x:0,y:null,yAxisIndex:0,seriesIndex:0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,radius:2,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2},this.shape={x:0,y:0,type:"rect",width:"100%",height:50,appendTo:".apexcharts-annotations",backgroundColor:"#fff",opacity:1,borderWidth:0,borderRadius:4,borderColor:"#c2c2c2"}}return s(t,[{key:"init",value:function(){return{annotations:{position:"front",yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"transparent",locales:[k],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.35},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,zoomed:void 0,scrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,id:void 0,group:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0},stacked:!1,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,startingShape:"flat",endingShape:"flat",rangeBarOverlap:!0,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal"}},bubble:{minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(t){return t}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(t){return t+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(t){return t.globals.seriesTotals.reduce((function(t,e){return t+e}),0)/t.globals.series.length+"%"}}}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(t){return t}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(t){return t}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(t){return t.globals.seriesTotals.reduce((function(t,e){return t+e}),0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(t){return null!==t?t:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,labels:{colors:void 0,useSeriesColors:!1},markers:{width:12,height:12,strokeWidth:0,fillColors:void 0,strokeColor:"#fff",radius:12,customHTML:void 0,offsetX:0,offsetY:0,onClick:void 0},itemMargin:{horizontal:5,vertical:2},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",radius:2,offsetX:0,offsetY:0,onClick:void 0,onDblClick:void 0,showNullDataPoints:!0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{normal:{filter:{type:"none",value:0}},hover:{filter:{type:"lighten",value:.15}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken",value:.65}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(t){return t}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,sorted:!1,offsetX:0,offsetY:0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss"}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.4}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"light",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),t}(),C=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w,this.graphics=new b(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new x(this),this.xAxisAnnotations=new w(this),this.yAxisAnnotations=new A(this),this.pointsAnnotations=new E(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return s(t,[{key:"drawAxesAnnotations",value:function(){var t=this.w;if(t.globals.axisCharts){for(var e=this.yAxisAnnotations.drawYAxisAnnotations(),n=this.xAxisAnnotations.drawXAxisAnnotations(),i=this.pointsAnnotations.drawPointAnnotations(),r=t.config.chart.animations.enabled,o=[e,n,i],s=[n.node,e.node,i.node],a=0;a<3;a++)t.globals.dom.elGraphical.add(o[a]),!r||t.globals.resized||t.globals.dataChanged||"scatter"!==t.config.chart.type&&"bubble"!==t.config.chart.type&&t.globals.dataPoints>1&&s[a].classList.add("apexcharts-element-hidden"),t.globals.delayedElements.push({el:s[a],index:0});this.helpers.annotationsBackground()}}},{key:"drawShapeAnnos",value:function(){var t=this;this.w.config.annotations.shapes.map((function(e,n){t.addShape(e,n)}))}},{key:"drawImageAnnos",value:function(){var t=this;this.w.config.annotations.images.map((function(e,n){t.addImage(e,n)}))}},{key:"drawTextAnnos",value:function(){var t=this;this.w.config.annotations.texts.map((function(e,n){t.addText(e,n)}))}},{key:"addXaxisAnnotation",value:function(t,e,n){this.xAxisAnnotations.addXaxisAnnotation(t,e,n)}},{key:"addYaxisAnnotation",value:function(t,e,n){this.yAxisAnnotations.addYaxisAnnotation(t,e,n)}},{key:"addPointAnnotation",value:function(t,e,n){this.pointsAnnotations.addPointAnnotation(t,e,n)}},{key:"addText",value:function(t,e){var n=t.text,i=t.backgroundColor,r=t.borderWidth,o=t.strokeDashArray,s=t.borderRadius,a=t.borderColor,l=t.appendTo,c=void 0===l?".apexcharts-annotations":l,u=t.paddingLeft,h=void 0===u?4:u,d=t.paddingRight,f=void 0===d?4:d,p=t.paddingBottom,g=void 0===p?2:p,v=t.paddingTop,m=void 0===v?2:v,y=this.w,b=this.graphics.drawText({x:t.x,y:t.y,text:n,textAnchor:t.textAnchor||"start",fontSize:t.fontSize||"12px",fontWeight:t.fontWeight||"regular",fontFamily:t.fontFamily||y.config.chart.fontFamily,foreColor:t.foreColor||y.config.chart.foreColor,cssClass:t.cssClass}),x=y.globals.dom.baseEl.querySelector(c);x&&x.appendChild(b.node);var w=b.bbox();if(t.draggable&&this.helpers.makeAnnotationDraggable(b,"texts",e),n){var S=this.graphics.drawRect(w.x-h,w.y-m,w.width+h+f,w.height+g+m,s,i||"transparent",1,r,a,o);x.insertBefore(S.node,b.node)}}},{key:"addShape",value:function(t,e){var n={type:t.type,x:t.x||0,y:t.y||0,width:t.width||"100%",height:t.height||50,circleRadius:t.radius||25,backgroundColor:t.backgroundColor||"#fff",opacity:t.opacity||1,borderWidth:t.borderWidth||0,borderRadius:t.borderRadius||4,borderColor:t.borderColor||"#c2c2c2",appendTo:t.appendTo||".apexcharts-annotations"},i=this.w;String(n.width).indexOf("%")>-1&&(n.width=parseInt(n.width,10)*parseInt(i.globals.svgWidth,10)/100);var r=null;r="circle"===n.type?this.graphics.drawCircle(n.circleRadius,{fill:n.backgroundColor,stroke:n.borderColor,"stroke-width":n.borderWidth,opacity:n.opacity,cx:n.x,cy:n.y}):this.graphics.drawRect(n.x,n.y,n.width,n.height,n.borderRadius,n.backgroundColor,n.opacity,n.borderWidth,n.borderColor);var o=i.globals.dom.baseEl.querySelector(n.appendTo);o&&o.appendChild(r.node),t.draggable&&(this.helpers.makeAnnotationDraggable(r,"shapes",e),r.node.classList.add("apexcharts-resizable-element"))}},{key:"addImage",value:function(t,e){var n=this.w,i=t.x,r=void 0===i?0:i,o=t.y,s=void 0===o?0:o,a=t.width,l=void 0===a?20:a,c=t.height,u=void 0===c?20:c,h=t.appendTo,d=void 0===h?".apexcharts-annotations":h,f=n.globals.dom.Paper.image(t.path);f.size(l,u).move(r,s);var p=n.globals.dom.baseEl.querySelector(d);p&&p.appendChild(f.node),t.draggable&&(this.helpers.makeAnnotationDraggable(f,"images",e),f.node.classList.add("apexcharts-resizable-element"))}},{key:"addXaxisAnnotationExternal",value:function(t,e,n){return this.addAnnotationExternal({params:t,pushToMemory:e,context:n,type:"xaxis",contextMethod:n.addXaxisAnnotation}),n}},{key:"addYaxisAnnotationExternal",value:function(t,e,n){return this.addAnnotationExternal({params:t,pushToMemory:e,context:n,type:"yaxis",contextMethod:n.addYaxisAnnotation}),n}},{key:"addPointAnnotationExternal",value:function(t,e,n){return void 0===this.invertAxis&&(this.invertAxis=n.w.globals.isBarHorizontal),this.addAnnotationExternal({params:t,pushToMemory:e,context:n,type:"point",contextMethod:n.addPointAnnotation}),n}},{key:"addAnnotationExternal",value:function(t){var e=t.params,n=t.pushToMemory,i=t.context,r=t.type,o=t.contextMethod,s=i,a=s.w,l=a.globals.dom.baseEl.querySelector(".apexcharts-".concat(r,"-annotations")),c=l.childNodes.length+1,u=new _,h=Object.assign({},"xaxis"===r?u.xAxisAnnotation:"yaxis"===r?u.yAxisAnnotation:u.pointAnnotation),d=v.extend(h,e);switch(r){case"xaxis":this.addXaxisAnnotation(d,l,c);break;case"yaxis":this.addYaxisAnnotation(d,l,c);break;case"point":this.addPointAnnotation(d,l,c)}var f=a.globals.dom.baseEl.querySelector(".apexcharts-".concat(r,"-annotations .apexcharts-").concat(r,"-annotation-label[rel='").concat(c,"']")),p=this.helpers.addBackgroundToAnno(f,d);return p&&l.insertBefore(p.node,f),n&&a.globals.memory.methodsToExec.push({context:s,id:d.id?d.id:v.randomId(),method:o,label:"addAnnotation",params:e}),i}},{key:"clearAnnotations",value:function(t){var e=t.w,n=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations");e.globals.memory.methodsToExec.map((function(t,n){"addText"!==t.label&&"addAnnotation"!==t.label||e.globals.memory.methodsToExec.splice(n,1)})),n=v.listToArray(n),Array.prototype.forEach.call(n,(function(t){for(;t.firstChild;)t.removeChild(t.firstChild)}))}},{key:"removeAnnotation",value:function(t,e){var n=t.w,i=n.globals.dom.baseEl.querySelectorAll(".".concat(e));i&&(n.globals.memory.methodsToExec.map((function(t,i){t.id===e&&n.globals.memory.methodsToExec.splice(i,1)})),Array.prototype.forEach.call(i,(function(t){t.parentElement.removeChild(t)})))}}]),t}(),T=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w,this.opts=null,this.seriesIndex=0}return s(t,[{key:"clippedImgArea",value:function(t){var e=this.w,n=e.config,i=parseInt(e.globals.gridWidth,10),r=parseInt(e.globals.gridHeight,10),o=i>r?i:r,s=t.image,a=0,l=0;void 0===t.width&&void 0===t.height?void 0!==n.fill.image.width&&void 0!==n.fill.image.height?(a=n.fill.image.width+1,l=n.fill.image.height):(a=o+1,l=o):(a=t.width,l=t.height);var c=document.createElementNS(e.globals.SVGNS,"pattern");b.setAttrs(c,{id:t.patternID,patternUnits:t.patternUnits?t.patternUnits:"userSpaceOnUse",width:a+"px",height:l+"px"});var u=document.createElementNS(e.globals.SVGNS,"image");c.appendChild(u),u.setAttributeNS(window.SVG.xlink,"href",s),b.setAttrs(u,{x:0,y:0,preserveAspectRatio:"none",width:a+"px",height:l+"px"}),u.style.opacity=t.opacity,e.globals.dom.elDefs.node.appendChild(c)}},{key:"getSeriesIndex",value:function(t){var e=this.w;return this.seriesIndex=("bar"===e.config.chart.type||"rangeBar"===e.config.chart.type)&&e.config.plotOptions.bar.distributed||"heatmap"===e.config.chart.type?t.seriesNumber:t.seriesNumber%e.globals.series.length,this.seriesIndex}},{key:"fillPath",value:function(t){var e=this.w;this.opts=t;var n,i,r,o=this.w.config;this.seriesIndex=this.getSeriesIndex(t);var s=this.getFillColors()[this.seriesIndex];"function"==typeof s&&(s=s({seriesIndex:this.seriesIndex,dataPointIndex:t.dataPointIndex,value:t.value,w:e}));var a=this.getFillType(this.seriesIndex),l=Array.isArray(o.fill.opacity)?o.fill.opacity[this.seriesIndex]:o.fill.opacity,c=s;if(t.color&&(s=t.color),-1===s.indexOf("rgb")?s.length<9&&(c=v.hexToRgba(s,l)):s.indexOf("rgba")>-1&&(l=v.getOpacityFromRGBA(s)),t.opacity&&(l=t.opacity),"pattern"===a&&(i=this.handlePatternFill(i,s,l,c)),"gradient"===a&&(r=this.handleGradientFill(s,l,this.seriesIndex)),"image"===a){var u=o.fill.image.src,h=t.patternID?t.patternID:"";this.clippedImgArea({opacity:l,image:Array.isArray(u)?t.seriesNumber<u.length?u[t.seriesNumber]:u[0]:u,width:t.width?t.width:void 0,height:t.height?t.height:void 0,patternUnits:t.patternUnits,patternID:"pattern".concat(e.globals.cuid).concat(t.seriesNumber+1).concat(h)}),n="url(#pattern".concat(e.globals.cuid).concat(t.seriesNumber+1).concat(h,")")}else n="gradient"===a?r:"pattern"===a?i:c;return t.solid&&(n=c),n}},{key:"getFillType",value:function(t){var e=this.w;return Array.isArray(e.config.fill.type)?e.config.fill.type[t]:e.config.fill.type}},{key:"getFillColors",value:function(){var t=this.w,e=t.config,n=this.opts,i=[];return t.globals.comboCharts?"line"===t.config.series[this.seriesIndex].type?t.globals.stroke.colors instanceof Array?i=t.globals.stroke.colors:i.push(t.globals.stroke.colors):t.globals.fill.colors instanceof Array?i=t.globals.fill.colors:i.push(t.globals.fill.colors):"line"===e.chart.type?t.globals.stroke.colors instanceof Array?i=t.globals.stroke.colors:i.push(t.globals.stroke.colors):t.globals.fill.colors instanceof Array?i=t.globals.fill.colors:i.push(t.globals.fill.colors),void 0!==n.fillColors&&(i=[],n.fillColors instanceof Array?i=n.fillColors.slice():i.push(n.fillColors)),i}},{key:"handlePatternFill",value:function(t,e,n,i){var r=this.w.config,o=this.opts,s=new b(this.ctx),a=void 0===r.fill.pattern.strokeWidth?Array.isArray(r.stroke.width)?r.stroke.width[this.seriesIndex]:r.stroke.width:Array.isArray(r.fill.pattern.strokeWidth)?r.fill.pattern.strokeWidth[this.seriesIndex]:r.fill.pattern.strokeWidth,l=e;return r.fill.pattern.style instanceof Array?void 0!==r.fill.pattern.style[o.seriesNumber]?s.drawPattern(r.fill.pattern.style[o.seriesNumber],r.fill.pattern.width,r.fill.pattern.height,l,a,n):i:s.drawPattern(r.fill.pattern.style,r.fill.pattern.width,r.fill.pattern.height,l,a,n)}},{key:"handleGradientFill",value:function(t,e,n){var i,r=this.w.config,o=this.opts,s=new b(this.ctx),a=new v,l=r.fill.gradient.type,c=t,u=void 0===r.fill.gradient.opacityFrom?e:Array.isArray(r.fill.gradient.opacityFrom)?r.fill.gradient.opacityFrom[n]:r.fill.gradient.opacityFrom;c.indexOf("rgba")>-1&&(u=v.getOpacityFromRGBA(c));var h=void 0===r.fill.gradient.opacityTo?e:Array.isArray(r.fill.gradient.opacityTo)?r.fill.gradient.opacityTo[n]:r.fill.gradient.opacityTo;if(void 0===r.fill.gradient.gradientToColors||0===r.fill.gradient.gradientToColors.length)i=a.shadeColor("dark"===r.fill.gradient.shade?-1*parseFloat(r.fill.gradient.shadeIntensity):parseFloat(r.fill.gradient.shadeIntensity),t.indexOf("rgb")>-1?v.rgb2hex(t):t);else{var d=r.fill.gradient.gradientToColors[o.seriesNumber];i=d,d.indexOf("rgba")>-1&&(h=v.getOpacityFromRGBA(d))}if(r.fill.gradient.inverseColors){var f=c;c=i,i=f}return c.indexOf("rgb")>-1&&(c=v.rgb2hex(c)),i.indexOf("rgb")>-1&&(i=v.rgb2hex(i)),s.drawGradient(l,c,i,u,h,o.size,r.fill.gradient.stops,r.fill.gradient.colorStops,n)}}]),t}(),I=function(){function t(e,n){r(this,t),this.ctx=e,this.w=e.w}return s(t,[{key:"setGlobalMarkerSize",value:function(){var t=this.w;if(t.globals.markers.size=Array.isArray(t.config.markers.size)?t.config.markers.size:[t.config.markers.size],t.globals.markers.size.length>0){if(t.globals.markers.size.length<t.globals.series.length+1)for(var e=0;e<=t.globals.series.length;e++)void 0===t.globals.markers.size[e]&&t.globals.markers.size.push(t.globals.markers.size[0])}else t.globals.markers.size=t.config.series.map((function(e){return t.config.markers.size}))}},{key:"plotChartMarkers",value:function(t,e,n,i){var r,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=this.w,a=e,l=t,c=null,u=new b(this.ctx);if((s.globals.markers.size[e]>0||o)&&(c=u.group({class:o?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(s.globals.cuid,")")),l.x instanceof Array)for(var h=0;h<l.x.length;h++){var d=n;1===n&&0===h&&(d=0),1===n&&1===h&&(d=1);var f="apexcharts-marker";"line"!==s.config.chart.type&&"area"!==s.config.chart.type||s.globals.comboCharts||s.config.tooltip.intersect||(f+=" no-pointer-events");var p=Array.isArray(s.config.markers.size)?s.globals.markers.size[e]>0:s.config.markers.size>0;if(p||o){v.isNumber(l.y[h])?f+=" w".concat(v.randomId()):f="apexcharts-nullpoint";var g=this.getMarkerConfig(f,e,d);s.config.series[a].data[n]&&(s.config.series[a].data[n].fillColor&&(g.pointFillColor=s.config.series[a].data[n].fillColor),s.config.series[a].data[n].strokeColor&&(g.pointStrokeColor=s.config.series[a].data[n].strokeColor)),i&&(g.pSize=i),(r=u.drawMarker(l.x[h],l.y[h],g)).attr("rel",d),r.attr("j",d),r.attr("index",e),r.node.setAttribute("default-marker-size",g.pSize);var y=new m(this.ctx);y.setSelectionFilter(r,e,d),this.addEvents(r),c&&c.add(r)}else void 0===s.globals.pointsArray[e]&&(s.globals.pointsArray[e]=[]),s.globals.pointsArray[e].push([l.x[h],l.y[h]])}return c}},{key:"getMarkerConfig",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=this.w,r=this.getMarkerStyle(e),o=i.globals.markers.size[e],s=i.config.markers;return null!==n&&s.discrete.length&&s.discrete.map((function(t){t.seriesIndex===e&&t.dataPointIndex===n&&(r.pointStrokeColor=t.strokeColor,r.pointFillColor=t.fillColor,o=t.size)})),{pSize:o,pRadius:s.radius,pWidth:s.strokeWidth instanceof Array?s.strokeWidth[e]:s.strokeWidth,pointStrokeColor:r.pointStrokeColor,pointFillColor:r.pointFillColor,shape:s.shape instanceof Array?s.shape[e]:s.shape,class:t,pointStrokeOpacity:s.strokeOpacity instanceof Array?s.strokeOpacity[e]:s.strokeOpacity,pointStrokeDashArray:s.strokeDashArray instanceof Array?s.strokeDashArray[e]:s.strokeDashArray,pointFillOpacity:s.fillOpacity instanceof Array?s.fillOpacity[e]:s.fillOpacity,seriesIndex:e}}},{key:"addEvents",value:function(t){var e=this.w,n=new b(this.ctx);t.node.addEventListener("mouseenter",n.pathMouseEnter.bind(this.ctx,t)),t.node.addEventListener("mouseleave",n.pathMouseLeave.bind(this.ctx,t)),t.node.addEventListener("mousedown",n.pathMouseDown.bind(this.ctx,t)),t.node.addEventListener("click",e.config.markers.onClick),t.node.addEventListener("dblclick",e.config.markers.onDblClick),t.node.addEventListener("touchstart",n.pathMouseDown.bind(this.ctx,t),{passive:!0})}},{key:"getMarkerStyle",value:function(t){var e=this.w,n=e.globals.markers.colors,i=e.config.markers.strokeColor||e.config.markers.strokeColors;return{pointStrokeColor:i instanceof Array?i[t]:i,pointFillColor:n instanceof Array?n[t]:n}}}]),t}(),N=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled}return s(t,[{key:"draw",value:function(t,e,n){var i=this.w,r=new b(this.ctx),o=n.realIndex,s=n.pointsPos,a=n.zRatio,l=n.elParent,c=r.group({class:"apexcharts-series-markers apexcharts-series-".concat(i.config.chart.type)});if(c.attr("clip-path","url(#gridRectMarkerMask".concat(i.globals.cuid,")")),s.x instanceof Array)for(var u=0;u<s.x.length;u++){var h=e+1,d=!0;0===e&&0===u&&(h=0),0===e&&1===u&&(h=1);var f=0,p=i.globals.markers.size[o];if(a!==1/0){p=i.globals.seriesZ[o][h]/a;var g=i.config.plotOptions.bubble;g.minBubbleRadius&&p<g.minBubbleRadius&&(p=g.minBubbleRadius),g.maxBubbleRadius&&p>g.maxBubbleRadius&&(p=g.maxBubbleRadius)}i.config.chart.animations.enabled||(f=p);var v=s.y[u];if(f=f||0,null!==v&&void 0!==i.globals.series[o][h]||(d=!1),d){var m=this.drawPoint(s.x[u],v,f,p,o,h,e);c.add(m)}l.add(c)}}},{key:"drawPoint",value:function(t,e,n,i,r,o,s){var a=this.w,l=r,c=new y(this.ctx),u=new m(this.ctx),h=new T(this.ctx),d=new I(this.ctx),f=new b(this.ctx),p=d.getMarkerConfig("apexcharts-marker",l),g=h.fillPath({seriesNumber:r,dataPointIndex:o,patternUnits:"objectBoundingBox",value:a.globals.series[r][s]}),v=f.drawCircle(n);if(a.config.series[l].data[o]&&a.config.series[l].data[o].fillColor&&(g=a.config.series[l].data[o].fillColor),v.attr({cx:t,cy:e,fill:g,stroke:p.pointStrokeColor,"stroke-width":p.pWidth,"stroke-dasharray":p.pointStrokeDashArray,"stroke-opacity":p.pointStrokeOpacity}),a.config.chart.dropShadow.enabled&&u.dropShadow(v,a.config.chart.dropShadow,r),this.initialAnim&&!a.globals.dataChanged){var x=1;a.globals.resized||(x=a.config.chart.animations.speed),c.animateCircleRadius(v,0,i,x,a.globals.easing,(function(){window.setTimeout((function(){c.animationCompleted(v)}),100)}))}if(a.globals.dataChanged)if(this.dynamicAnim){var w,S,A,E,k=a.config.chart.animations.dynamicAnimation.speed;null!=(E=a.globals.previousPaths[r]&&a.globals.previousPaths[r][s])&&(w=E.x,S=E.y,A=void 0!==E.r?E.r:i);for(var _=0;_<a.globals.collapsedSeries.length;_++)a.globals.collapsedSeries[_].index===r&&(k=1,i=0);0===t&&0===e&&(i=0),c.animateCircle(v,{cx:w,cy:S,r:A},{cx:t,cy:e,r:i},k,a.globals.easing)}else v.attr({r:i});return v.attr({rel:o,j:o,index:r,"default-marker-size":i}),u.setSelectionFilter(v,r,o),d.addEvents(v),v.node.classList.add("apexcharts-marker"),v}},{key:"centerTextInBubble",value:function(t){return{y:t+=parseInt(this.w.config.dataLabels.style.fontSize,10)/4}}}]),t}(),P=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w}return s(t,[{key:"dataLabelsCorrection",value:function(t,e,n,i,r,o,s){var a=this.w,l=!1,c=new b(this.ctx).getTextRects(n,s),u=c.width,h=c.height;if(void 0===a.globals.dataLabelsRects[i]&&(a.globals.dataLabelsRects[i]=[]),a.globals.dataLabelsRects[i].push({x:t,y:e,width:u,height:h}),void 0!==a.globals.dataLabelsRects[i][a.globals.dataLabelsRects[i].length-2]){var d=a.globals.dataLabelsRects[i][void 0!==a.globals.lastDrawnDataLabelsIndexes[i]?a.globals.lastDrawnDataLabelsIndexes[i][a.globals.lastDrawnDataLabelsIndexes[i].length-1]:0];(t>d.x+d.width+2||e>d.y+d.height+2||t+u<d.x)&&(l=!0)}return(0===r||o)&&(l=!0),{x:t,y:e,textRects:c,drawnextLabel:l}}},{key:"drawDataLabel",value:function(t,e,n){var i=this,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,o=this.w,s=new b(this.ctx),a=o.config.dataLabels,l=0,c=0,u=n,h=null;if(!a.enabled||t.x instanceof Array!=1)return h;h=s.group({class:"apexcharts-data-labels"});for(var d=0;d<t.x.length;d++)if(l=t.x[d]+a.offsetX,c=t.y[d]+a.offsetY+r,!isNaN(l)){1===n&&0===d&&(u=0),1===n&&1===d&&(u=1);var f=o.globals.series[e][u],p="",g=function(t){return o.config.dataLabels.formatter(t,{ctx:i.ctx,seriesIndex:e,dataPointIndex:u,w:o})};if("bubble"===o.config.chart.type){p=g(f=o.globals.seriesZ[e][u]),c=t.y[d];var v=new N(this.ctx),m=v.centerTextInBubble(c,e,u);c=m.y}else void 0!==f&&(p=g(f));this.plotDataLabelsText({x:l,y:c,text:p,i:e,j:u,parent:h,offsetCorrection:!0,dataLabelsConfig:o.config.dataLabels})}return h}},{key:"plotDataLabelsText",value:function(t){var e=this.w,n=new b(this.ctx),i=t.x,r=t.y,o=t.i,s=t.j,a=t.text,l=t.textAnchor,c=t.parent,u=t.dataLabelsConfig,h=t.color,d=t.alwaysDrawDataLabel,f=t.offsetCorrection;if(!(Array.isArray(e.config.dataLabels.enabledOnSeries)&&e.config.dataLabels.enabledOnSeries.indexOf(o)<0)){var p={x:i,y:r,drawnextLabel:!0};f&&(p=this.dataLabelsCorrection(i,r,a,o,s,d,parseInt(u.style.fontSize,10))),e.globals.zoomed||(i=p.x,r=p.y),p.textRects&&(i+p.textRects.width<-20||i>e.globals.gridWidth+20)&&(a="");var g=e.globals.dataLabels.style.colors[o];(("bar"===e.config.chart.type||"rangeBar"===e.config.chart.type)&&e.config.plotOptions.bar.distributed||e.config.dataLabels.distributed)&&(g=e.globals.dataLabels.style.colors[s]),h&&(g=h);var v=u.offsetX,y=u.offsetY;if("bar"!==e.config.chart.type&&"rangeBar"!==e.config.chart.type||(v=0,y=0),p.drawnextLabel){var x=n.drawText({width:100,height:parseInt(u.style.fontSize,10),x:i+v,y:r+y,foreColor:g,textAnchor:l||u.textAnchor,text:a,fontSize:u.style.fontSize,fontFamily:u.style.fontFamily,fontWeight:u.style.fontWeight||"normal"});if(x.attr({class:"apexcharts-datalabel",cx:i,cy:r}),u.dropShadow.enabled){var w=u.dropShadow;new m(this.ctx).dropShadow(x,w)}c.add(x),void 0===e.globals.lastDrawnDataLabelsIndexes[o]&&(e.globals.lastDrawnDataLabelsIndexes[o]=[]),e.globals.lastDrawnDataLabelsIndexes[o].push(s)}}}},{key:"addBackgroundToDataLabel",value:function(t,e){var n=this.w,i=n.config.dataLabels.background,r=i.padding,o=i.padding/2,s=e.width,a=e.height,l=new b(this.ctx).drawRect(e.x-r,e.y-o/2,s+2*r,a+o,i.borderRadius,"transparent"===n.config.chart.background?"#fff":n.config.chart.background,i.opacity,i.borderWidth,i.borderColor);return i.dropShadow.enabled&&new m(this.ctx).dropShadow(l,i.dropShadow),l}},{key:"dataLabelsBackground",value:function(){var t=this.w;if("bubble"!==t.config.chart.type)for(var e=t.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),n=0;n<e.length;n++){var i=e[n],r=i.getBBox(),o=null;if(r.width&&r.height&&(o=this.addBackgroundToDataLabel(i,r)),o){i.parentNode.insertBefore(o.node,i);var s=i.getAttribute("fill");!t.config.chart.animations.enabled||t.globals.resized||t.globals.dataChanged?o.attr({fill:s}):o.animate().attr({fill:s}),i.setAttribute("fill",t.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var t=this.w,e=t.globals.dom.baseEl.getElementsByClassName("apexcharts-datalabels"),n=t.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),i=0;i<e.length;i++)n&&n.insertBefore(e[i],n.nextSibling)}}]),t}(),L=function(){function t(e){r(this,t),this.w=e.w,this.barCtx=e}return s(t,[{key:"handleBarDataLabels",value:function(t){var e=t.x,n=t.y,i=t.y1,r=t.y2,o=t.i,s=t.j,a=t.realIndex,l=t.series,c=t.barHeight,u=t.barWidth,h=t.barYPosition,d=t.visibleSeries,f=t.renderedPath,p=this.w,g=new b(this.barCtx.ctx),v=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[a]:this.barCtx.strokeWidth,m=e+parseFloat(u*d),y=n+parseFloat(c*d);p.globals.isXNumeric&&!p.globals.isBarHorizontal&&(m=e+parseFloat(u*(d+1)),y=n+parseFloat(c*(d+1))-v);var x,w=e,S=n,A=p.config.dataLabels,E=this.barCtx.barOptions.dataLabels;void 0!==h&&this.barCtx.isTimelineBar&&(y=h,S=h);var k=A.offsetX,_=A.offsetY,C={width:0,height:0};if(p.config.dataLabels.enabled){var T=String(p.globals.minY).length>String(p.globals.maxY).length?p.globals.minY:p.globals.maxY;C=g.getTextRects(p.globals.yLabelFormatters[0](T),parseFloat(A.style.fontSize))}var I={x:e,y:n,i:o,j:s,renderedPath:f,bcx:m,bcy:y,barHeight:c,barWidth:u,textRects:C,strokeWidth:v,dataLabelsX:w,dataLabelsY:S,barDataLabelsConfig:E,offX:k,offY:_};return x=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(I):this.calculateColumnsDataLabelsPosition(I),f.attr({cy:x.bcy,cx:x.bcx,j:s,val:l[o][s],barHeight:c,barWidth:u}),this.drawCalculatedDataLabels({x:x.dataLabelsX,y:x.dataLabelsY,val:this.barCtx.isTimelineBar?[i,r]:l[o][s],i:a,j:s,barWidth:u,barHeight:c,textRects:C,dataLabelsConfig:A})}},{key:"calculateColumnsDataLabelsPosition",value:function(t){var e,n=this.w,i=t.i,r=t.j,o=t.y,s=t.bcx,a=t.barWidth,l=t.barHeight,c=t.textRects,u=t.dataLabelsY,h=t.barDataLabelsConfig,d=t.strokeWidth,f=t.offX,p=t.offY;l=Math.abs(l);var g="vertical"===n.config.plotOptions.bar.dataLabels.orientation;s-=d/2,e=n.globals.isXNumeric?s-a/2+f:s-n.globals.gridWidth/n.globals.dataPoints+a/2+f,g&&(e=e+c.height/2-d/2-2);var v=this.barCtx.series[i][r]<0,m=o;switch(this.barCtx.isReversed&&(m=o-l+(v?2*l:0),o-=l),h.position){case"center":u=g?v?m+l/2+p:m+l/2-p:v?m-l/2+c.height/2+p:m+l/2+c.height/2-p;break;case"bottom":u=g?v?m+l+p:m+l-p:v?m-l+c.height+d+p:m+l-c.height/2+d-p;break;case"top":u=g?v?m+p:m-p:v?m-c.height/2-p:m+c.height+p}return n.config.chart.stacked||(u<0?u=0+d:u+c.height/3>n.globals.gridHeight&&(u=n.globals.gridHeight-d)),{bcx:s,bcy:o,dataLabelsX:e,dataLabelsY:u}}},{key:"calculateBarsDataLabelsPosition",value:function(t){var e=this.w,n=t.x,i=t.i,r=t.j,o=t.bcy,s=t.barHeight,a=t.barWidth,l=t.textRects,c=t.dataLabelsX,u=t.strokeWidth,h=t.barDataLabelsConfig,d=t.offX,f=t.offY,p=e.globals.gridHeight/e.globals.dataPoints;a=Math.abs(a);var g=o-(this.barCtx.isTimelineBar?0:p)+s/2+l.height/2+f-3,v=this.barCtx.series[i][r]<0,m=n;switch(this.barCtx.isReversed&&(m=n+a-(v?2*a:0),n=e.globals.gridWidth-a),h.position){case"center":c=v?m+a/2-d:m-a/2+d;break;case"bottom":c=v?m+a-u-Math.round(l.width/2)-d:m-a+u+Math.round(l.width/2)+d;break;case"top":c=v?m-u+Math.round(l.width/2)-d:m-u-Math.round(l.width/2)+d}return e.config.chart.stacked||(c<0?c=c+l.width+u:c+l.width/2>e.globals.gridWidth&&(c=e.globals.gridWidth-l.width-u)),{bcx:n,bcy:o,dataLabelsX:c,dataLabelsY:g}}},{key:"drawCalculatedDataLabels",value:function(t){var e=t.x,n=t.y,i=t.val,r=t.i,o=t.j,s=t.textRects,a=t.barHeight,l=t.barWidth,u=t.dataLabelsConfig,h=this.w,d="rotate(0)";"vertical"===h.config.plotOptions.bar.dataLabels.orientation&&(d="rotate(-90, ".concat(e,", ").concat(n,")"));var f=new P(this.barCtx.ctx),p=new b(this.barCtx.ctx),g=u.formatter,v=null,m=h.globals.collapsedSeriesIndices.indexOf(r)>-1;if(u.enabled&&!m){v=p.group({class:"apexcharts-data-labels",transform:d});var y="";void 0!==i&&(y=g(i,{seriesIndex:r,dataPointIndex:o,w:h})),0===i&&h.config.chart.stacked&&(y="");var x=h.globals.series[r][o]<=0,w=h.config.plotOptions.bar.dataLabels.position;"vertical"===h.config.plotOptions.bar.dataLabels.orientation&&("top"===w&&(u.textAnchor=x?"end":"start"),"center"===w&&(u.textAnchor="middle"),"bottom"===w&&(u.textAnchor=x?"end":"start")),this.barCtx.isTimelineBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&l<p.getTextRects(y,parseFloat(u.style.fontSize)).width&&(y=""),h.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?((l=Math.abs(h.globals.series[r][o])/this.barCtx.invertedYRatio[this.barCtx.yaxisIndex])>0&&s.width/1.6>l||l<0&&s.width/1.6<l)&&(y=""):(a=Math.abs(h.globals.series[r][o])/this.barCtx.yRatio[this.barCtx.yaxisIndex],s.height/1.6>a&&(y="")));var S=c({},u);this.barCtx.isHorizontal&&i<0&&("start"===u.textAnchor?S.textAnchor="end":"end"===u.textAnchor&&(S.textAnchor="start")),f.plotDataLabelsText({x:e,y:n,text:y,i:r,j:o,parent:v,dataLabelsConfig:S,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return v}}]),t}(),O=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w,this.legendInactiveClass="legend-mouseover-inactive"}return s(t,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(t){return this.w.globals.dom.baseEl.querySelector("[seriesName='".concat(v.escapeString(t),"']"))}},{key:"isSeriesHidden",value:function(t){var e=this.getSeriesByName(t),n=parseInt(e.getAttribute("data:realIndex"),10);return{isHidden:e.classList.contains("apexcharts-series-collapsed"),realIndex:n}}},{key:"addCollapsedClassToSeries",value:function(t,e){var n=this.w;function i(n){for(var i=0;i<n.length;i++)n[i].index===e&&t.node.classList.add("apexcharts-series-collapsed")}i(n.globals.collapsedSeries),i(n.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(t){var e=this.isSeriesHidden(t);return this.ctx.legend.legendHelpers.toggleDataSeries(e.realIndex,e.isHidden),e.isHidden}},{key:"showSeries",value:function(t){var e=this.isSeriesHidden(t);e.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(e.realIndex,!0)}},{key:"hideSeries",value:function(t){var e=this.isSeriesHidden(t);e.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(e.realIndex,!1)}},{key:"resetSeries",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this.w,r=v.clone(i.globals.initialSeries);i.globals.previousPaths=[],n?(i.globals.collapsedSeries=[],i.globals.ancillaryCollapsedSeries=[],i.globals.collapsedSeriesIndices=[],i.globals.ancillaryCollapsedSeriesIndices=[]):r=this.emptyCollapsedSeries(r),i.config.series=r,t&&(e&&(i.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(r,i.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(t){for(var e=this.w,n=0;n<t.length;n++)e.globals.collapsedSeriesIndices.indexOf(n)>-1&&(t[n].data=[]);return t}},{key:"toggleSeriesOnHover",value:function(t,e){var n=this.w,i=n.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels");if("mousemove"===t.type){var r=parseInt(e.getAttribute("rel"),10)-1,o=null,s=null;n.globals.axisCharts||"radialBar"===n.config.chart.type?n.globals.axisCharts?(o=n.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(r,"']")),s=n.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(r,"']"))):o=n.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(r+1,"']")):o=n.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(r+1,"'] path"));for(var a=0;a<i.length;a++)i[a].classList.add(this.legendInactiveClass);null!==o&&(n.globals.axisCharts||o.parentNode.classList.remove(this.legendInactiveClass),o.classList.remove(this.legendInactiveClass),null!==s&&s.classList.remove(this.legendInactiveClass))}else if("mouseout"===t.type)for(var l=0;l<i.length;l++)i[l].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(t,e){var n=this,i=this.w,r=i.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),o=function(t){for(var e=0;e<r.length;e++)r[e].classList[t](n.legendInactiveClass)};if("mousemove"===t.type){var s=parseInt(e.getAttribute("rel"),10)-1;o("add"),function(t){for(var e=0;e<r.length;e++){var i=parseInt(r[e].getAttribute("val"),10);i>=t.from&&i<=t.to&&r[e].classList.remove(n.legendInactiveClass)}}(i.config.plotOptions.heatmap.colorScale.ranges[s])}else"mouseout"===t.type&&o("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.w,n=0;if(e.config.series.length>1)for(var i=e.config.series.map((function(n,i){var r=!1;return t&&(r="bar"===e.config.series[i].type||"column"===e.config.series[i].type),n.data&&n.data.length>0&&!r?i:-1})),r=0;r<i.length;r++)if(-1!==i[r]){n=i[r];break}return n}},{key:"getPreviousPaths",value:function(){var t=this.w;function e(e,n,i){for(var r=e[n].childNodes,o={type:i,paths:[],realIndex:e[n].getAttribute("data:realIndex")},s=0;s<r.length;s++)if(r[s].hasAttribute("pathTo")){var a=r[s].getAttribute("pathTo");o.paths.push({d:a})}t.globals.previousPaths.push(o)}t.globals.previousPaths=[],["line","area","bar","candlestick","radar"].forEach((function(n){for(var i=t.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(n,"-series .apexcharts-series")),r=0;r<i.length;r++)e(i,r,n)})),this.handlePrevBubbleScatterPaths("bubble"),this.handlePrevBubbleScatterPaths("scatter");var n=t.globals.dom.baseEl.querySelectorAll(".apexcharts-heatmap .apexcharts-series");if(n.length>0)for(var i=0;i<n.length;i++){for(var r=t.globals.dom.baseEl.querySelectorAll(".apexcharts-heatmap .apexcharts-series[data\\:realIndex='".concat(i,"'] rect")),o=[],s=0;s<r.length;s++)o.push({color:r[s].getAttribute("color")});t.globals.previousPaths.push(o)}t.globals.axisCharts||(t.globals.previousPaths=t.globals.series)}},{key:"handlePrevBubbleScatterPaths",value:function(t){var e=this.w,n=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(t,"-series .apexcharts-series"));if(n.length>0)for(var i=0;i<n.length;i++){for(var r=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(t,"-series .apexcharts-series[data\\:realIndex='").concat(i,"'] circle")),o=[],s=0;s<r.length;s++)o.push({x:r[s].getAttribute("cx"),y:r[s].getAttribute("cy"),r:r[s].getAttribute("r")});e.globals.previousPaths.push(o)}}},{key:"clearPreviousPaths",value:function(){var t=this.w;t.globals.previousPaths=[],t.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var t=this.w,e=t.config.noData,n=new b(this.ctx),i=t.globals.svgWidth/2,r=t.globals.svgHeight/2,o="middle";if(t.globals.noData=!0,t.globals.animationEnded=!0,"left"===e.align?(i=10,o="start"):"right"===e.align&&(i=t.globals.svgWidth-10,o="end"),"top"===e.verticalAlign?r=50:"bottom"===e.verticalAlign&&(r=t.globals.svgHeight-50),i+=e.offsetX,r=r+parseInt(e.style.fontSize,10)+2+e.offsetY,void 0!==e.text&&""!==e.text){var s=n.drawText({x:i,y:r,text:e.text,textAnchor:o,fontSize:e.style.fontSize,fontFamily:e.style.fontFamily,foreColor:e.style.color,opacity:1,class:"apexcharts-text-nodata"});t.globals.dom.Paper.add(s)}}},{key:"setNullSeriesToZeroValues",value:function(t){for(var e=this.w,n=0;n<t.length;n++)if(0===t[n].length)for(var i=0;i<t[e.globals.maxValsInArrayIndex].length;i++)t[n].push(0);return t}},{key:"hasAllSeriesEqualX",value:function(){for(var t=!0,e=this.w,n=this.filteredSeriesX(),i=0;i<n.length-1;i++)if(n[i][0]!==n[i+1][0]){t=!1;break}return e.globals.allSeriesHasEqualX=t,t}},{key:"filteredSeriesX",value:function(){return this.w.globals.seriesX.map((function(t){return t.length>0?t:[]}))}}]),t}(),D=function(){function t(e){r(this,t),this.w=e.w,this.barCtx=e}return s(t,[{key:"initVariables",value:function(t){var e=this.w;this.barCtx.series=t,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var n=0;n<t.length;n++)if(t[n].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=t[n].length),e.globals.isXNumeric)for(var i=0;i<t[n].length;i++)e.globals.seriesX[n][i]>e.globals.minX&&e.globals.seriesX[n][i]<e.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=e.globals.dataPoints;0===this.barCtx.seriesLen&&(this.barCtx.seriesLen=1)}},{key:"initialPositions",value:function(){var t,e,n,i,r,o,s,a,l=this.w,c=l.globals.dataPoints;if(this.barCtx.isTimelineBar&&(c=l.globals.labels.length),this.barCtx.isHorizontal)r=(n=l.globals.gridHeight/c)/this.barCtx.seriesLen,l.globals.isXNumeric&&(r=(n=l.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),r=r*parseInt(this.barCtx.barOptions.barHeight,10)/100,a=this.barCtx.baseLineInvertedY+l.globals.padHorizontal+(this.barCtx.isReversed?l.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),e=(n-r*this.barCtx.seriesLen)/2;else{if(i=l.globals.gridWidth/this.barCtx.visibleItems,l.config.xaxis.convertedCatToNumeric&&(i=l.globals.gridWidth/l.globals.dataPoints),o=i/this.barCtx.seriesLen*parseInt(this.barCtx.barOptions.columnWidth,10)/100,l.globals.isXNumeric){var u=this.barCtx.xRatio;l.config.xaxis.convertedCatToNumeric&&(u=this.barCtx.initialXRatio),l.globals.minXDiff&&.5!==l.globals.minXDiff&&l.globals.minXDiff/u>0&&(i=l.globals.minXDiff/u),(o=i/this.barCtx.seriesLen*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(o=1)}s=l.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.yaxisIndex]-(this.barCtx.isReversed?l.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.yaxisIndex]:0),t=l.globals.padHorizontal+(i-o*this.barCtx.seriesLen)/2}return{x:t,y:e,yDivision:n,xDivision:i,barHeight:r,barWidth:o,zeroH:s,zeroW:a}}},{key:"getPathFillColor",value:function(t,e,n,i){var r=this.w,o=new T(this.barCtx.ctx),s=null,a=this.barCtx.barOptions.distributed?n:e;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map((function(i){t[e][n]>=i.from&&t[e][n]<=i.to&&(s=i.color)})),r.config.series[e].data[n]&&r.config.series[e].data[n].fillColor&&(s=r.config.series[e].data[n].fillColor),o.fillPath({seriesNumber:this.barCtx.barOptions.distributed?a:i,dataPointIndex:n,color:s,value:t[e][n]})}},{key:"getStrokeWidth",value:function(t,e,n){var i=0,r=this.w;return this.barCtx.isNullValue=null==this.barCtx.series[t][e],r.config.stroke.show&&(this.barCtx.isNullValue||(i=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[n]:this.barCtx.strokeWidth)),i}},{key:"barBackground",value:function(t){var e=t.bc,n=t.i,i=t.x1,r=t.x2,o=t.y1,s=t.y2,a=t.elSeries,l=this.w,c=new b(this.barCtx.ctx),u=new O(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&u===n){e>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(e=0);var h=c.drawRect(void 0!==i?i:0,void 0!==o?o:0,void 0!==r?r:l.globals.gridWidth,void 0!==s?s:l.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,this.barCtx.barOptions.colors.backgroundBarColors[e],this.barCtx.barOptions.colors.backgroundBarOpacity);a.add(h),h.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(t){var e=t.barWidth,n=t.barXPosition,i=t.yRatio,r=t.y1,o=t.y2,s=t.strokeWidth,a=t.series,l=t.realIndex,c=t.i,u=t.j,h=t.w,d=new b(this.barCtx.ctx);(s=Array.isArray(s)?s[l]:s)||(s=0);var f=this.getRoundedBars(h,{barWidth:e,strokeWidth:s,yRatio:i,barXPosition:n,y1:r,y2:o},a,c,u),p=n,g=n+e,v=d.move(p,f.y1),m=d.move(p,f.y1);return h.globals.previousPaths.length>0&&(m=this.barCtx.getPreviousPath(l,u,!1)),{pathTo:v=v+d.line(p,f.y2)+f.endingPath+d.line(g-s,f.y2)+d.line(g-s,f.y1)+f.startingPath+"z",pathFrom:m=m+d.line(p,r)+d.line(g-s,r)+d.line(g-s,r)+d.line(g-s,r)+d.line(p,r)}}},{key:"getBarpaths",value:function(t){var e=t.barYPosition,n=t.barHeight,i=t.x1,r=t.x2,o=t.strokeWidth,s=t.series,a=t.realIndex,l=t.i,c=t.j,u=t.w,h=new b(this.barCtx.ctx);(o=Array.isArray(o)?o[a]:o)||(o=0);var d=this.getRoundedBars(u,{barHeight:n,strokeWidth:o,barYPosition:e,x2:r,x1:i},s,l,c),f=h.move(d.x1,e),p=h.move(d.x1,e);u.globals.previousPaths.length>0&&(p=this.barCtx.getPreviousPath(a,c,!1));var g=e,v=e+n;return{pathTo:f=f+h.line(d.x2,g)+d.endingPath+h.line(d.x2,v-o)+h.line(d.x1,v-o)+d.startingPath+"z",pathFrom:p=p+h.line(i,g)+h.line(i,v-o)+h.line(i,v-o)+h.line(i,v-o)+h.line(i,g)}}},{key:"getRoundedBars",value:function(t,e,n,i,r){var o=new b(this.barCtx.ctx),s=Array.isArray(e.strokeWidth)?e.strokeWidth[i]:e.strokeWidth;if(s||(s=0),this.barCtx.isHorizontal){var a=null,l="",c=e.x2,u=e.x1;if(void 0!==n[i][r]||null!==n[i][r]){var h=e.barHeight/2-s;switch(n[i][r]<0&&(h=-e.barHeight/2-s),h>Math.abs(c-u)&&(h=Math.abs(c-u)),"rounded"===this.barCtx.barOptions.endingShape&&(c=e.x2-h/2),"rounded"===this.barCtx.barOptions.startingShape&&(u=e.x1+h/2),this.barCtx.barOptions.endingShape){case"flat":a=o.line(c,e.barYPosition+e.barHeight-s);break;case"rounded":a=o.quadraticCurve(c+h,e.barYPosition+(e.barHeight-s)/2,c,e.barYPosition+e.barHeight-s)}switch(this.barCtx.barOptions.startingShape){case"flat":l=o.line(u,e.barYPosition+e.barHeight-s);break;case"rounded":l=o.quadraticCurve(u-h,e.barYPosition+e.barHeight/2,u,e.barYPosition)}}return{endingPath:a,startingPath:l,x2:c,x1:u}}var d=null,f="",p=e.y2,g=e.y1;if(void 0!==n[i][r]||null!==n[i][r]){var v=e.barWidth/2-s;switch(n[i][r]<0&&(v=-e.barWidth/2-s),v>Math.abs(p-g)&&(v=Math.abs(p-g)),"rounded"===this.barCtx.barOptions.endingShape&&(p+=v/2),"rounded"===this.barCtx.barOptions.startingShape&&(g-=v/2),this.barCtx.barOptions.endingShape){case"flat":d=o.line(e.barXPosition+e.barWidth-s,p);break;case"rounded":d=o.quadraticCurve(e.barXPosition+(e.barWidth-s)/2,p-v,e.barXPosition+e.barWidth-s,p)}switch(this.barCtx.barOptions.startingShape){case"flat":f=o.line(e.barXPosition+e.barWidth-s,g);break;case"rounded":f=o.quadraticCurve(e.barXPosition+(e.barWidth-s)/2,g+v,e.barXPosition,g)}}return{endingPath:d,startingPath:f,y2:p,y1:g}}}]),t}(),R=function(){function t(e,n){r(this,t),this.ctx=e,this.w=e.w;var i=this.w;this.barOptions=i.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=i.config.stroke.width,this.isNullValue=!1,this.isTimelineBar="datetime"===i.config.xaxis.type&&i.globals.seriesRangeBarTimeline.length,this.xyRatios=n,null!==this.xyRatios&&(this.xRatio=n.xRatio,this.initialXRatio=n.initialXRatio,this.yRatio=n.yRatio,this.invertedXRatio=n.invertedXRatio,this.invertedYRatio=n.invertedYRatio,this.baseLineY=n.baseLineY,this.baseLineInvertedY=n.baseLineInvertedY),this.yaxisIndex=0,this.seriesLen=0,this.barHelpers=new D(this)}return s(t,[{key:"draw",value:function(t,e){var n=this.w,i=new b(this.ctx),r=new S(this.ctx,n);t=r.getLogSeries(t),this.series=t,this.yRatio=r.getLogYRatios(this.yRatio),this.barHelpers.initVariables(t);var o=i.group({class:"apexcharts-bar-series apexcharts-plot-series"});n.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering.");for(var s=0,a=0;s<t.length;s++,a++){var l,u,h,d,f=void 0,p=void 0,g=[],m=[],y=n.globals.comboCharts?e[s]:s,x=i.group({class:"apexcharts-series",rel:s+1,seriesName:v.escapeString(n.globals.seriesNames[y]),"data:realIndex":y});this.ctx.series.addCollapsedClassToSeries(x,y),t[s].length>0&&(this.visibleI=this.visibleI+1);var w=0,A=0;this.yRatio.length>1&&(this.yaxisIndex=y),this.isReversed=n.config.yaxis[this.yaxisIndex]&&n.config.yaxis[this.yaxisIndex].reversed;var E=this.barHelpers.initialPositions();p=E.y,w=E.barHeight,u=E.yDivision,d=E.zeroW,f=E.x,A=E.barWidth,l=E.xDivision,h=E.zeroH,this.horizontal||m.push(f+A/2);for(var k=i.group({class:"apexcharts-datalabels","data:realIndex":y}),_=0;_<n.globals.dataPoints;_++){var C=this.barHelpers.getStrokeWidth(s,_,y),T=null,I={indexes:{i:s,j:_,realIndex:y,bc:a},x:f,y:p,strokeWidth:C,elSeries:x};this.isHorizontal?(T=this.drawBarPaths(c({},I,{barHeight:w,zeroW:d,yDivision:u})),A=this.series[s][_]/this.invertedYRatio):(T=this.drawColumnPaths(c({},I,{xDivision:l,barWidth:A,zeroH:h})),w=this.series[s][_]/this.yRatio[this.yaxisIndex]),p=T.y,f=T.x,_>0&&m.push(f+A/2),g.push(p);var N=this.barHelpers.getPathFillColor(t,s,_,y);this.renderSeries({realIndex:y,pathFill:N,j:_,i:s,pathFrom:T.pathFrom,pathTo:T.pathTo,strokeWidth:C,elSeries:x,x:f,y:p,series:t,barHeight:w,barWidth:A,elDataLabelsWrap:k,visibleSeries:this.visibleI,type:"bar"})}n.globals.seriesXvalues[y]=m,n.globals.seriesYvalues[y]=g,o.add(x)}return o}},{key:"renderSeries",value:function(t){var e=t.realIndex,n=t.pathFill,i=t.lineFill,r=t.j,o=t.i,s=t.pathFrom,a=t.pathTo,l=t.strokeWidth,c=t.elSeries,u=t.x,h=t.y,d=t.y1,f=t.y2,p=t.series,g=t.barHeight,v=t.barWidth,y=t.barYPosition,x=t.elDataLabelsWrap,w=t.visibleSeries,S=t.type,A=this.w,E=new b(this.ctx);i||(i=this.barOptions.distributed?A.globals.stroke.colors[r]:A.globals.stroke.colors[e]),A.config.series[o].data[r]&&A.config.series[o].data[r].strokeColor&&(i=A.config.series[o].data[r].strokeColor),this.isNullValue&&(n="none");var k=E.renderPaths({i:o,j:r,realIndex:e,pathFrom:s,pathTo:a,stroke:i,strokeWidth:l,strokeLineCap:A.config.stroke.lineCap,fill:n,animationDelay:r/A.config.chart.animations.animateGradually.delay*(A.config.chart.animations.speed/A.globals.dataPoints)/2.4,initialSpeed:A.config.chart.animations.speed,dataChangeSpeed:A.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(S,"-area")});k.attr("clip-path","url(#gridRectMask".concat(A.globals.cuid,")")),void 0!==d&&void 0!==f&&(k.attr("data-range-y1",d),k.attr("data-range-y2",f)),new m(this.ctx).setSelectionFilter(k,e,r),c.add(k);var _=new L(this).handleBarDataLabels({x:u,y:h,y1:d,y2:f,i:o,j:r,series:p,realIndex:e,barHeight:g,barWidth:v,barYPosition:y,renderedPath:k,visibleSeries:w});return null!==_&&x.add(_),c.add(x),c}},{key:"drawBarPaths",value:function(t){var e,n=t.indexes,i=t.barHeight,r=t.zeroW,o=t.y,s=t.yDivision,a=t.elSeries,l=this.w,c=n.i,u=n.j,h=n.bc;l.globals.isXNumeric&&(o=(l.globals.seriesX[c][u]-l.globals.minX)/this.invertedXRatio-i);var d=o+i*this.visibleI,f=this.barHelpers.getBarpaths({barYPosition:d,barHeight:i,x1:r,x2:e=null==this.series[c][u]?r:r+this.series[c][u]/this.invertedYRatio-2*(this.isReversed?this.series[c][u]/this.invertedYRatio:0),strokeWidth:t.strokeWidth,series:this.series,realIndex:n.realIndex,i:c,j:u,w:l});return l.globals.isXNumeric||(o+=s),this.barHelpers.barBackground({bc:h,i:c,y1:d-i*this.visibleI,y2:i*this.seriesLen,elSeries:a}),{pathTo:f.pathTo,pathFrom:f.pathFrom,x:e,y:o,barYPosition:d}}},{key:"drawColumnPaths",value:function(t){var e,n=t.indexes,i=t.x,r=t.xDivision,o=t.barWidth,s=t.zeroH,a=t.strokeWidth,l=t.elSeries,c=this.w,u=n.i,h=n.j,d=n.bc;if(c.globals.isXNumeric){var f=u;c.globals.seriesX[u].length||(f=c.globals.maxValsInArrayIndex),i=(c.globals.seriesX[f][h]-c.globals.minX)/this.xRatio-o*this.seriesLen/2}var p=i+o*this.visibleI,g=this.barHelpers.getColumnPaths({barXPosition:p,barWidth:o,y1:s,y2:e=null==this.series[u][h]?s:s-this.series[u][h]/this.yRatio[this.yaxisIndex]+2*(this.isReversed?this.series[u][h]/this.yRatio[this.yaxisIndex]:0),strokeWidth:a,series:this.series,realIndex:n.realIndex,i:u,j:h,w:c});return c.globals.isXNumeric||(i+=r),this.barHelpers.barBackground({bc:d,i:u,x1:p-a/2-o*this.visibleI,x2:o*this.seriesLen+a/2,elSeries:l}),{pathTo:g.pathTo,pathFrom:g.pathFrom,x:i,y:e,barXPosition:p}}},{key:"getPreviousPath",value:function(t,e){for(var n,i=this.w,r=0;r<i.globals.previousPaths.length;r++){var o=i.globals.previousPaths[r];o.paths&&o.paths.length>0&&parseInt(o.realIndex,10)===parseInt(t,10)&&void 0!==i.globals.previousPaths[r].paths[e]&&(n=i.globals.previousPaths[r].paths[e].d)}return n}}]),t}(),M=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return s(t,[{key:"isValidDate",value:function(t){return!isNaN(this.parseDate(t))}},{key:"getTimeStamp",value:function(t){return Date.parse(t)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(t).toISOString().substr(0,25)).getTime():new Date(t).getTime():t}},{key:"getDate",value:function(t){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(t).toUTCString()):new Date(t)}},{key:"parseDate",value:function(t){var e=Date.parse(t);if(!isNaN(e))return this.getTimeStamp(t);var n=Date.parse(t.replace(/-/g,"/").replace(/[a-z]+/gi," "));return this.getTimeStamp(n)}},{key:"formatDate",value:function(t,e){var n=this.w.globals.locale,i=this.w.config.xaxis.labels.datetimeUTC,r=["\0"].concat(f(n.months)),o=["\x01"].concat(f(n.shortMonths)),s=["\x02"].concat(f(n.days)),a=["\x03"].concat(f(n.shortDays));function l(t,e){var n=t+"";for(e=e||2;n.length<e;)n="0"+n;return n}var c=i?t.getUTCFullYear():t.getFullYear();e=(e=(e=e.replace(/(^|[^\\])yyyy+/g,"$1"+c)).replace(/(^|[^\\])yy/g,"$1"+c.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+c);var u=(i?t.getUTCMonth():t.getMonth())+1;e=(e=(e=(e=e.replace(/(^|[^\\])MMMM+/g,"$1"+r[0])).replace(/(^|[^\\])MMM/g,"$1"+o[0])).replace(/(^|[^\\])MM/g,"$1"+l(u))).replace(/(^|[^\\])M/g,"$1"+u);var h=i?t.getUTCDate():t.getDate();e=(e=(e=(e=e.replace(/(^|[^\\])dddd+/g,"$1"+s[0])).replace(/(^|[^\\])ddd/g,"$1"+a[0])).replace(/(^|[^\\])dd/g,"$1"+l(h))).replace(/(^|[^\\])d/g,"$1"+h);var d=i?t.getUTCHours():t.getHours(),p=d>12?d-12:0===d?12:d;e=(e=(e=(e=e.replace(/(^|[^\\])HH+/g,"$1"+l(d))).replace(/(^|[^\\])H/g,"$1"+d)).replace(/(^|[^\\])hh+/g,"$1"+l(p))).replace(/(^|[^\\])h/g,"$1"+p);var g=i?t.getUTCMinutes():t.getMinutes();e=(e=e.replace(/(^|[^\\])mm+/g,"$1"+l(g))).replace(/(^|[^\\])m/g,"$1"+g);var v=i?t.getUTCSeconds():t.getSeconds();e=(e=e.replace(/(^|[^\\])ss+/g,"$1"+l(v))).replace(/(^|[^\\])s/g,"$1"+v);var m=i?t.getUTCMilliseconds():t.getMilliseconds();e=e.replace(/(^|[^\\])fff+/g,"$1"+l(m,3)),m=Math.round(m/10),e=e.replace(/(^|[^\\])ff/g,"$1"+l(m)),m=Math.round(m/10);var y=d<12?"AM":"PM";e=(e=(e=e.replace(/(^|[^\\])f/g,"$1"+m)).replace(/(^|[^\\])TT+/g,"$1"+y)).replace(/(^|[^\\])T/g,"$1"+y.charAt(0));var b=y.toLowerCase();e=(e=e.replace(/(^|[^\\])tt+/g,"$1"+b)).replace(/(^|[^\\])t/g,"$1"+b.charAt(0));var x=-t.getTimezoneOffset(),w=i||!x?"Z":x>0?"+":"-";if(!i){var S=(x=Math.abs(x))%60;w+=l(Math.floor(x/60))+":"+l(S)}e=e.replace(/(^|[^\\])K/g,"$1"+w);var A=(i?t.getUTCDay():t.getDay())+1;return(e=(e=(e=(e=e.replace(new RegExp(s[0],"g"),s[A])).replace(new RegExp(a[0],"g"),a[A])).replace(new RegExp(r[0],"g"),r[u])).replace(new RegExp(o[0],"g"),o[u])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(t,e,n){var i=this.w;void 0!==i.config.xaxis.min&&(t=i.config.xaxis.min),void 0!==i.config.xaxis.max&&(e=i.config.xaxis.max);var r=this.getDate(t),o=this.getDate(e),s=this.formatDate(r,"yyyy MM dd HH mm").split(" "),a=this.formatDate(o,"yyyy MM dd HH mm").split(" ");return{minMinute:parseInt(s[4],10),maxMinute:parseInt(a[4],10),minHour:parseInt(s[3],10),maxHour:parseInt(a[3],10),minDate:parseInt(s[2],10),maxDate:parseInt(a[2],10),minMonth:parseInt(s[1],10)-1,maxMonth:parseInt(a[1],10)-1,minYear:parseInt(s[0],10),maxYear:parseInt(a[0],10)}}},{key:"isLeapYear",value:function(t){return t%4==0&&t%100!=0||t%400==0}},{key:"calculcateLastDaysOfMonth",value:function(t,e,n){return this.determineDaysOfMonths(t,e)-n}},{key:"determineDaysOfYear",value:function(t){var e=365;return this.isLeapYear(t)&&(e=366),e}},{key:"determineRemainingDaysOfYear",value:function(t,e,n){var i=this.daysCntOfYear[e]+n;return e>1&&this.isLeapYear()&&i++,i}},{key:"determineDaysOfMonths",value:function(t,e){var n=30;switch(t=v.monthMod(t),!0){case this.months30.indexOf(t)>-1:2===t&&(n=this.isLeapYear(e)?29:28);break;case this.months31.indexOf(t)>-1:default:n=31}return n}}]),t}(),F=function(t){function e(){return r(this,e),d(this,h(e).apply(this,arguments))}return u(e,R),s(e,[{key:"draw",value:function(t,e){var n=this.w,i=new b(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=t,this.seriesRangeStart=n.globals.seriesRangeStart,this.seriesRangeEnd=n.globals.seriesRangeEnd,this.barHelpers.initVariables(t);for(var r=i.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),o=0;o<t.length;o++){var s,a,l,u=void 0,h=void 0,d=void 0,f=n.globals.comboCharts?e[o]:o,p=i.group({class:"apexcharts-series",seriesName:v.escapeString(n.globals.seriesNames[f]),rel:o+1,"data:realIndex":f});t[o].length>0&&(this.visibleI=this.visibleI+1);var g=0,m=0;this.yRatio.length>1&&(this.yaxisIndex=f);var y=this.barHelpers.initialPositions();h=y.y,l=y.zeroW,u=y.x,m=y.barWidth,s=y.xDivision,a=y.zeroH;for(var x=i.group({class:"apexcharts-datalabels","data:realIndex":f}),w=0;w<n.globals.dataPoints;w++){var S=this.barHelpers.getStrokeWidth(o,w,f),A=this.seriesRangeStart[o][w],E=this.seriesRangeEnd[o][w],k=null,_=null,C={x:u,y:h,strokeWidth:S,elSeries:p};if(d=y.yDivision,g=y.barHeight,this.isHorizontal){_=h+g*this.visibleI;var T=(d-g*this.seriesLen)/2;if(void 0===n.config.series[o].data[w])break;if(this.isTimelineBar&&n.config.series[o].data[w].x){var I=this.detectOverlappingBars({i:o,j:w,barYPosition:_,srty:T,barHeight:g,yDivision:d,initPositions:y});g=I.barHeight,_=I.barYPosition}m=(k=this.drawRangeBarPaths(c({indexes:{i:o,j:w,realIndex:f},barHeight:g,barYPosition:_,zeroW:l,yDivision:d,y1:A,y2:E},C))).barWidth}else g=(k=this.drawRangeColumnPaths(c({indexes:{i:o,j:w,realIndex:f},zeroH:a,barWidth:m,xDivision:s},C))).barHeight;h=k.y,u=k.x;var N=this.barHelpers.getPathFillColor(t,o,w,f);this.renderSeries({realIndex:f,pathFill:N,lineFill:n.globals.stroke.colors[f],j:w,i:o,x:u,y:h,y1:A,y2:E,pathFrom:k.pathFrom,pathTo:k.pathTo,strokeWidth:S,elSeries:p,series:t,barHeight:g,barYPosition:_,barWidth:m,elDataLabelsWrap:x,visibleSeries:this.visibleI,type:"rangebar"})}r.add(p)}return r}},{key:"detectOverlappingBars",value:function(t){var e=t.i,n=t.j,i=t.barYPosition,r=t.srty,o=t.barHeight,s=t.yDivision,a=t.initPositions,l=this.w,c=[],u=l.config.series[e].data[n].rangeName,h=l.config.series[e].data[n].x,d=l.globals.labels.indexOf(h),f=l.globals.seriesRangeBarTimeline[e].findIndex((function(t){return t.x===h&&t.overlaps.length>0}));return i=r+o*this.visibleI+s*d,f>-1&&!l.config.plotOptions.bar.rangeBarOverlap&&(c=l.globals.seriesRangeBarTimeline[e][f].overlaps).indexOf(u)>-1&&(i=(o=a.barHeight/c.length)*this.visibleI+s*(100-parseInt(this.barOptions.barHeight,10))/100/2+o*(this.visibleI+c.indexOf(u))+s*d),{barYPosition:i,barHeight:o}}},{key:"drawRangeColumnPaths",value:function(t){var e=t.indexes,n=t.x,i=t.xDivision,r=t.barWidth,o=t.zeroH,s=this.w,a=e.i,l=e.j,c=this.yRatio[this.yaxisIndex],u=e.realIndex,h=this.getRangeValue(u,l),d=Math.min(h.start,h.end),f=Math.max(h.start,h.end);s.globals.isXNumeric&&(n=(s.globals.seriesX[a][l]-s.globals.minX)/this.xRatio-r/2);var p=n+r*this.visibleI;null==this.series[a][l]?d=o:(d=o-d/c,f=o-f/c);var g=Math.abs(f-d),v=this.barHelpers.getColumnPaths({barXPosition:p,barWidth:r,y1:d,y2:f,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:u,j:l,w:s});return s.globals.isXNumeric||(n+=i),{pathTo:v.pathTo,pathFrom:v.pathFrom,barHeight:g,x:n,y:f,barXPosition:p}}},{key:"drawRangeBarPaths",value:function(t){var e=t.indexes,n=t.y,i=t.yDivision,r=t.barHeight,o=t.barYPosition,s=t.zeroW,a=this.w,l=s+t.y1/this.invertedYRatio,c=s+t.y2/this.invertedYRatio,u=Math.abs(c-l),h=this.barHelpers.getBarpaths({barYPosition:o,barHeight:r,x1:l,x2:c,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:e.realIndex,j:e.j,w:a});return a.globals.isXNumeric||(n+=i),{pathTo:h.pathTo,pathFrom:h.pathFrom,barWidth:u,x:c,y:n}}},{key:"getRangeValue",value:function(t,e){var n=this.w;return{start:n.globals.seriesRangeStart[t][e],end:n.globals.seriesRangeEnd[t][e]}}},{key:"getTooltipValues",value:function(t){var e=t.ctx,n=t.seriesIndex,i=t.dataPointIndex,r=t.y1,o=t.y2,s=t.w,a=s.globals.seriesRangeStart[n][i],l=s.globals.seriesRangeEnd[n][i],c=s.globals.labels[i],u=s.config.series[n].name,h=s.config.tooltip.y.formatter,d=s.config.tooltip.y.title.formatter,f={w:s,seriesIndex:n,dataPointIndex:i};"function"==typeof d&&(u=d(u,f)),r&&o&&(a=r,l=o,s.config.series[n].data[i].x&&(c=s.config.series[n].data[i].x+":"),"function"==typeof h&&(c=h(c,f)));var p="",g="",v=s.globals.colors[n];if(void 0===s.config.tooltip.x.formatter)if("datetime"===s.config.xaxis.type){var m=new M(e);p=m.formatDate(m.getDate(a),s.config.tooltip.x.format),g=m.formatDate(m.getDate(l),s.config.tooltip.x.format)}else p=a,g=l;else p=s.config.tooltip.x.formatter(a),g=s.config.tooltip.x.formatter(l);return{start:a,end:l,startVal:p,endVal:g,ylabel:c,color:v,seriesName:u}}},{key:"buildCustomTooltipHTML",value:function(t){return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+t.color+'">'+(t.seriesName||"")+'</span></div><div> <span class="category">'+t.ylabel+' </span> <span class="value start-value">'+t.start+'</span> <span class="separator">-</span> <span class="value end-value">'+t.end+"</span></div></div>"}}]),e}(),z=function(){function t(e){r(this,t),this.opts=e}return s(t,[{key:"line",value:function(){return{chart:{animations:{easing:"swing"}},dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(t){return this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0,v.extend(t,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"bar",value:function(){return{chart:{stacked:!1,animations:{easing:"swing"}},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"square"},fill:{opacity:.85},legend:{markers:{shape:"square",radius:2,size:8}},tooltip:{shared:!1},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"candlestick",value:function(){return{stroke:{width:1,colors:["#333"]},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(t){var e=t.seriesIndex,n=t.dataPointIndex,i=t.w;return'<div class="apexcharts-tooltip-candlestick"><div>Open: <span class="value">'+i.globals.seriesCandleO[e][n]+'</span></div><div>High: <span class="value">'+i.globals.seriesCandleH[e][n]+'</span></div><div>Low: <span class="value">'+i.globals.seriesCandleL[e][n]+'</span></div><div>Close: <span class="value">'+i.globals.seriesCandleC[e][n]+"</span></div></div>"}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{stroke:{width:0,lineCap:"square"},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(t,e){var n=e.seriesIndex,i=e.dataPointIndex,r=e.w;return r.globals.seriesRangeEnd[n][i]-r.globals.seriesRangeStart[n][i]},background:{enabled:!1},style:{colors:["#fff"]}},tooltip:{shared:!1,followCursor:!0,custom:function(t){return t.w.config.plotOptions&&t.w.config.plotOptions.bar&&t.w.config.plotOptions.bar.horizontal?function(t){var e=new F(t.ctx,null),n=e.getTooltipValues(t);return e.buildCustomTooltipHTML({color:n.color,seriesName:n.seriesName,ylabel:n.ylabel,start:n.startVal,end:n.endVal})}(t):function(t){var e=new F(t.ctx,null),n=e.getTooltipValues(t);return e.buildCustomTooltipHTML({color:n.color,seriesName:n.seriesName,ylabel:n.ylabel,start:n.start,end:n.end})}(t)}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"area",value:function(){return{stroke:{width:4},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"brush",value:function(t){return v.extend(t,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(t){t.dataLabels=t.dataLabels||{},t.dataLabels.formatter=t.dataLabels.formatter||void 0;var e=t.dataLabels.formatter;return t.yaxis.forEach((function(e,n){t.yaxis[n].min=0,t.yaxis[n].max=100})),"bar"===t.chart.type&&(t.dataLabels.formatter=e||function(t){return"number"==typeof t&&t?t.toFixed(0)+"%":t}),t}},{key:"convertCatToNumeric",value:function(t){return t.xaxis.convertedCatToNumeric=!0,t}},{key:"convertCatToNumericXaxis",value:function(t,e,n){t.xaxis.type="numeric",t.xaxis.labels=t.xaxis.labels||{},t.xaxis.labels.formatter=t.xaxis.labels.formatter||function(t){return v.isNumber(t)?Math.floor(t):t};var i=t.xaxis.labels.formatter,r=t.xaxis.categories&&t.xaxis.categories.length?t.xaxis.categories:t.labels;return n&&n.length&&(r=n.map((function(t){return t.toString()}))),r&&r.length&&(t.xaxis.labels.formatter=function(t){return v.isNumber(t)?i(r[Math.floor(t)-1]):i(t)}),t.xaxis.categories=[],t.labels=[],t.xaxis.tickAmount=t.xaxis.tickAmount||"dataPoints",t}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square",size:10,offsetY:2}},grid:{padding:{right:20}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(t){return t.toFixed(1)+"%"},style:{colors:["#fff"]},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(t){return t.toFixed(1)+"%"},style:{colors:["#fff"]},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"polarArea",value:function(){return this.opts.yaxis[0].tickAmount=this.opts.yaxis[0].tickAmount?this.opts.yaxis[0].tickAmount:6,{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(t){return t.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:3,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1},xaxis:{labels:{formatter:function(t){return t},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0}}}}]),t}(),V=function(){function t(e){r(this,t),this.opts=e}return s(t,[{key:"init",value:function(t){var e=t.responsiveOverride,n=this.opts,r=new _,o=new z(n);this.chartType=n.chart.type,"histogram"===this.chartType&&(n.chart.type="bar",n=v.extend({plotOptions:{bar:{columnWidth:"99.99%"}}},n)),n=this.extendYAxis(n),n=this.extendAnnotations(n);var s=r.init(),a={};if(n&&"object"===i(n)){var l={};l=-1!==["line","area","bar","candlestick","rangeBar","histogram","bubble","scatter","heatmap","pie","polarArea","donut","radar","radialBar"].indexOf(n.chart.type)?o[n.chart.type]():o.line(),n.chart.brush&&n.chart.brush.enabled&&(l=o.brush(l)),n.chart.stacked&&"100%"===n.chart.stackType&&(n=o.stacked100(n)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(n),n.xaxis=n.xaxis||window.Apex.xaxis||{},e||(n.xaxis.convertedCatToNumeric=!1),((n=this.checkForCatToNumericXAxis(this.chartType,l,n)).chart.sparkline&&n.chart.sparkline.enabled||window.Apex.chart&&window.Apex.chart.sparkline&&window.Apex.chart.sparkline.enabled)&&(l=o.sparkline(l)),a=v.extend(s,l)}var c=v.extend(a,window.Apex);return s=v.extend(c,n),this.handleUserInputErrors(s)}},{key:"checkForCatToNumericXAxis",value:function(t,e,n){var i=new z(n);return"bar"===t&&n.plotOptions&&n.plotOptions.bar&&n.plotOptions.bar.horizontal||"pie"===t||"polarArea"===t||"donut"===t||"radar"===t||"radialBar"===t||"heatmap"===t||!("datetime"!==n.xaxis.type&&"numeric"!==n.xaxis.type)||"between"===(n.xaxis.tickPlacement?n.xaxis.tickPlacement:e.xaxis&&e.xaxis.tickPlacement)||(n=i.convertCatToNumeric(n)),n}},{key:"extendYAxis",value:function(t,e){var n=new _;(void 0===t.yaxis||!t.yaxis||Array.isArray(t.yaxis)&&0===t.yaxis.length)&&(t.yaxis={}),t.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(t.yaxis=v.extend(t.yaxis,window.Apex.yaxis)),t.yaxis=t.yaxis.constructor!==Array?[v.extend(n.yAxis,t.yaxis)]:v.extendArray(t.yaxis,n.yAxis);var i=!1;t.yaxis.forEach((function(t){t.logarithmic&&(i=!0)}));var r=t.series;return e&&!r&&(r=e.config.series),i&&r.length!==t.yaxis.length&&r.length&&(t.yaxis=r.map((function(e,i){if(e.name||(r[i].name="series-".concat(i+1)),t.yaxis[i])return t.yaxis[i].seriesName=r[i].name,t.yaxis[i];var o=v.extend(n.yAxis,t.yaxis[0]);return o.show=!1,o}))),i&&r.length>1&&r.length!==t.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes. Please make sure to equalize both."),t}},{key:"extendAnnotations",value:function(t){return void 0===t.annotations&&(t.annotations={},t.annotations.yaxis=[],t.annotations.xaxis=[],t.annotations.points=[]),t=this.extendYAxisAnnotations(t),t=this.extendXAxisAnnotations(t),this.extendPointAnnotations(t)}},{key:"extendYAxisAnnotations",value:function(t){var e=new _;return t.annotations.yaxis=v.extendArray(void 0!==t.annotations.yaxis?t.annotations.yaxis:[],e.yAxisAnnotation),t}},{key:"extendXAxisAnnotations",value:function(t){var e=new _;return t.annotations.xaxis=v.extendArray(void 0!==t.annotations.xaxis?t.annotations.xaxis:[],e.xAxisAnnotation),t}},{key:"extendPointAnnotations",value:function(t){var e=new _;return t.annotations.points=v.extendArray(void 0!==t.annotations.points?t.annotations.points:[],e.pointAnnotation),t}},{key:"checkForDarkTheme",value:function(t){t.theme&&"dark"===t.theme.mode&&(t.tooltip||(t.tooltip={}),"light"!==t.tooltip.theme&&(t.tooltip.theme="dark"),t.chart.foreColor||(t.chart.foreColor="#f6f7f8"),t.theme.palette||(t.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(t){var e=t;if(e.tooltip.shared&&e.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if(("bar"===e.chart.type||"rangeBar"===e.chart.type)&&e.plotOptions.bar.horizontal){if(e.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");e.yaxis[0].reversed&&(e.yaxis[0].opposite=!0),e.xaxis.tooltip.enabled=!1,e.yaxis[0].tooltip.enabled=!1,e.chart.zoom.enabled=!1}return"bar"!==e.chart.type&&"rangeBar"!==e.chart.type||e.tooltip.shared&&("barWidth"===e.xaxis.crosshairs.width&&e.series.length>1&&(console.warn('crosshairs.width = "barWidth" is only supported in single series, not in a multi-series barChart.'),e.xaxis.crosshairs.width="tickWidth"),e.plotOptions.bar.horizontal&&(e.states.hover.type="none",e.tooltip.shared=!1),e.tooltip.followCursor||(console.warn("followCursor option in shared columns cannot be turned off. Please set %ctooltip.followCursor: true","color: blue;"),e.tooltip.followCursor=!0)),"candlestick"===e.chart.type&&e.yaxis[0].reversed&&(console.warn("Reversed y-axis in candlestick chart is not supported."),e.yaxis[0].reversed=!1),e.chart.group&&0===e.yaxis[0].labels.minWidth&&console.warn("It looks like you have multiple charts in synchronization. You must provide yaxis.labels.minWidth which must be EQUAL for all grouped charts to prevent incorrect behaviour."),Array.isArray(e.stroke.width)&&"line"!==e.chart.type&&"area"!==e.chart.type&&(console.warn("stroke.width option accepts array only for line and area charts. Reverted back to Number"),e.stroke.width=e.stroke.width[0]),e}}]),t}(),j=function(){function t(){r(this,t)}return s(t,[{key:"initGlobalVars",value:function(t){t.series=[],t.seriesCandleO=[],t.seriesCandleH=[],t.seriesCandleL=[],t.seriesCandleC=[],t.seriesRangeStart=[],t.seriesRangeEnd=[],t.seriesRangeBarTimeline=[],t.seriesPercent=[],t.seriesX=[],t.seriesZ=[],t.seriesNames=[],t.seriesTotals=[],t.seriesLog=[],t.stackedSeriesTotals=[],t.seriesXvalues=[],t.seriesYvalues=[],t.labels=[],t.categoryLabels=[],t.timescaleLabels=[],t.noLabelsProvided=!1,t.resizeTimer=null,t.selectionResizeTimer=null,t.delayedElements=[],t.pointsArray=[],t.dataLabelsRects=[],t.isXNumeric=!1,t.xaxisLabelsCount=0,t.skipLastTimelinelabel=!1,t.skipFirstTimelinelabel=!1,t.isDataXYZ=!1,t.isMultiLineX=!1,t.isMultipleYAxis=!1,t.maxY=-Number.MAX_VALUE,t.minY=Number.MIN_VALUE,t.minYArr=[],t.maxYArr=[],t.maxX=-Number.MAX_VALUE,t.minX=Number.MAX_VALUE,t.initialMaxX=-Number.MAX_VALUE,t.initialMinX=Number.MAX_VALUE,t.maxDate=0,t.minDate=Number.MAX_VALUE,t.minZ=Number.MAX_VALUE,t.maxZ=-Number.MAX_VALUE,t.minXDiff=Number.MAX_VALUE,t.yAxisScale=[],t.xAxisScale=null,t.xAxisTicksPositions=[],t.yLabelsCoords=[],t.yTitleCoords=[],t.barPadForNumericAxis=0,t.padHorizontal=0,t.xRange=0,t.yRange=[],t.zRange=0,t.dataPoints=0,t.xTickAmount=0}},{key:"globalVars",value:function(t){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:t.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],goldenPadding:35,invalidLogScale:!1,ignoreYAxisIndexes:[],yAxisSameScaleIndices:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:"zoom"===t.chart.toolbar.autoSelected&&t.chart.toolbar.tools.zoom&&t.chart.zoom.enabled,panEnabled:"pan"===t.chart.toolbar.autoSelected&&t.chart.toolbar.tools.pan,selectionEnabled:"selection"===t.chart.toolbar.autoSelected&&t.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,easing:null,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null}}},{key:"init",value:function(t){var e=this.globalVars(t);return this.initGlobalVars(e),e.initialConfig=v.extend({},t),e.initialSeries=v.clone(t.series),e.lastXAxis=JSON.parse(JSON.stringify(e.initialConfig.xaxis)),e.lastYAxis=JSON.parse(JSON.stringify(e.initialConfig.yaxis)),e}}]),t}(),U=function(){function t(e){r(this,t),this.opts=e}return s(t,[{key:"init",value:function(){var t=new V(this.opts).init({responsiveOverride:!1});return{config:t,globals:(new j).init(t)}}}]),t}(),H=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.coreUtils=new S(this.ctx)}return s(t,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var t=this.w.config.series.slice(),e=new O(this.ctx);if(this.activeSeriesIndex=e.getActiveConfigSeriesIndex(),void 0!==t[this.activeSeriesIndex].data&&t[this.activeSeriesIndex].data.length>0&&null!==t[this.activeSeriesIndex].data[0]&&void 0!==t[this.activeSeriesIndex].data[0].x&&null!==t[this.activeSeriesIndex].data[0])return!0}},{key:"isFormat2DArray",value:function(){var t=this.w.config.series.slice(),e=new O(this.ctx);if(this.activeSeriesIndex=e.getActiveConfigSeriesIndex(),void 0!==t[this.activeSeriesIndex].data&&t[this.activeSeriesIndex].data.length>0&&null!=t[this.activeSeriesIndex].data[0]&&t[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(t,e){var n=this.w.config,i=this.w.globals;n.xaxis.sorted&&("datetime"===n.xaxis.type?t[e].data.sort((function(t,e){return new Date(t[0]).getTime()-new Date(e[0]).getTime()})):"numeric"===n.xaxis.type&&t[e].data.sort((function(t,e){return t[0]-e[0]})));for(var r=0;r<t[e].data.length;r++)if(void 0!==t[e].data[r][1]&&(Array.isArray(t[e].data[r][1])&&4===t[e].data[r][1].length?this.twoDSeries.push(v.parseNumber(t[e].data[r][1][3])):this.twoDSeries.push(v.parseNumber(5===t[e].data[r].length?t[e].data[r][4]:t[e].data[r][1])),i.dataFormatXNumeric=!0),"datetime"===n.xaxis.type){var o=new Date(t[e].data[r][0]);o=new Date(o).getTime(),this.twoDSeriesX.push(o)}else this.twoDSeriesX.push(t[e].data[r][0]);for(var s=0;s<t[e].data.length;s++)void 0!==t[e].data[s][2]&&(this.threeDSeries.push(t[e].data[s][2]),i.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(t,e){var n=this.w.config,i=this.w.globals,r=new M(this.ctx),o=e;i.collapsedSeriesIndices.indexOf(e)>-1&&(o=this.activeSeriesIndex),n.xaxis.sorted&&("datetime"===n.xaxis.type?t[e].data.sort((function(t,e){return new Date(t.x).getTime()-new Date(e.x).getTime()})):"numeric"===n.xaxis.type&&t[e].data.sort((function(t,e){return t.x-e.x})));for(var s=0;s<t[e].data.length;s++)void 0!==t[e].data[s].y&&(Array.isArray(t[e].data[s].y)?this.twoDSeries.push(v.parseNumber(t[e].data[s].y[t[e].data[s].y.length-1])):this.twoDSeries.push(v.parseNumber(t[e].data[s].y)));for(var a=0;a<t[o].data.length;a++){var l="string"==typeof t[o].data[a].x,c=Array.isArray(t[o].data[a].x),u=!c&&!!r.isValidDate(t[o].data[a].x.toString());l||u?l||n.xaxis.convertedCatToNumeric?"datetime"!==n.xaxis.type||i.isBarHorizontal&&i.isRangeData?(this.fallbackToCategory=!0,this.twoDSeriesX.push(t[o].data[a].x)):this.twoDSeriesX.push(r.parseDate(t[o].data[a].x)):"datetime"===n.xaxis.type?this.twoDSeriesX.push(r.parseDate(t[o].data[a].x.toString())):(i.dataFormatXNumeric=!0,i.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(t[o].data[a].x))):c?(this.fallbackToCategory=!0,this.twoDSeriesX.push(t[o].data[a].x)):(i.isXNumeric=!0,i.dataFormatXNumeric=!0,this.twoDSeriesX.push(t[o].data[a].x))}if(t[e].data[0]&&void 0!==t[e].data[0].z){for(var h=0;h<t[e].data.length;h++)this.threeDSeries.push(t[e].data[h].z);i.isDataXYZ=!0}}},{key:"handleRangeData",value:function(t,e){var n=this.w.config,i=this.w.globals,r={};return this.isFormat2DArray()?r=this.handleRangeDataFormat("array",t,e):this.isFormatXY()&&(r=this.handleRangeDataFormat("xy",t,e)),i.seriesRangeStart.push(r.start),i.seriesRangeEnd.push(r.end),"datetime"===n.xaxis.type&&i.seriesRangeBarTimeline.push(r.rangeUniques),i.seriesRangeBarTimeline.forEach((function(t,e){t&&t.forEach((function(t,e){t.y.forEach((function(e,n){for(var i=0;i<t.y.length;i++)n!==i&&e.y1<=t.y[i].y2&&t.y[i].y1<=e.y2&&(t.overlaps.indexOf(e.rangeName)<0&&t.overlaps.push(e.rangeName),t.overlaps.indexOf(t.y[i].rangeName)<0&&t.overlaps.push(t.y[i].rangeName))}))}))})),r}},{key:"handleCandleStickData",value:function(t,e){var n=this.w.globals,i={};return this.isFormat2DArray()?i=this.handleCandleStickDataFormat("array",t,e):this.isFormatXY()&&(i=this.handleCandleStickDataFormat("xy",t,e)),n.seriesCandleO[e]=i.o,n.seriesCandleH[e]=i.h,n.seriesCandleL[e]=i.l,n.seriesCandleC[e]=i.c,i}},{key:"handleRangeDataFormat",value:function(t,e,n){var i=[],r=[],o=e[n].data.filter((function(t,e,n){return e===n.findIndex((function(e){return e.x===t.x}))})).map((function(t,e){return{x:t.x,overlaps:[],y:[]}})),s="Please provide [Start, End] values in valid format. Read more https://apexcharts.com/docs/series/#rangecharts",a=new O(this.ctx).getActiveConfigSeriesIndex();if("array"===t){if(2!==e[a].data[0][1].length)throw new Error(s);for(var l=0;l<e[n].data.length;l++)i.push(e[n].data[l][1][0]),r.push(e[n].data[l][1][1])}else if("xy"===t){if(2!==e[a].data[0].y.length)throw new Error(s);for(var c=function(t){var s=v.randomId(),a=e[n].data[t].x,l={y1:e[n].data[t].y[0],y2:e[n].data[t].y[1],rangeName:s};e[n].data[t].rangeName=s;var c=o.findIndex((function(t){return t.x===a}));o[c].y.push(l),i.push(l.y1),r.push(l.y2)},u=0;u<e[n].data.length;u++)c(u)}return{start:i,end:r,rangeUniques:o}}},{key:"handleCandleStickDataFormat",value:function(t,e,n){var i=[],r=[],o=[],s=[],a="Please provide [Open, High, Low and Close] values in valid format. Read more https://apexcharts.com/docs/series/#candlestick";if("array"===t){if(!Array.isArray(e[n].data[0][1])&&5!==e[n].data[0].length||Array.isArray(e[n].data[0][1])&&4!==e[n].data[0][1].length)throw new Error(a);if(5===e[n].data[0].length)for(var l=0;l<e[n].data.length;l++)i.push(e[n].data[l][1]),r.push(e[n].data[l][2]),o.push(e[n].data[l][3]),s.push(e[n].data[l][4]);else for(var c=0;c<e[n].data.length;c++)i.push(e[n].data[c][1][0]),r.push(e[n].data[c][1][1]),o.push(e[n].data[c][1][2]),s.push(e[n].data[c][1][3])}else if("xy"===t){if(4!==e[n].data[0].y.length)throw new Error(a);for(var u=0;u<e[n].data.length;u++)i.push(e[n].data[u].y[0]),r.push(e[n].data[u].y[1]),o.push(e[n].data[u].y[2]),s.push(e[n].data[u].y[3])}return{o:i,h:r,l:o,c:s}}},{key:"parseDataAxisCharts",value:function(t){for(var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.ctx,i=this.w.config,r=this.w.globals,o=new M(n),s=i.labels.length>0?i.labels.slice():i.xaxis.categories.slice(),a=function(){for(var t=0;t<s.length;t++)if("string"==typeof s[t]){if(!o.isValidDate(s[t]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");e.twoDSeriesX.push(o.parseDate(s[t]))}else{if(13!==String(s[t]).length)throw new Error("Please provide a valid JavaScript timestamp");e.twoDSeriesX.push(s[t])}},l=0;l<t.length;l++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],void 0===t[l].data)return void console.error("It is a possibility that you may have not included 'data' property in series.");if("rangeBar"!==i.chart.type&&"rangeArea"!==i.chart.type&&"rangeBar"!==t[l].type&&"rangeArea"!==t[l].type||(r.isRangeData=!0,this.handleRangeData(t,l)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(t,l):this.isFormatXY()&&this.handleFormatXY(t,l),"candlestick"!==i.chart.type&&"candlestick"!==t[l].type||this.handleCandleStickData(t,l),r.series.push(this.twoDSeries),r.labels.push(this.twoDSeriesX),r.seriesX.push(this.twoDSeriesX),l!==this.activeSeriesIndex||this.fallbackToCategory||(r.isXNumeric=!0);else{"datetime"===i.xaxis.type?(r.isXNumeric=!0,a(),r.seriesX.push(this.twoDSeriesX)):"numeric"===i.xaxis.type&&(r.isXNumeric=!0,s.length>0&&(this.twoDSeriesX=s,r.seriesX.push(this.twoDSeriesX))),r.labels.push(this.twoDSeriesX);var c=t[l].data.map((function(t){return v.parseNumber(t)}));r.series.push(c)}r.seriesZ.push(this.threeDSeries),r.seriesNames.push(void 0!==t[l].name?t[l].name:"series-"+parseInt(l+1,10))}return this.w}},{key:"parseDataNonAxisCharts",value:function(t){var e=this.w.globals,n=this.w.config;e.series=t.slice(),e.seriesNames=n.labels.slice();for(var i=0;i<e.series.length;i++)void 0===e.seriesNames[i]&&e.seriesNames.push("series-"+(i+1));return this.w}},{key:"handleExternalLabelsData",value:function(t){var e=this.w.config,n=this.w.globals;e.xaxis.categories.length>0?n.labels=e.xaxis.categories:e.labels.length>0?n.labels=e.labels.slice():this.fallbackToCategory?(n.labels=n.labels[0],n.seriesRangeBarTimeline.length&&(n.seriesRangeBarTimeline.map((function(t){t.forEach((function(t){n.labels.indexOf(t.x)<0&&t.x&&n.labels.push(t.x)}))})),n.labels=n.labels.filter((function(t,e,n){return n.indexOf(t)===e}))),e.xaxis.convertedCatToNumeric&&(new z(e).convertCatToNumericXaxis(e,this.ctx,n.seriesX[0]),this._generateExternalLabels(t))):this._generateExternalLabels(t)}},{key:"_generateExternalLabels",value:function(t){var e=this.w.globals,n=this.w.config,i=[];if(e.axisCharts){if(e.series.length>0)for(var r=0;r<e.series[e.maxValsInArrayIndex].length;r++)i.push(r+1);e.seriesX=[];for(var o=0;o<t.length;o++)e.seriesX.push(i);e.isXNumeric=!0}if(0===i.length){i=e.axisCharts?[]:e.series.map((function(t,e){return e+1}));for(var s=0;s<t.length;s++)e.seriesX.push(i)}e.labels=i,n.xaxis.convertedCatToNumeric&&(e.categoryLabels=i.map((function(t){return n.xaxis.labels.formatter(t)}))),e.noLabelsProvided=!0}},{key:"parseData",value:function(t){var e=this.w,n=e.config,i=e.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),i.axisCharts?this.parseDataAxisCharts(t):this.parseDataNonAxisCharts(t),this.coreUtils.getLargestSeries(),"bar"===n.chart.type&&n.chart.stacked){var r=new O(this.ctx);i.series=r.setNullSeriesToZeroValues(i.series)}this.coreUtils.getSeriesTotals(),i.axisCharts&&this.coreUtils.getStackedSeriesTotals(),this.coreUtils.getPercentSeries(),i.dataFormatXNumeric||i.isXNumeric&&("numeric"!==n.xaxis.type||0!==n.labels.length||0!==n.xaxis.categories.length)||this.handleExternalLabelsData(t);for(var o=this.coreUtils.getCategoryLabels(i.labels),s=0;s<o.length;s++)if(Array.isArray(o[s])){i.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var t=this,e=this.w;e.globals.ignoreYAxisIndexes=e.globals.collapsedSeries.map((function(n,i){if(t.w.globals.isMultipleYAxis&&!e.config.chart.stacked)return n.index}))}}]),t}(),B=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w,this.tooltipKeyFormat="dd MMM"}return s(t,[{key:"xLabelFormat",value:function(t,e,n){var i=this.w;if("datetime"===i.config.xaxis.type&&void 0===i.config.xaxis.labels.formatter&&void 0===i.config.tooltip.x.formatter){var r=new M(this.ctx);return r.formatDate(r.getDate(e),i.config.tooltip.x.format)}return t(e,n)}},{key:"defaultGeneralFormatter",value:function(t){return Array.isArray(t)?t.map((function(t){return t})):t}},{key:"defaultYFormatter",value:function(t,e,n){var i=this.w;return v.isNumber(t)&&(t=t.toFixed(0!==i.globals.yValueDecimal?void 0!==e.decimalsInFloat?e.decimalsInFloat:i.globals.yValueDecimal:i.globals.maxYArr[n]-i.globals.minYArr[n]<10?1:0)),t}},{key:"setLabelFormatters",value:function(){var t=this,e=this.w;return e.globals.xLabelFormatter=function(e){return t.defaultGeneralFormatter(e)},e.globals.xaxisTooltipFormatter=function(e){return t.defaultGeneralFormatter(e)},e.globals.ttKeyFormatter=function(e){return t.defaultGeneralFormatter(e)},e.globals.ttZFormatter=function(t){return t},e.globals.legendFormatter=function(e){return t.defaultGeneralFormatter(e)},e.globals.xLabelFormatter=void 0!==e.config.xaxis.labels.formatter?e.config.xaxis.labels.formatter:function(t){return v.isNumber(t)?t.toFixed(!e.config.xaxis.convertedCatToNumeric&&"numeric"===e.config.xaxis.type&&e.globals.dataPoints<50?1:e.globals.isBarHorizontal&&e.globals.maxY-e.globals.minYArr<4?1:0):t},e.globals.ttKeyFormatter="function"==typeof e.config.tooltip.x.formatter?e.config.tooltip.x.formatter:e.globals.xLabelFormatter,"function"==typeof e.config.xaxis.tooltip.formatter&&(e.globals.xaxisTooltipFormatter=e.config.xaxis.tooltip.formatter),Array.isArray(e.config.tooltip.y)?e.globals.ttVal=e.config.tooltip.y:void 0!==e.config.tooltip.y.formatter&&(e.globals.ttVal=e.config.tooltip.y),void 0!==e.config.tooltip.z.formatter&&(e.globals.ttZFormatter=e.config.tooltip.z.formatter),void 0!==e.config.legend.formatter&&(e.globals.legendFormatter=e.config.legend.formatter),e.config.yaxis.forEach((function(n,i){e.globals.yLabelFormatters[i]=void 0!==n.labels.formatter?n.labels.formatter:function(r){return e.globals.xyCharts?Array.isArray(r)?r.map((function(e){return t.defaultYFormatter(e,n,i)})):t.defaultYFormatter(r,n,i):r}})),e.globals}},{key:"heatmapLabelFormatters",value:function(){var t=this.w;if("heatmap"===t.config.chart.type){t.globals.yAxisScale[0].result=t.globals.seriesNames.slice();var e=t.globals.seriesNames.reduce((function(t,e){return t.length>e.length?t:e}),0);t.globals.yAxisScale[0].niceMax=e,t.globals.yAxisScale[0].niceMin=e}}}]),t}(),X=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w}return s(t,[{key:"getLabel",value:function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"12px",s=this.w,a=void 0===t[i]?"":t[i],l=a,c=s.globals.xLabelFormatter,u=s.config.xaxis.labels.formatter,h=!1,d=new B(this.ctx),f=a;l=d.xLabelFormat(c,a,f),void 0!==u&&(l=u(a,t[i],i));var p=function(t){var n=null;return e.forEach((function(t){"month"===t.unit?n="year":"day"===t.unit?n="month":"hour"===t.unit?n="day":"minute"===t.unit&&(n="hour")})),n===t};e.length>0?(h=p(e[i].unit),n=e[i].position,l=e[i].value):"datetime"===s.config.xaxis.type&&void 0===u&&(l=""),void 0===l&&(l=""),l=Array.isArray(l)?l:l.toString();var g=new b(this.ctx),v={};return v=s.globals.rotateXLabels?g.getTextRects(l,parseInt(o,10),null,"rotate(".concat(s.config.xaxis.labels.rotate," 0 0)"),!1):g.getTextRects(l,parseInt(o,10)),!Array.isArray(l)&&(0===l.indexOf("NaN")||0===l.toLowerCase().indexOf("invalid")||l.toLowerCase().indexOf("infinity")>=0||r.indexOf(l)>=0&&!s.config.xaxis.labels.showDuplicates)&&(l=""),{x:n,text:l,textRect:v,isBold:h}}},{key:"checkForOverflowingLabels",value:function(t,e,n,i,r){var o=this.w;if(0===t&&o.globals.skipFirstTimelinelabel&&(e.text=""),t===n-1&&o.globals.skipLastTimelinelabel&&(e.text=""),o.config.xaxis.labels.hideOverlappingLabels&&i.length>0){var s=r[r.length-1];e.x<s.textRect.width/(o.globals.rotateXLabels?Math.abs(o.config.xaxis.labels.rotate)/12:1.01)+s.x&&(e.text="")}return e}},{key:"checkForReversedLabels",value:function(t,e){var n=this.w;return n.config.yaxis[t]&&n.config.yaxis[t].reversed&&e.reverse(),e}},{key:"isYAxisHidden",value:function(t){var e=this.w,n=new S(this.ctx);return!e.config.yaxis[t].show||!e.config.yaxis[t].showForNullSeries&&n.isSeriesNull(t)&&-1===e.globals.collapsedSeriesIndices.indexOf(t)}},{key:"drawYAxisTicks",value:function(t,e,n,i,r,o,s){var a=this.w,l=new b(this.ctx),c=a.globals.translateY;if(i.show&&e>0){!0===a.config.yaxis[r].opposite&&(t+=i.width);for(var u=e;u>=0;u--){var h=c+e/10+a.config.yaxis[r].labels.offsetY-1;a.globals.isBarHorizontal&&(h=o*u),"heatmap"===a.config.chart.type&&(h+=o/2);var d=l.drawLine(t+n.offsetX-i.width+i.offsetX,h+i.offsetY,t+n.offsetX+i.offsetX,h+i.offsetY,i.color);s.add(d),c+=o}}}}]),t}(),Y=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w}return s(t,[{key:"fixSvgStringForIe11",value:function(t){if(!v.isIE11())return t;var e=0,n=t.replace(/xmlns="http:\/\/www.w3.org\/2000\/svg"/g,(function(t){return 2==++e?'xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs"':t}));return(n=n.replace(/xmlns:NS\d+=""/g,"")).replace(/NS\d+:(\w+:\w+=")/g,"$1")}},{key:"getSvgString",value:function(){var t=this.w.globals.dom.Paper.svg();return this.fixSvgStringForIe11(t)}},{key:"cleanup",value:function(){var t=this.w,e=t.globals.dom.baseEl.getElementsByClassName("apexcharts-xcrosshairs"),n=t.globals.dom.baseEl.getElementsByClassName("apexcharts-ycrosshairs"),i=t.globals.dom.baseEl.querySelectorAll(".apexcharts-zoom-rect, .apexcharts-selection-rect");Array.prototype.forEach.call(i,(function(t){t.setAttribute("width",0)})),e&&e[0]&&(e[0].setAttribute("x",-500),e[0].setAttribute("x1",-500),e[0].setAttribute("x2",-500)),n&&n[0]&&(n[0].setAttribute("y",-100),n[0].setAttribute("y1",-100),n[0].setAttribute("y2",-100))}},{key:"svgUrl",value:function(){this.cleanup();var t=this.getSvgString(),e=new Blob([t],{type:"image/svg+xml;charset=utf-8"});return URL.createObjectURL(e)}},{key:"dataURI",value:function(){var t=this;return new Promise((function(e){var n=t.w;t.cleanup();var i=document.createElement("canvas");i.width=n.globals.svgWidth,i.height=parseInt(n.globals.dom.elWrap.style.height,10);var r="transparent"===n.config.chart.background?"#fff":n.config.chart.background,o=i.getContext("2d");o.fillStyle=r,o.fillRect(0,0,i.width,i.height);var s=t.getSvgString();if(window.canvg&&v.isIE11()){var a=window.canvg.Canvg.fromString(o,s,{ignoreClear:!0,ignoreDimensions:!0});a.start();var l=i.msToBlob();a.stop(),e({blob:l})}else{var c="data:image/svg+xml,"+encodeURIComponent(s),u=new Image;u.crossOrigin="anonymous",u.onload=function(){if(o.drawImage(u,0,0),i.msToBlob){var t=i.msToBlob();e({blob:t})}else{var n=i.toDataURL("image/png");e({imgURI:n})}},u.src=c}}))}},{key:"exportToSVG",value:function(){this.triggerDownload(this.svgUrl(),".svg")}},{key:"exportToPng",value:function(){var t=this;this.dataURI().then((function(e){var n=e.imgURI,i=e.blob;i?navigator.msSaveOrOpenBlob(i,t.w.globals.chartID+".png"):t.triggerDownload(n,".png")}))}},{key:"exportToCSV",value:function(t){var e=this,n=t.series,i=t.columnDelimiter,r=void 0===i?",":i,o=t.lineDelimiter,s=void 0===o?"\n":o,a=this.w,l=[],c=[],u="data:text/csv;charset=utf-8,",h=new H(this.ctx),d=new X(this.ctx),f=function(t){var n="";if(a.globals.axisCharts){if("category"===a.config.xaxis.type||a.config.xaxis.convertedCatToNumeric)if(a.globals.isBarHorizontal){var i=a.globals.yLabelFormatters[0],r=new O(e.ctx).getActiveConfigSeriesIndex();n=i(a.globals.labels[t],{seriesIndex:r,dataPointIndex:t,w:a})}else n=d.getLabel(a.globals.labels,a.globals.timescaleLabels,0,t).text;"datetime"===a.config.xaxis.type&&(a.config.xaxis.categories.length?n=a.config.xaxis.categories[t]:a.config.labels.length&&(n=a.config.labels[t]))}else n=a.config.labels[t];return n};l.push("category"),n.map((function(t,e){a.globals.axisCharts&&l.push(t.name?t.name:"series-".concat(e))})),a.globals.axisCharts||(l.push("value"),c.push(l.join(r))),n.map((function(t,e){a.globals.axisCharts?function(t,e){if(l.length&&0===e&&c.push(l.join(r)),t.data&&t.data.length)for(var i=0;i<t.data.length;i++){l=[];var o=f(i);if(o||(h.isFormatXY()?o=n[e].data[i].x:h.isFormat2DArray()&&(o=n[e].data[i]?n[e].data[i][0]:"")),0===e){l.push(o);for(var s=0;s<a.globals.series.length;s++)l.push(a.globals.series[s][i])}("candlestick"===a.config.chart.type||t.type&&"candlestick"===t.type)&&(l.pop(),l.push(a.globals.seriesCandleO[e][i]),l.push(a.globals.seriesCandleH[e][i]),l.push(a.globals.seriesCandleL[e][i]),l.push(a.globals.seriesCandleC[e][i])),"rangeBar"===a.config.chart.type&&(l.pop(),l.push(a.globals.seriesRangeStart[e][i]),l.push(a.globals.seriesRangeEnd[e][i])),l.length&&c.push(l.join(r))}}(t,e):((l=[]).push(a.globals.labels[e]),l.push(a.globals.series[e]),c.push(l.join(r)))})),u+=c.join(s),this.triggerDownload(encodeURI(u),".csv")}},{key:"triggerDownload",value:function(t,e){var n=document.createElement("a");n.href=t,n.download=this.w.globals.chartID+e,document.body.appendChild(n),n.click(),document.body.removeChild(n)}}]),t}(),W=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w;var n=this.w;this.axesUtils=new X(e),this.xaxisLabels=n.globals.labels.slice(),n.globals.timescaleLabels.length>0&&!n.globals.isBarHorizontal&&(this.xaxisLabels=n.globals.timescaleLabels.slice()),this.drawnLabels=[],this.drawnLabelsRects=[],this.offY="top"===n.config.xaxis.position?0:n.globals.gridHeight+1,this.offY=this.offY+n.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal="bar"===n.config.chart.type&&n.config.plotOptions.bar.horizontal,this.xaxisFontSize=n.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=n.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=n.config.xaxis.labels.style.colors,this.xaxisBorderWidth=n.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=n.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth=this.xaxisBorderWidth.indexOf("%")>-1?n.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=n.config.xaxis.axisBorder.height,this.yaxis=n.config.yaxis[0]}return s(t,[{key:"drawXaxis",value:function(){var t,e=this,n=this.w,i=new b(this.ctx),r=i.group({class:"apexcharts-xaxis",transform:"translate(".concat(n.config.xaxis.offsetX,", ").concat(n.config.xaxis.offsetY,")")}),o=i.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(n.globals.translateXAxisX,", ").concat(n.globals.translateXAxisY,")")});r.add(o);for(var s=n.globals.padHorizontal,a=[],l=0;l<this.xaxisLabels.length;l++)a.push(this.xaxisLabels[l]);var c=a.length;if(s=n.globals.isXNumeric?s+(t=n.globals.gridWidth/(c>1?c-1:c))/2+n.config.xaxis.labels.offsetX:s+(t=n.globals.gridWidth/a.length)+n.config.xaxis.labels.offsetX,n.config.xaxis.labels.show)for(var u=function(r){var l=s-t/2+n.config.xaxis.labels.offsetX;0===r&&1===c&&t/2===s&&1===n.globals.dataPoints&&(l=n.globals.gridWidth/2);var u=e.axesUtils.getLabel(a,n.globals.timescaleLabels,l,r,e.drawnLabels,e.xaxisFontSize),h=28;n.globals.rotateXLabels&&(h=22),(u=e.axesUtils.checkForOverflowingLabels(r,u,c,e.drawnLabels,e.drawnLabelsRects)).text&&n.globals.xaxisLabelsCount++;var d=i.drawText({x:u.x,y:e.offY+n.config.xaxis.labels.offsetY+h-("top"===n.config.xaxis.position?n.globals.xAxisHeight+n.config.xaxis.axisTicks.height-2:0),text:u.text,textAnchor:"middle",fontWeight:u.isBold?600:n.config.xaxis.labels.style.fontWeight,fontSize:e.xaxisFontSize,fontFamily:e.xaxisFontFamily,foreColor:Array.isArray(e.xaxisForeColors)?n.config.xaxis.convertedCatToNumeric?e.xaxisForeColors[n.globals.minX+r-1]:e.xaxisForeColors[r]:e.xaxisForeColors,isPlainText:!1,cssClass:"apexcharts-xaxis-label "+n.config.xaxis.labels.style.cssClass});o.add(d);var f=document.createElementNS(n.globals.SVGNS,"title");f.textContent=u.text,d.node.appendChild(f),""!==u.text&&(e.drawnLabels.push(u.text),e.drawnLabelsRects.push(u)),s+=t},h=0;h<=c-1;h++)u(h);if(void 0!==n.config.xaxis.title.text){var d=i.group({class:"apexcharts-xaxis-title"}),f=i.drawText({x:n.globals.gridWidth/2+n.config.xaxis.title.offsetX,y:this.offY-parseFloat(this.xaxisFontSize)+n.globals.xAxisLabelsHeight+n.config.xaxis.title.offsetY,text:n.config.xaxis.title.text,textAnchor:"middle",fontSize:n.config.xaxis.title.style.fontSize,fontFamily:n.config.xaxis.title.style.fontFamily,fontWeight:n.config.xaxis.title.style.fontWeight,foreColor:n.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+n.config.xaxis.title.style.cssClass});d.add(f),r.add(d)}if(n.config.xaxis.axisBorder.show){var p=n.globals.barPadForNumericAxis,g=i.drawLine(n.globals.padHorizontal+n.config.xaxis.axisBorder.offsetX-p,this.offY,this.xaxisBorderWidth+p,this.offY,n.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);r.add(g)}return r}},{key:"drawXaxisInversed",value:function(t){var e,n,i=this.w,r=new b(this.ctx),o=i.config.yaxis[0].opposite?i.globals.translateYAxisX[t]:0,s=r.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:t}),a=r.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+o+", 0)"});s.add(a);var l=[];if(i.config.yaxis[t].show)for(var c=0;c<this.xaxisLabels.length;c++)l.push(this.xaxisLabels[c]);n=-(e=i.globals.gridHeight/l.length)/2.2;var u=i.globals.yLabelFormatters[0],h=i.config.yaxis[0].labels;if(h.show)for(var d=0;d<=l.length-1;d++){var f=void 0===l[d]?"":l[d];f=u(f,{seriesIndex:t,dataPointIndex:d,w:i});var p=0;Array.isArray(f)&&(p=f.length/2*parseInt(h.style.fontSize,10));var g=r.drawText({x:h.offsetX-15,y:n+e+h.offsetY-p,text:f,textAnchor:this.yaxis.opposite?"start":"end",foreColor:Array.isArray(h.style.colors)?h.style.colors[d]:h.style.colors,fontSize:h.style.fontSize,fontFamily:h.style.fontFamily,fontWeight:h.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+h.style.cssClass});a.add(g);var v=document.createElementNS(i.globals.SVGNS,"title");if(v.textContent=f.text,g.node.appendChild(v),0!==i.config.yaxis[t].labels.rotate){var m=r.rotateAroundCenter(g.node);g.node.setAttribute("transform","rotate(".concat(i.config.yaxis[t].labels.rotate," 0 ").concat(m.y,")"))}n+=e}if(void 0!==i.config.yaxis[0].title.text){var y=r.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+o+", 0)"}),x=r.drawText({x:0,y:i.globals.gridHeight/2,text:i.config.yaxis[0].title.text,textAnchor:"middle",foreColor:i.config.yaxis[0].title.style.color,fontSize:i.config.yaxis[0].title.style.fontSize,fontWeight:i.config.yaxis[0].title.style.fontWeight,fontFamily:i.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+i.config.yaxis[0].title.style.cssClass});y.add(x),s.add(y)}var w=0;this.isCategoryBarHorizontal&&i.config.yaxis[0].opposite&&(w=i.globals.gridWidth);var S=i.config.xaxis.axisBorder;if(S.show){var A=r.drawLine(i.globals.padHorizontal+S.offsetX+w,1+S.offsetY,i.globals.padHorizontal+S.offsetX+w,i.globals.gridHeight+S.offsetY,S.color,0);s.add(A)}return i.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(w,l.length,i.config.yaxis[0].axisBorder,i.config.yaxis[0].axisTicks,0,e,s),s}},{key:"drawXaxisTicks",value:function(t,e){var n=this.w,i=t;if(!(t<0||t-2>n.globals.gridWidth)){var r=this.offY+n.config.xaxis.axisTicks.offsetY,o=r+n.config.xaxis.axisTicks.height;if("top"===n.config.xaxis.position&&(o=r-n.config.xaxis.axisTicks.height),n.config.xaxis.axisTicks.show){var s=new b(this.ctx).drawLine(t+n.config.xaxis.axisTicks.offsetX,r+n.config.xaxis.offsetY,i+n.config.xaxis.axisTicks.offsetX,o+n.config.xaxis.offsetY,n.config.xaxis.axisTicks.color);e.add(s),s.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var t=this.w,e=[],n=this.xaxisLabels.length,i=t.globals.padHorizontal;if(t.globals.timescaleLabels.length>0)for(var r=0;r<n;r++)e.push(i=this.xaxisLabels[r].position);else for(var o=n,s=0;s<o;s++){var a=o;t.globals.isXNumeric&&"bar"!==t.config.chart.type&&(a-=1),e.push(i+=t.globals.gridWidth/a)}return e}},{key:"xAxisLabelCorrections",value:function(){var t=this.w,e=new b(this.ctx),n=t.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),i=t.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text"),r=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),o=t.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(t.globals.rotateXLabels||t.config.xaxis.labels.rotateAlways)for(var s=0;s<i.length;s++){var a=e.rotateAroundCenter(i[s]);a.y=a.y-1,a.x=a.x+1,i[s].setAttribute("transform","rotate(".concat(t.config.xaxis.labels.rotate," ").concat(a.x," ").concat(a.y,")")),i[s].setAttribute("text-anchor","end"),n.setAttribute("transform","translate(0, ".concat(-10,")")),t.config.xaxis.labels.trim&&Array.prototype.forEach.call(i[s].childNodes,(function(n){e.placeTextWithEllipsis(n,n.textContent,t.config.xaxis.labels.maxHeight-("bottom"===t.config.legend.position?20:10))}))}else!function(){for(var n=t.globals.gridWidth/(t.globals.labels.length+1),r=0;r<i.length;r++)t.config.xaxis.labels.trim&&"datetime"!==t.config.xaxis.type&&Array.prototype.forEach.call(i[r].childNodes,(function(t){e.placeTextWithEllipsis(t,t.textContent,n)}))}();if(r.length>0){var l=r[r.length-1].getBBox(),c=r[0].getBBox();l.x<-20&&r[r.length-1].parentNode.removeChild(r[r.length-1]),c.x+c.width>t.globals.gridWidth&&!t.globals.isBarHorizontal&&r[0].parentNode.removeChild(r[0]);for(var u=0;u<o.length;u++)e.placeTextWithEllipsis(o[u],o[u].textContent,t.config.yaxis[0].labels.maxWidth-2*parseFloat(t.config.yaxis[0].title.style.fontSize)-20)}}}]),t}(),G=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w;var n=this.w;this.xaxisLabels=n.globals.labels.slice(),this.axesUtils=new X(e),this.isTimelineBar="datetime"===n.config.xaxis.type&&n.globals.seriesRangeBarTimeline.length,n.globals.timescaleLabels.length>0&&(this.xaxisLabels=n.globals.timescaleLabels.slice())}return s(t,[{key:"drawGridArea",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.w,n=new b(this.ctx);null===t&&(t=n.group({class:"apexcharts-grid"}));var i=n.drawLine(e.globals.padHorizontal,1,e.globals.padHorizontal,e.globals.gridHeight,"transparent"),r=n.drawLine(e.globals.padHorizontal,e.globals.gridHeight,e.globals.gridWidth,e.globals.gridHeight,"transparent");return t.add(r),t.add(i),t}},{key:"drawGrid",value:function(){var t=null;return this.w.globals.axisCharts&&(t=this.renderGrid(),this.drawGridArea(t.el)),t}},{key:"createGridMask",value:function(){var t=this.w,e=t.globals,n=new b(this.ctx),i=Array.isArray(t.config.stroke.width)?0:t.config.stroke.width;if(Array.isArray(t.config.stroke.width)){var r=0;t.config.stroke.width.forEach((function(t){r=Math.max(r,t)})),i=r}e.dom.elGridRectMask=document.createElementNS(e.SVGNS,"clipPath"),e.dom.elGridRectMask.setAttribute("id","gridRectMask".concat(e.cuid)),e.dom.elGridRectMarkerMask=document.createElementNS(e.SVGNS,"clipPath"),e.dom.elGridRectMarkerMask.setAttribute("id","gridRectMarkerMask".concat(e.cuid));var o=t.config.chart.type,s=0,a=0;("bar"===o||"rangeBar"===o||t.globals.comboBarCount>0)&&t.globals.isXNumeric&&!t.globals.isBarHorizontal&&(a=t.config.grid.padding.right,e.barPadForNumericAxis>(s=t.config.grid.padding.left)&&(s=e.barPadForNumericAxis,a=e.barPadForNumericAxis)),e.dom.elGridRect=n.drawRect(-i/2-s-2,-i/2,e.gridWidth+i+a+s+4,e.gridHeight+i,0,"#fff"),new S(this).getLargestMarkerSize();var l=t.globals.markers.largestSize+1;e.dom.elGridRectMarker=n.drawRect(2*-l,2*-l,e.gridWidth+4*l,e.gridHeight+4*l,0,"#fff"),e.dom.elGridRectMask.appendChild(e.dom.elGridRect.node),e.dom.elGridRectMarkerMask.appendChild(e.dom.elGridRectMarker.node);var c=e.dom.baseEl.querySelector("defs");c.appendChild(e.dom.elGridRectMask),c.appendChild(e.dom.elGridRectMarkerMask)}},{key:"_drawGridLines",value:function(t){var e=t.i,n=t.x1,i=this.w;0===e&&i.globals.skipFirstTimelinelabel||e===t.xCount-1&&i.globals.skipLastTimelinelabel||"radar"===i.config.chart.type||(i.config.grid.xaxis.lines.show&&this._drawGridLine({x1:n,y1:t.y1,x2:t.x2,y2:t.y2,parent:t.parent}),new W(this.ctx).drawXaxisTicks(n,this.elg))}},{key:"_drawGridLine",value:function(t){var e=t.x1,n=t.y1,i=t.x2,r=t.y2,o=t.parent,s=this.w,a=o.node.classList.contains("apexcharts-gridlines-horizontal"),l=s.config.grid.strokeDashArray,c=s.globals.barPadForNumericAxis,u=new b(this).drawLine(e-(a?c:0),n,i+(a?c:0),r,s.config.grid.borderColor,l);u.node.classList.add("apexcharts-gridline"),o.add(u)}},{key:"_drawGridBandRect",value:function(t){var e=t.c,n=t.x1,i=t.y1,r=t.x2,o=t.y2,s=t.type,a=this.w,l=new b(this.ctx),c=a.globals.barPadForNumericAxis;if("column"!==s||"datetime"!==a.config.xaxis.type){var u=l.drawRect(n-("row"===s?c:0),i,r+("row"===s?2*c:0),o,0,a.config.grid[s].colors[e],a.config.grid[s].opacity);this.elg.add(u),u.attr("clip-path","url(#gridRectMask".concat(a.globals.cuid,")")),u.node.classList.add("apexcharts-grid-".concat(s))}}},{key:"_drawXYLines",value:function(t){var e=this,n=t.xCount,i=t.tickAmount,r=this.w;if(r.config.grid.xaxis.lines.show||r.config.xaxis.axisTicks.show){var o=r.globals.padHorizontal,s=r.globals.gridHeight;r.globals.timescaleLabels.length?function(t){for(var i=t.xC,r=t.y1,o=t.y2,s=0;s<i;s++)e._drawGridLines({i:s,x1:e.xaxisLabels[s].position,y1:r,x2:e.xaxisLabels[s].position,y2:o,xCount:n,parent:e.elgridLinesV})}({xC:n,x1:o,y1:0,x2:void 0,y2:s}):(r.globals.isXNumeric&&(n=r.globals.xAxisScale.result.length),r.config.xaxis.convertedCatToNumeric&&(n=r.globals.xaxisLabelsCount),function(t){for(var i=t.xC,o=t.x1,s=t.y1,a=t.x2,l=t.y2,c=0;c<i+(r.globals.isXNumeric?0:1);c++)0===c&&1===i&&1===r.globals.dataPoints&&(a=o=r.globals.gridWidth/2),e._drawGridLines({i:c,x1:o,y1:s,x2:a,y2:l,xCount:n,parent:e.elgridLinesV}),a=o+=r.globals.gridWidth/(r.globals.isXNumeric?i-1:i)}({xC:n,x1:o,y1:0,x2:void 0,y2:s}))}if(r.config.grid.yaxis.lines.show){var a=0,l=0,c=r.globals.gridWidth,u=i+1;this.isTimelineBar&&(u=r.globals.labels.length);for(var h=0;h<u+(this.isTimelineBar?1:0);h++)this._drawGridLine({x1:0,y1:a,x2:c,y2:l,parent:this.elgridLinesH}),l=a+=r.globals.gridHeight/(this.isTimelineBar?u:i)}}},{key:"_drawInvertedXYLines",value:function(t){var e=t.xCount,n=this.w;if(n.config.grid.xaxis.lines.show||n.config.xaxis.axisTicks.show)for(var i,r=n.globals.padHorizontal,o=n.globals.gridHeight,s=0;s<e+1;s++)n.config.grid.xaxis.lines.show&&this._drawGridLine({x1:r,y1:0,x2:i,y2:o,parent:this.elgridLinesV}),new W(this.ctx).drawXaxisTicks(r,this.elg),i=r=r+n.globals.gridWidth/e+.3;if(n.config.grid.yaxis.lines.show)for(var a=0,l=0,c=n.globals.gridWidth,u=0;u<n.globals.dataPoints+1;u++)this._drawGridLine({x1:0,y1:a,x2:c,y2:l,parent:this.elgridLinesH}),l=a+=n.globals.gridHeight/n.globals.dataPoints}},{key:"renderGrid",value:function(){var t=this.w,e=new b(this.ctx);this.elg=e.group({class:"apexcharts-grid"}),this.elgridLinesH=e.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=e.group({class:"apexcharts-gridlines-vertical"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),t.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide());for(var n,i=t.globals.yAxisScale.length?t.globals.yAxisScale[0].result.length-1:5,r=0;r<t.globals.series.length&&(void 0!==t.globals.yAxisScale[r]&&(i=t.globals.yAxisScale[r].result.length-1),!(i>2));r++);return!t.globals.isBarHorizontal||this.isTimelineBar?(this.isTimelineBar&&(i=t.globals.labels.length),this._drawXYLines({xCount:n=this.xaxisLabels.length,tickAmount:i})):this._drawInvertedXYLines({xCount:n=i,tickAmount:i=t.globals.xTickAmount}),this.drawGridBands(n,i),{el:this.elg,xAxisTickWidth:t.globals.gridWidth/n}}},{key:"drawGridBands",value:function(t,e){var n=this.w;if(void 0!==n.config.grid.row.colors&&n.config.grid.row.colors.length>0)for(var i=0,r=n.globals.gridHeight/e,o=n.globals.gridWidth,s=0,a=0;s<e;s++,a++)a>=n.config.grid.row.colors.length&&(a=0),this._drawGridBandRect({c:a,x1:0,y1:i,x2:o,y2:r,type:"row"}),i+=n.globals.gridHeight/e;if(void 0!==n.config.grid.column.colors&&n.config.grid.column.colors.length>0)for(var l=n.globals.isBarHorizontal||"category"!==n.config.xaxis.type&&!n.config.xaxis.convertedCatToNumeric?t:t-1,c=n.globals.padHorizontal,u=n.globals.padHorizontal+n.globals.gridWidth/l,h=n.globals.gridHeight,d=0,f=0;d<t;d++,f++)f>=n.config.grid.column.colors.length&&(f=0),this._drawGridBandRect({c:f,x1:c,y1:0,x2:u,y2:h,type:"column"}),c+=n.globals.gridWidth/l}}]),t}(),q=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w}return s(t,[{key:"niceScale",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4?arguments[4]:void 0,o=this.w;if("dataPoints"===n&&(n=o.globals.dataPoints-1),t===Number.MIN_VALUE&&0===e||!v.isNumber(t)&&!v.isNumber(e)||t===Number.MIN_VALUE&&e===-Number.MAX_VALUE){var s=this.linearScale(t=0,e=n,n);return s}t>e?(console.warn("axis.min cannot be greater than axis.max"),e=t+.1):t===e&&(t=0===t?0:t-.5,e=0===e?2:e+.5);var a=[],l=Math.abs(e-t);l<1&&r&&("candlestick"===o.config.chart.type||"candlestick"===o.config.series[i].type||o.globals.isRangeData)&&(e*=1.01);var c=n+1;c<2?c=2:c>2&&(c-=2);var u=l/c,h=Math.floor(v.log10(u)),d=Math.pow(10,h),f=Math.round(u/d);f<1&&(f=1);var p=f*d,g=p*Math.floor(t/p),m=p*Math.ceil(e/p),y=g;if(r&&l>2){for(;a.push(y),!((y+=p)>m););return{result:a,niceMin:a[0],niceMax:a[a.length-1]}}var b=t;(a=[]).push(b);for(var x=Math.abs(e-t)/n,w=0;w<=n;w++)a.push(b+=x);return a[a.length-2]>=e&&a.pop(),{result:a,niceMin:a[0],niceMax:a[a.length-1]}}},{key:"linearScale",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,i=Math.abs(e-t),r=i/n;n===Number.MAX_VALUE&&(n=10,r=1);for(var o=[],s=t;n>=0;)o.push(s),s+=r,n-=1;return{result:o,niceMin:o[0],niceMax:o[o.length-1]}}},{key:"logarithmicScale",value:function(t,e,n,i){(e<0||e===Number.MIN_VALUE)&&(e=.01);for(var r=Math.log(e)/Math.log(10),o=Math.log(n)/Math.log(10),s=Math.abs(n-e)/i,a=[],l=e;i>=0;)a.push(l),l+=s,i-=1;var c=a.map((function(t,i){t<=0&&(t=.01);var s=Math.pow(10,r+(o-r)/(n-e)*(t-r));return Math.round(s/v.roundToBase(s,10))*v.roundToBase(s,10)}));return 0===c[0]&&(c[0]=1),{result:c,niceMin:c[0],niceMax:c[c.length-1]}}},{key:"setYScaleForIndex",value:function(t,e,n){var i=this.w.globals,r=this.w.config,o=i.isBarHorizontal?r.xaxis:r.yaxis[t];void 0===i.yAxisScale[t]&&(i.yAxisScale[t]=[]);var s=Math.abs(n-e);o.logarithmic&&s<=5&&(i.invalidLogScale=!0),o.logarithmic&&s>5?(i.allSeriesCollapsed=!1,i.yAxisScale[t]=this.logarithmicScale(t,e,n,o.tickAmount?o.tickAmount:Math.floor(Math.log10(n)))):n!==-Number.MAX_VALUE&&v.isNumber(n)?(i.allSeriesCollapsed=!1,i.yAxisScale[t]=void 0===o.min&&void 0===o.max||o.forceNiceScale?this.niceScale(e,n,o.tickAmount?o.tickAmount:s<5&&s>1?s+1:5,t,void 0===r.yaxis[t].max&&void 0===r.yaxis[t].min||r.yaxis[t].forceNiceScale):this.linearScale(e,n,o.tickAmount)):i.yAxisScale[t]=this.linearScale(0,5,5)}},{key:"setXScale",value:function(t,e){var n=this.w,i=n.globals,r=n.config.xaxis,o=Math.abs(e-t);return i.xAxisScale=e!==-Number.MAX_VALUE&&v.isNumber(e)?this.niceScale(t,e,r.tickAmount?r.tickAmount:o<5&&o>1?o+1:5,0):this.linearScale(0,5,5),i.xAxisScale}},{key:"setMultipleYScales",value:function(){var t=this,e=this.w.globals,n=this.w.config,i=e.minYArr.concat([]),r=e.maxYArr.concat([]),o=[];n.yaxis.forEach((function(e,s){var a=s;n.series.forEach((function(t,n){t.name===e.seriesName&&(a=n,o.push(s!==n?{index:n,similarIndex:s,alreadyExists:!0}:{index:n}))})),t.setYScaleForIndex(s,i[a],r[a])})),this.sameScaleInMultipleAxes(i,r,o)}},{key:"sameScaleInMultipleAxes",value:function(t,e,n){var i=this,r=this.w.config,o=this.w.globals,s=[];n.forEach((function(t){t.alreadyExists&&(void 0===s[t.index]&&(s[t.index]=[]),s[t.index].push(t.index),s[t.index].push(t.similarIndex))})),o.yAxisSameScaleIndices=s,s.forEach((function(t,e){s.forEach((function(n,i){var r,o;e!==i&&(r=t,o=n,r.filter((function(t){return-1!==o.indexOf(t)}))).length>0&&(s[e]=s[e].concat(s[i]))}))}));var a=s.map((function(t){return t.filter((function(e,n){return t.indexOf(e)===n}))})).map((function(t){return t.sort()}));s=s.filter((function(t){return!!t}));var l=a.slice(),c=l.map((function(t){return JSON.stringify(t)}));l=l.filter((function(t,e){return c.indexOf(JSON.stringify(t))===e}));var u=[],h=[];t.forEach((function(t,n){l.forEach((function(i,r){i.indexOf(n)>-1&&(void 0===u[r]&&(u[r]=[],h[r]=[]),u[r].push({key:n,value:t}),h[r].push({key:n,value:e[n]}))}))}));var d=Array.apply(null,Array(l.length)).map(Number.prototype.valueOf,Number.MIN_VALUE),f=Array.apply(null,Array(l.length)).map(Number.prototype.valueOf,-Number.MAX_VALUE);u.forEach((function(t,e){t.forEach((function(t,n){d[e]=Math.min(t.value,d[e])}))})),h.forEach((function(t,e){t.forEach((function(t,n){f[e]=Math.max(t.value,f[e])}))})),t.forEach((function(t,e){h.forEach((function(t,n){var s=d[n],a=f[n];r.chart.stacked&&(a=0,t.forEach((function(t,e){t.value!==-Number.MAX_VALUE&&(a+=t.value),s!==Number.MIN_VALUE&&(s+=u[n][e].value)}))),t.forEach((function(n,l){t[l].key===e&&(void 0!==r.yaxis[e].min&&(s="function"==typeof r.yaxis[e].min?r.yaxis[e].min(o.minY):r.yaxis[e].min),void 0!==r.yaxis[e].max&&(a="function"==typeof r.yaxis[e].max?r.yaxis[e].max(o.maxY):r.yaxis[e].max),i.setYScaleForIndex(e,s,a))}))}))}))}},{key:"autoScaleY",value:function(t,e,n){t||(t=this);var i=t.w;if(i.globals.isMultipleYAxis||i.globals.collapsedSeries.length)return console.warn("autoScaleYaxis is not supported in a multi-yaxis chart."),e;var r=i.globals.seriesX[0],o=i.config.chart.stacked;return e.forEach((function(t,s){for(var a=0,l=0;l<r.length;l++)if(r[l]>=n.xaxis.min){a=l;break}var c,u,h=i.globals.minYArr[s],d=i.globals.maxYArr[s],f=i.globals.stackedSeriesTotals;i.globals.series.forEach((function(s,l){var p=s[a];o?(c=u=p=f[a],f.forEach((function(t,e){r[e]<=n.xaxis.max&&r[e]>=n.xaxis.min&&(t>u&&null!==t&&(u=t),s[e]<c&&null!==s[e]&&(c=s[e]))}))):(c=u=p,s.forEach((function(t,e){if(r[e]<=n.xaxis.max&&r[e]>=n.xaxis.min){var o=t,s=t;i.globals.series.forEach((function(n,i){null!==t&&(o=Math.min(n[e],o),s=Math.max(n[e],s))})),s>u&&null!==s&&(u=s),o<c&&null!==o&&(c=o)}}))),void 0===c&&void 0===u&&(c=h,u=d),(u*=u<0?.9:1.1)<0&&u<d&&(u=d),(c*=c<0?1.1:.9)<0&&c>h&&(c=h),e.length>1?(e[l].min=void 0===t.min?c:t.min,e[l].max=void 0===t.max?u:t.max):(e[0].min=void 0===t.min?c:t.min,e[0].max=void 0===t.max?u:t.max)}))})),e}}]),t}(),$=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w,this.scales=new q(e)}return s(t,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-Number.MAX_VALUE,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=this.w.config,o=this.w.globals,s=-Number.MAX_VALUE,a=Number.MIN_VALUE;null===i&&(i=t+1);var l=o.series,c=l,u=l;"candlestick"===r.chart.type?(c=o.seriesCandleL,u=o.seriesCandleH):o.isRangeData&&(c=o.seriesRangeStart,u=o.seriesRangeEnd);for(var h=t;h<i;h++){o.dataPoints=Math.max(o.dataPoints,l[h].length);for(var d=0;d<o.series[h].length;d++){var f=l[h][d];null!==f&&v.isNumber(f)?(s=Math.max(s,u[h][d]),e=Math.min(e,c[h][d]),n=Math.max(n,c[h][d]),"candlestick"===this.w.config.chart.type&&(s=Math.max(s,o.seriesCandleO[h][d]),s=Math.max(s,o.seriesCandleH[h][d]),s=Math.max(s,o.seriesCandleL[h][d]),n=s=Math.max(s,o.seriesCandleC[h][d])),v.isFloat(f)&&(f=v.noExponents(f),o.yValueDecimal=Math.max(o.yValueDecimal,f.toString().split(".")[1].length)),a>c[h][d]&&c[h][d]<0&&(a=c[h][d])):o.hasNullValues=!0}}return"rangeBar"===r.chart.type&&o.seriesRangeStart.length&&o.isBarHorizontal&&"datetime"===r.xaxis.type&&(a=e),"bar"===r.chart.type&&(a<0&&s<0&&(s=0),a===Number.MIN_VALUE&&(a=0)),{minY:a,maxY:s,lowestY:e,highestY:n}}},{key:"setYRange",value:function(){var t=this.w.globals,e=this.w.config;t.maxY=-Number.MAX_VALUE,t.minY=Number.MIN_VALUE;var n=Number.MAX_VALUE;if(t.isMultipleYAxis)for(var i=0;i<t.series.length;i++){var r=this.getMinYMaxY(i,n,null,i+1);t.minYArr.push(r.minY),t.maxYArr.push(r.maxY),n=r.lowestY}var o=this.getMinYMaxY(0,n,null,t.series.length);if(t.minY=o.minY,t.maxY=o.maxY,n=o.lowestY,e.chart.stacked&&this._setStackedMinMax(),("line"===e.chart.type||"area"===e.chart.type||"candlestick"===e.chart.type||"rangeBar"===e.chart.type&&!t.isBarHorizontal)&&t.minY===Number.MIN_VALUE&&n!==-Number.MAX_VALUE&&n!==t.maxY){var s=t.maxY-n;n>=0&&n<=10&&(s=0),t.minY=n-5*s/100,n>0&&t.minY<0&&(t.minY=0),t.maxY=t.maxY+5*s/100}return e.yaxis.forEach((function(e,n){void 0!==e.max&&("number"==typeof e.max?t.maxYArr[n]=e.max:"function"==typeof e.max&&(t.maxYArr[n]=e.max(t.maxY)),t.maxY=t.maxYArr[n]),void 0!==e.min&&("number"==typeof e.min?t.minYArr[n]=e.min:"function"==typeof e.min&&(t.minYArr[n]=e.min(t.minY)),t.minY=t.minYArr[n])})),t.isBarHorizontal&&["min","max"].forEach((function(n){void 0!==e.xaxis[n]&&"number"==typeof e.xaxis[n]&&("min"===n?t.minY=e.xaxis[n]:t.maxY=e.xaxis[n])})),t.isMultipleYAxis?(this.scales.setMultipleYScales(),t.minY=n,t.yAxisScale.forEach((function(e,n){t.minYArr[n]=e.niceMin,t.maxYArr[n]=e.niceMax}))):(this.scales.setYScaleForIndex(0,t.minY,t.maxY),t.minY=t.yAxisScale[0].niceMin,t.maxY=t.yAxisScale[0].niceMax,t.minYArr[0]=t.yAxisScale[0].niceMin,t.maxYArr[0]=t.yAxisScale[0].niceMax),{minY:t.minY,maxY:t.maxY,minYArr:t.minYArr,maxYArr:t.maxYArr}}},{key:"setXRange",value:function(){var t=this.w.globals,e=this.w.config,n="numeric"===e.xaxis.type||"datetime"===e.xaxis.type||"category"===e.xaxis.type&&!t.noLabelsProvided||t.noLabelsProvided||t.isXNumeric;if(t.isXNumeric&&function(){for(var e=0;e<t.series.length;e++)if(t.labels[e])for(var n=0;n<t.labels[e].length;n++)null!==t.labels[e][n]&&v.isNumber(t.labels[e][n])&&(t.maxX=Math.max(t.maxX,t.labels[e][n]),t.initialMaxX=Math.max(t.maxX,t.labels[e][n]),t.minX=Math.min(t.minX,t.labels[e][n]),t.initialMinX=Math.min(t.minX,t.labels[e][n]))}(),t.noLabelsProvided&&0===e.xaxis.categories.length&&(t.maxX=t.labels[t.labels.length-1],t.initialMaxX=t.labels[t.labels.length-1],t.minX=1,t.initialMinX=1),t.isXNumeric||t.noLabelsProvided||t.dataFormatXNumeric){var i;if(void 0===e.xaxis.tickAmount?(i=Math.round(t.svgWidth/150),"numeric"===e.xaxis.type&&t.dataPoints<30&&(i=t.dataPoints-1),i>t.dataPoints&&0!==t.dataPoints&&(i=t.dataPoints-1)):"dataPoints"===e.xaxis.tickAmount?(t.series.length>1&&(i=t.series[t.maxValsInArrayIndex].length-1),t.isXNumeric&&(i=t.maxX-t.minX-1)):i=e.xaxis.tickAmount,t.xTickAmount=i,void 0!==e.xaxis.max&&"number"==typeof e.xaxis.max&&(t.maxX=e.xaxis.max),void 0!==e.xaxis.min&&"number"==typeof e.xaxis.min&&(t.minX=e.xaxis.min),void 0!==e.xaxis.range&&(t.minX=t.maxX-e.xaxis.range),t.minX!==Number.MAX_VALUE&&t.maxX!==-Number.MAX_VALUE)if(e.xaxis.convertedCatToNumeric&&!t.dataFormatXNumeric){for(var r=[],o=t.minX-1;o<t.maxX;o++)r.push(o+1);t.xAxisScale={result:r,niceMin:r[0],niceMax:r[r.length-1]}}else t.xAxisScale=this.scales.setXScale(t.minX,t.maxX);else t.xAxisScale=this.scales.linearScale(1,i,i),t.noLabelsProvided&&t.labels.length>0&&(t.xAxisScale=this.scales.linearScale(1,t.labels.length,i-1),t.seriesX=t.labels.slice());n&&(t.labels=t.xAxisScale.result.slice())}return t.isBarHorizontal&&t.labels.length&&(t.xTickAmount=t.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:t.minX,maxX:t.maxX}}},{key:"setZRange",value:function(){var t=this.w.globals;if(t.isDataXYZ)for(var e=0;e<t.series.length;e++)if(void 0!==t.seriesZ[e])for(var n=0;n<t.seriesZ[e].length;n++)null!==t.seriesZ[e][n]&&v.isNumber(t.seriesZ[e][n])&&(t.maxZ=Math.max(t.maxZ,t.seriesZ[e][n]),t.minZ=Math.min(t.minZ,t.seriesZ[e][n]))}},{key:"_handleSingleDataPoint",value:function(){var t=this.w.globals,e=this.w.config;if(t.minX===t.maxX){var n=new M(this.ctx);if("datetime"===e.xaxis.type){var i=n.getDate(t.minX);i.setUTCDate(i.getDate()-2),t.minX=new Date(i).getTime();var r=n.getDate(t.maxX);r.setUTCDate(r.getDate()+2),t.maxX=new Date(r).getTime()}else("numeric"===e.xaxis.type||"category"===e.xaxis.type&&!t.noLabelsProvided)&&(t.minX=t.minX-2,t.initialMinX=t.minX,t.maxX=t.maxX+2,t.initialMaxX=t.maxX)}}},{key:"_getMinXDiff",value:function(){var t=this.w.globals;t.isXNumeric&&t.seriesX.forEach((function(e,n){1===e.length&&e.push(t.seriesX[t.maxValsInArrayIndex][t.seriesX[t.maxValsInArrayIndex].length-1]);var i=e.slice();i.sort((function(t,e){return t-e})),i.forEach((function(e,i){if(i>0){var r=e-t.seriesX[n][i-1];r>0&&(t.minXDiff=Math.min(r,t.minXDiff))}})),1===t.dataPoints&&t.minXDiff===Number.MAX_VALUE&&(t.minXDiff=.5)}))}},{key:"_setStackedMinMax",value:function(){var t=this.w.globals,e=[],n=[];if(t.series.length)for(var i=0;i<t.series[t.maxValsInArrayIndex].length;i++)for(var r=0,o=0,s=0;s<t.series.length;s++)null!==t.series[s][i]&&v.isNumber(t.series[s][i])&&(t.series[s][i]>0?r=r+parseFloat(t.series[s][i])+1e-4:o+=parseFloat(t.series[s][i])),s===t.series.length-1&&(e.push(r),n.push(o));for(var a=0;a<e.length;a++)t.maxY=Math.max(t.maxY,e[a]),t.minY=Math.min(t.minY,n[a])}}]),t}(),K=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w;var n=this.w;this.xaxisFontSize=n.config.xaxis.labels.style.fontSize,this.axisFontFamily=n.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=n.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal="bar"===n.config.chart.type&&n.config.plotOptions.bar.horizontal,this.xAxisoffX=0,"bottom"===n.config.xaxis.position&&(this.xAxisoffX=n.globals.gridHeight),this.drawnLabels=[],this.axesUtils=new X(e)}return s(t,[{key:"drawYaxis",value:function(t){var e=this.w,n=new b(this.ctx),i=e.config.yaxis[t].labels.style,r=i.fontSize,o=i.fontFamily,s=i.fontWeight,a=n.group({class:"apexcharts-yaxis",rel:t,transform:"translate("+e.globals.translateYAxisX[t]+", 0)"});if(this.axesUtils.isYAxisHidden(t))return a;var l=n.group({class:"apexcharts-yaxis-texts-g"});a.add(l);var c=e.globals.yAxisScale[t].result.length-1,u=e.globals.gridHeight/c,h=e.globals.translateY,d=e.globals.yLabelFormatters[t],f=e.globals.yAxisScale[t].result.slice();f=this.axesUtils.checkForReversedLabels(t,f);var p="";if(e.config.yaxis[t].labels.show)for(var g=function(a){var g=f[a];g=d(g,a);var v=e.config.yaxis[t].labels.padding;e.config.yaxis[t].opposite&&0!==e.config.yaxis.length&&(v*=-1);var m=n.drawText({x:v,y:h+c/10+e.config.yaxis[t].labels.offsetY+1,text:g,textAnchor:e.config.yaxis[t].opposite?"start":"end",fontSize:r,fontFamily:o,fontWeight:s,foreColor:Array.isArray(i.colors)?i.colors[a]:i.colors,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+i.cssClass});if(a===c&&(p=m),l.add(m),0!==e.config.yaxis[t].labels.rotate){var y=n.rotateAroundCenter(p.node),b=n.rotateAroundCenter(m.node);m.node.setAttribute("transform","rotate(".concat(e.config.yaxis[t].labels.rotate," ").concat(y.x," ").concat(b.y,")"))}h+=u},v=c;v>=0;v--)g(v);if(void 0!==e.config.yaxis[t].title.text){var m=n.group({class:"apexcharts-yaxis-title"}),y=0;e.config.yaxis[t].opposite&&(y=e.globals.translateYAxisX[t]);var x=n.drawText({x:y,y:e.globals.gridHeight/2+e.globals.translateY+e.config.yaxis[t].title.offsetY,text:e.config.yaxis[t].title.text,textAnchor:"end",foreColor:e.config.yaxis[t].title.style.color,fontSize:e.config.yaxis[t].title.style.fontSize,fontWeight:e.config.yaxis[t].title.style.fontWeight,fontFamily:e.config.yaxis[t].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+e.config.yaxis[t].title.style.cssClass});m.add(x),a.add(m)}var w=e.config.yaxis[t].axisBorder,S=31+w.offsetX;if(e.config.yaxis[t].opposite&&(S=-31-w.offsetX),w.show){var A=n.drawLine(S,e.globals.translateY+w.offsetY-2,S,e.globals.gridHeight+e.globals.translateY+w.offsetY+2,w.color,0,w.width);a.add(A)}return e.config.yaxis[t].axisTicks.show&&this.axesUtils.drawYAxisTicks(S,c,w,e.config.yaxis[t].axisTicks,t,u,a),a}},{key:"drawYaxisInversed",value:function(t){var e=this.w,n=new b(this.ctx),i=n.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),r=n.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(e.globals.translateXAxisX,", ").concat(e.globals.translateXAxisY,")")});i.add(r);var o=e.globals.yAxisScale[t].result.length-1,s=e.globals.gridWidth/o+.1,a=s+e.config.xaxis.labels.offsetX,l=e.globals.xLabelFormatter,c=e.globals.yAxisScale[t].result.slice(),u=e.globals.timescaleLabels;u.length>0&&(this.xaxisLabels=u.slice(),o=(c=u.slice()).length),c=this.axesUtils.checkForReversedLabels(t,c);var h=u.length;if(e.config.xaxis.labels.show)for(var d=h?0:o;h?d<h:d>=0;h?d++:d--){var f=c[d];f=l(f,d);var p=e.globals.gridWidth+e.globals.padHorizontal-(a-s+e.config.xaxis.labels.offsetX);if(u.length){var g=this.axesUtils.getLabel(c,u,p,d,this.drawnLabels,this.xaxisFontSize);p=g.x,f=g.text,this.drawnLabels.push(g.text),0===d&&e.globals.skipFirstTimelinelabel&&(f=""),d===c.length-1&&e.globals.skipLastTimelinelabel&&(f="")}var v=n.drawText({x:p,y:this.xAxisoffX+e.config.xaxis.labels.offsetY+30-("top"===e.config.xaxis.position?e.globals.xAxisHeight+e.config.xaxis.axisTicks.height-2:0),text:f,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[t]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:e.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label "+e.config.xaxis.labels.style.cssClass});r.add(v),v.tspan(f);var m=document.createElementNS(e.globals.SVGNS,"title");m.textContent=f,v.node.appendChild(m),a+=s}return this.inversedYAxisTitleText(i),this.inversedYAxisBorder(i),i}},{key:"inversedYAxisBorder",value:function(t){var e=this.w,n=new b(this.ctx),i=e.config.xaxis.axisBorder;if(i.show){var r=0;"bar"===e.config.chart.type&&e.globals.isXNumeric&&(r-=15);var o=n.drawLine(e.globals.padHorizontal+r+i.offsetX,this.xAxisoffX,e.globals.gridWidth,this.xAxisoffX,i.color,0,i.height);t.add(o)}}},{key:"inversedYAxisTitleText",value:function(t){var e=this.w,n=new b(this.ctx);if(void 0!==e.config.xaxis.title.text){var i=n.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),r=n.drawText({x:e.globals.gridWidth/2+e.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(e.config.xaxis.title.style.fontSize)+e.config.xaxis.title.offsetY+20,text:e.config.xaxis.title.text,textAnchor:"middle",fontSize:e.config.xaxis.title.style.fontSize,fontFamily:e.config.xaxis.title.style.fontFamily,fontWeight:e.config.xaxis.title.style.fontWeight,cssClass:"apexcharts-xaxis-title-text "+e.config.xaxis.title.style.cssClass});i.add(r),t.add(i)}}},{key:"yAxisTitleRotate",value:function(t,e){var n=this.w,i=new b(this.ctx),r={width:0,height:0},o={width:0,height:0},s=n.globals.dom.baseEl.querySelector(" .apexcharts-yaxis[rel='".concat(t,"'] .apexcharts-yaxis-texts-g"));null!==s&&(r=s.getBoundingClientRect());var a=n.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(t,"'] .apexcharts-yaxis-title text"));if(null!==a&&(o=a.getBoundingClientRect()),null!==a){var l=this.xPaddingForYAxisTitle(t,r,o,e);a.setAttribute("x",l.xPos-(e?10:0))}if(null!==a){var c=i.rotateAroundCenter(a);a.setAttribute("transform","rotate(".concat(e?"":"-").concat(n.config.yaxis[t].title.rotate," ").concat(c.x," ").concat(c.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(t,e,n,i){var r=this.w,o=0,s=0,a=10;return void 0===r.config.yaxis[t].title.text||t<0?{xPos:s,padd:0}:(i?(s=e.width+r.config.yaxis[t].title.offsetX+n.width/2+a/2,0===(o+=1)&&(s-=a/2)):(s=-1*e.width+r.config.yaxis[t].title.offsetX+a/2+n.width/2,r.globals.isBarHorizontal&&(s=-1*e.width-r.config.yaxis[t].title.offsetX-(a=25))),{xPos:s,padd:a})}},{key:"setYAxisXPosition",value:function(t,e){var n=this.w,i=0,r=0,o=18,s=1;n.config.yaxis.length>1&&(this.multipleYs=!0),n.config.yaxis.map((function(a,l){var c=n.globals.ignoreYAxisIndexes.indexOf(l)>-1||!a.show||a.floating||0===t[l].width,u=t[l].width+e[l].width;a.opposite?n.globals.isBarHorizontal?n.globals.translateYAxisX[l]=(r=n.globals.gridWidth+n.globals.translateX-1)-a.labels.offsetX:(r=n.globals.gridWidth+n.globals.translateX+s,c||(s=s+u+20),n.globals.translateYAxisX[l]=r-a.labels.offsetX+20):(i=n.globals.translateX-o,c||(o=o+u+20),n.globals.translateYAxisX[l]=i+a.labels.offsetX)}))}},{key:"setYAxisTextAlignments",value:function(){var t=this.w,e=t.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis");(e=v.listToArray(e)).forEach((function(e,n){var i=t.config.yaxis[n];if(void 0!==i.labels.align){var r=t.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(n,"'] .apexcharts-yaxis-texts-g")),o=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(n,"'] .apexcharts-yaxis-label"));o=v.listToArray(o);var s=r.getBoundingClientRect();"left"===i.labels.align?(o.forEach((function(t,e){t.setAttribute("text-anchor","start")})),i.opposite||r.setAttribute("transform","translate(-".concat(s.width,", 0)"))):"center"===i.labels.align?(o.forEach((function(t,e){t.setAttribute("text-anchor","middle")})),r.setAttribute("transform","translate(".concat(s.width/2*(i.opposite?1:-1),", 0)"))):"right"===i.labels.align&&(o.forEach((function(t,e){t.setAttribute("text-anchor","end")})),i.opposite&&r.setAttribute("transform","translate(".concat(s.width,", 0)")))}}))}}]),t}(),Z=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w,this.documentEvent=v.bind(this.documentEvent,this)}return s(t,[{key:"addEventListener",value:function(t,e){var n=this.w;n.globals.events.hasOwnProperty(t)?n.globals.events[t].push(e):n.globals.events[t]=[e]}},{key:"removeEventListener",value:function(t,e){var n=this.w;if(n.globals.events.hasOwnProperty(t)){var i=n.globals.events[t].indexOf(e);-1!==i&&n.globals.events[t].splice(i,1)}}},{key:"fireEvent",value:function(t,e){var n=this.w;if(n.globals.events.hasOwnProperty(t)){e&&e.length||(e=[]);for(var i=n.globals.events[t],r=i.length,o=0;o<r;o++)i[o].apply(null,e)}}},{key:"setupEventHandlers",value:function(){var t=this,e=this.w,n=this.ctx,i=e.globals.dom.baseEl.querySelector(e.globals.chartClass);this.ctx.eventList.forEach((function(t){i.addEventListener(t,(function(t){var i=Object.assign({},e,{seriesIndex:e.globals.capturedSeriesIndex,dataPointIndex:e.globals.capturedDataPointIndex});"mousemove"===t.type||"touchmove"===t.type?"function"==typeof e.config.chart.events.mouseMove&&e.config.chart.events.mouseMove(t,n,i):("mouseup"===t.type&&1===t.which||"touchend"===t.type)&&("function"==typeof e.config.chart.events.click&&e.config.chart.events.click(t,n,i),n.ctx.events.fireEvent("click",[t,n,i]))}),{capture:!1,passive:!0})})),this.ctx.eventList.forEach((function(e){document.addEventListener(e,t.documentEvent)})),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(t){var e=this.w,n=t.target.className;if("click"===t.type){var i=e.globals.dom.baseEl.querySelector(".apexcharts-menu");i&&i.classList.contains("apexcharts-menu-open")&&"apexcharts-menu-icon"!==n&&i.classList.remove("apexcharts-menu-open")}if("mousedown"===t.type){var r=e.globals.dom.Paper.select(".apexcharts-resizable-element").members;Array.prototype.forEach.call(r,(function(e){t.target.classList.contains("apexcharts-resizable-element")||t.target.classList.contains("svg_select_points")||e.selectize(!1)}))}e.globals.clientX="touchmove"===t.type?t.touches[0].clientX:t.clientX,e.globals.clientY="touchmove"===t.type?t.touches[0].clientY:t.clientY}}]),t}(),Q=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w}return s(t,[{key:"setCurrentLocaleValues",value:function(t){var e=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(e=this.w.config.chart.locales.concat(window.Apex.chart.locales));var n=e.filter((function(e){return e.name===t}))[0];if(!n)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var i=v.extend(k,n);this.w.globals.locale=i.options}}]),t}(),J=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w}return s(t,[{key:"drawAxis",value:function(t,e){var n,i,r=this.w.globals,o=this.w.config,s=new W(this.ctx),a=new K(this.ctx);r.axisCharts&&"radar"!==t&&(r.isBarHorizontal?(i=a.drawYaxisInversed(0),n=s.drawXaxisInversed(0),r.dom.elGraphical.add(n),r.dom.elGraphical.add(i)):(n=s.drawXaxis(),r.dom.elGraphical.add(n),o.yaxis.map((function(t,e){-1===r.ignoreYAxisIndexes.indexOf(e)&&(i=a.drawYaxis(e),r.dom.Paper.add(i))})))),o.yaxis.map((function(t,e){-1===r.ignoreYAxisIndexes.indexOf(e)&&a.yAxisTitleRotate(e,t.opposite)}))}}]),t}(),tt=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w}return s(t,[{key:"drawXCrosshairs",value:function(){var t=this.w,e=new b(this.ctx),n=new m(this.ctx),i=t.config.xaxis.crosshairs.fill.gradient,r=t.config.xaxis.crosshairs.dropShadow,o=r.enabled,s=r.left,a=r.top,l=r.blur,c=r.color,u=r.opacity,h=t.config.xaxis.crosshairs.fill.color;if(t.config.xaxis.crosshairs.show){"gradient"===t.config.xaxis.crosshairs.fill.type&&(h=e.drawGradient("vertical",i.colorFrom,i.colorTo,i.opacityFrom,i.opacityTo,null,i.stops,null));var d=e.drawRect();1===t.config.xaxis.crosshairs.width&&(d=e.drawLine()),d.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:t.globals.gridHeight,width:v.isNumber(t.config.xaxis.crosshairs.width)?t.config.xaxis.crosshairs.width:0,height:t.globals.gridHeight,fill:h,filter:"none","fill-opacity":t.config.xaxis.crosshairs.opacity,stroke:t.config.xaxis.crosshairs.stroke.color,"stroke-width":t.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":t.config.xaxis.crosshairs.stroke.dashArray}),o&&(d=n.dropShadow(d,{left:s,top:a,blur:l,color:c,opacity:u})),t.globals.dom.elGraphical.add(d)}}},{key:"drawYCrosshairs",value:function(){var t=this.w,e=new b(this.ctx),n=t.config.yaxis[0].crosshairs,i=t.globals.barPadForNumericAxis;if(t.config.yaxis[0].crosshairs.show){var r=e.drawLine(-i,0,t.globals.gridWidth+i,0,n.stroke.color,n.stroke.dashArray,n.stroke.width);r.attr({class:"apexcharts-ycrosshairs"}),t.globals.dom.elGraphical.add(r)}var o=e.drawLine(-i,0,t.globals.gridWidth+i,0,n.stroke.color,0,0);o.attr({class:"apexcharts-ycrosshairs-hidden"}),t.globals.dom.elGraphical.add(o)}}]),t}(),et=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w}return s(t,[{key:"checkResponsiveConfig",value:function(t){var e=this,n=this.w,i=n.config;if(0!==i.responsive.length){var r=i.responsive.slice();r.sort((function(t,e){return t.breakpoint>e.breakpoint?1:e.breakpoint>t.breakpoint?-1:0})).reverse();var o=new V({}),s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=r[0].breakpoint,s=window.innerWidth>0?window.innerWidth:screen.width;if(s>i){var a=S.extendArrayProps(o,n.globals.initialConfig,n);t=v.extend(a,t),t=v.extend(n.config,t),e.overrideResponsiveOptions(t)}else for(var l=0;l<r.length;l++)s<r[l].breakpoint&&(t=S.extendArrayProps(o,r[l].options,n),t=v.extend(n.config,t),e.overrideResponsiveOptions(t))};if(t){var a=S.extendArrayProps(o,t,n);a=v.extend(n.config,a),s(a=v.extend(a,t))}else s({})}}},{key:"overrideResponsiveOptions",value:function(t){var e=new V(t).init({responsiveOverride:!0});this.w.config=e}}]),t}(),nt=function(){function t(e){r(this,t),this.ctx=e,this.colors=[],this.w=e.w;var n=this.w;this.isColorFn=!1,this.isBarDistributed=n.config.plotOptions.bar.distributed&&("bar"===n.config.chart.type||"rangeBar"===n.config.chart.type)}return s(t,[{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var t=this,e=this.w,n=new v;if(e.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(e.config.theme.mode)),void 0===e.config.colors?e.globals.colors=this.predefined():(e.globals.colors=e.config.colors,Array.isArray(e.config.colors)&&e.config.colors.length>0&&"function"==typeof e.config.colors[0]&&(e.globals.colors=e.config.series.map((function(n,i){var r=e.config.colors[i];return r||(r=e.config.colors[0]),"function"==typeof r?(t.isColorFn=!0,r({value:e.globals.axisCharts?e.globals.series[i][0]?e.globals.series[i][0]:0:e.globals.series[i],seriesIndex:i,dataPointIndex:i,w:e})):r})))),e.config.theme.monochrome.enabled){var i=[],r=e.globals.series.length;this.isBarDistributed&&(r=e.globals.series[0].length*e.globals.series.length);for(var o=e.config.theme.monochrome.color,s=1/(r/e.config.theme.monochrome.shadeIntensity),a=e.config.theme.monochrome.shadeTo,l=0,c=0;c<r;c++){var u=void 0;"dark"===a?(u=n.shadeColor(-1*l,o),l+=s):(u=n.shadeColor(l,o),l+=s),i.push(u)}e.globals.colors=i.slice()}var h=e.globals.colors.slice();this.pushExtraColors(e.globals.colors),["fill","stroke"].forEach((function(n){e.globals[n].colors=void 0===e.config[n].colors?t.isColorFn?e.config.colors:h:e.config[n].colors.slice(),t.pushExtraColors(e.globals[n].colors)})),e.globals.dataLabels.style.colors=void 0===e.config.dataLabels.style.colors?h:e.config.dataLabels.style.colors.slice(),this.pushExtraColors(e.globals.dataLabels.style.colors,50),e.globals.radarPolygons.fill.colors=void 0===e.config.plotOptions.radar.polygons.fill.colors?["dark"===e.config.theme.mode?"#424242":"#fff"]:e.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(e.globals.radarPolygons.fill.colors,20),e.globals.markers.colors=void 0===e.config.markers.colors?h:e.config.markers.colors.slice(),this.pushExtraColors(e.globals.markers.colors)}},{key:"pushExtraColors",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=this.w,r=e||i.globals.series.length;if(null===n&&(n=this.isBarDistributed||"heatmap"===i.config.chart.type&&i.config.plotOptions.heatmap.colorScale.inverse),n&&(r=i.globals.series[0].length*i.globals.series.length),t.length<r)for(var o=r-t.length,s=0;s<o;s++)t.push(t[s])}},{key:"updateThemeOptions",value:function(t){t.chart=t.chart||{},t.tooltip=t.tooltip||{};var e=t.theme.mode||"light",n=t.theme.palette?t.theme.palette:"dark"===e?"palette4":"palette1",i=t.chart.foreColor?t.chart.foreColor:"dark"===e?"#f6f7f8":"#373d3f";return t.tooltip.theme=e,t.chart.foreColor=i,t.theme.palette=n,t}},{key:"predefined",value:function(){switch(this.w.config.theme.palette){case"palette1":this.colors=["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"];break;case"palette2":this.colors=["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"];break;case"palette3":this.colors=["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"];break;case"palette4":this.colors=["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"];break;case"palette5":this.colors=["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"];break;case"palette6":this.colors=["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"];break;case"palette7":this.colors=["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"];break;case"palette8":this.colors=["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"];break;case"palette9":this.colors=["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"];break;case"palette10":this.colors=["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"];break;default:this.colors=["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"]}return this.colors}}]),t}(),it=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w}return s(t,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(t){var e=this.w,n="title"===t?e.config.title:e.config.subtitle,i=e.globals.svgWidth/2,r=n.offsetY,o="middle";if("left"===n.align?(i=10,o="start"):"right"===n.align&&(i=e.globals.svgWidth-10,o="end"),i+=n.offsetX,r=r+parseInt(n.style.fontSize,10)+n.margin/2,void 0!==n.text){var s=new b(this.ctx).drawText({x:i,y:r,text:n.text,textAnchor:o,fontSize:n.style.fontSize,fontFamily:n.style.fontFamily,fontWeight:n.style.fontWeight,foreColor:n.style.color,opacity:1});s.node.setAttribute("class","apexcharts-".concat(t,"-text")),e.globals.dom.Paper.add(s)}}}]),t}(),rt=function(){function t(e){r(this,t),this.w=e.w,this.dCtx=e}return s(t,[{key:"getTitleSubtitleCoords",value:function(t){var e=this.w,n=0,i=0,r="title"===t?e.config.title.floating:e.config.subtitle.floating,o=e.globals.dom.baseEl.querySelector(".apexcharts-".concat(t,"-text"));if(null!==o&&!r){var s=o.getBoundingClientRect();n=s.width,i=e.globals.axisCharts?s.height+5:s.height}return{width:n,height:i}}},{key:"getLegendsRect",value:function(){var t=this.w,e=t.globals.dom.baseEl.querySelector(".apexcharts-legend"),n=Object.assign({},v.getBoundingClientRect(e));return this.dCtx.lgRect=null!==e&&!t.config.legend.floating&&t.config.legend.show?{x:n.x,y:n.y,height:n.height,width:0===n.height?0:n.width}:{x:0,y:0,height:0,width:0},"left"!==t.config.legend.position&&"right"!==t.config.legend.position||1.5*this.dCtx.lgRect.width>t.globals.svgWidth&&(this.dCtx.lgRect.width=t.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getLargestStringFromMultiArr",value:function(t,e){var n=t;if(this.w.globals.isMultiLineX){var i=e.map((function(t,e){return Array.isArray(t)?t.length:1})),r=Math.max.apply(Math,f(i));n=e[i.indexOf(r)]}return n}}]),t}(),ot=function(){function t(e){r(this,t),this.w=e.w,this.dCtx=e}return s(t,[{key:"getxAxisLabelsCoords",value:function(){var t,e=this.w,n=e.globals.labels.slice();if(e.config.xaxis.convertedCatToNumeric&&0===n.length&&(n=e.globals.categoryLabels),e.globals.timescaleLabels.length>0){var i=this.getxAxisTimeScaleLabelsCoords();t={width:i.width,height:i.height},e.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends="left"!==e.config.legend.position&&"right"!==e.config.legend.position||e.config.legend.floating?0:this.dCtx.lgRect.width;var r=e.globals.xLabelFormatter,o=v.getLargestStringFromArr(n),s=this.dCtx.dimHelpers.getLargestStringFromMultiArr(o,n);e.globals.isBarHorizontal&&(s=o=e.globals.yAxisScale[0].result.reduce((function(t,e){return t.length>e.length?t:e}),0));var a=new B(this.dCtx.ctx),l=o;o=a.xLabelFormat(r,o,l),s=a.xLabelFormat(r,s,l),(e.config.xaxis.convertedCatToNumeric&&void 0===o||""===String(o).trim())&&(s=o="1");var c=new b(this.dCtx.ctx),u=c.getTextRects(o,e.config.xaxis.labels.style.fontSize),h=u;if(o!==s&&(h=c.getTextRects(s,e.config.xaxis.labels.style.fontSize)),(t={width:u.width>=h.width?u.width:h.width,height:u.height>=h.height?u.height:h.height}).width*n.length>e.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&0!==e.config.xaxis.labels.rotate||e.config.xaxis.labels.rotateAlways){if(!e.globals.isBarHorizontal){e.globals.rotateXLabels=!0;var d=function(t){return c.getTextRects(t,e.config.xaxis.labels.style.fontSize,e.config.xaxis.labels.style.fontFamily,"rotate(".concat(e.config.xaxis.labels.rotate," 0 0)"),!1)};u=d(o),o!==s&&(h=d(s)),t.height=(u.height>h.height?u.height:h.height)/1.5,t.width=u.width>h.width?u.width:h.width}}else e.globals.rotateXLabels=!1}return e.config.xaxis.labels.show||(t={width:0,height:0}),{width:t.width,height:t.height}}},{key:"getxAxisTitleCoords",value:function(){var t=this.w,e=0,n=0;if(void 0!==t.config.xaxis.title.text){var i=new b(this.dCtx.ctx).getTextRects(t.config.xaxis.title.text,t.config.xaxis.title.style.fontSize);e=i.width,n=i.height}return{width:e,height:n}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var t,e=this.w;this.dCtx.timescaleLabels=e.globals.timescaleLabels.slice();var n=this.dCtx.timescaleLabels.map((function(t){return t.value})),i=n.reduce((function(t,e){return void 0===t?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):t.length>e.length?t:e}),0);return 1.05*(t=new b(this.dCtx.ctx).getTextRects(i,e.config.xaxis.labels.style.fontSize)).width*n.length>e.globals.gridWidth&&0!==e.config.xaxis.labels.rotate&&(e.globals.overlappingXLabels=!0),t}},{key:"additionalPaddingXLabels",value:function(t){var e=this,n=this.w,i=n.globals,r=n.config,o=r.xaxis.type,s=t.width;i.skipLastTimelinelabel=!1,i.skipFirstTimelinelabel=!1;var a=n.config.yaxis[0].opposite&&n.globals.isBarHorizontal,l=function(t,a){(function(t){return-1!==i.collapsedSeriesIndices.indexOf(t)})(a)||("datetime"!==o&&e.dCtx.gridPad.left<s/2-e.dCtx.yAxisWidthLeft&&!i.rotateXLabels&&!r.xaxis.labels.trim&&(e.dCtx.xPadLeft=s/2+1),function(t){if(e.dCtx.timescaleLabels&&e.dCtx.timescaleLabels.length){var r=e.dCtx.timescaleLabels[0].position-s/1.75+e.dCtx.yAxisWidthLeft;e.dCtx.timescaleLabels[e.dCtx.timescaleLabels.length-1].position+s/1.75-e.dCtx.yAxisWidthRight>i.gridWidth&&(i.skipLastTimelinelabel=!0),r<0&&(i.skipFirstTimelinelabel=!0)}else"datetime"===o?e.dCtx.gridPad.right<s&&!i.rotateXLabels&&(i.skipLastTimelinelabel=!0):"datetime"!==o&&e.dCtx.gridPad.right<s/2-e.dCtx.yAxisWidthRight&&!i.rotateXLabels&&("between"!==n.config.xaxis.tickPlacement||n.globals.isBarHorizontal)&&(e.dCtx.xPadRight=s/2+1)}())};r.yaxis.forEach((function(t,n){a?(e.dCtx.gridPad.left<s&&(e.dCtx.xPadLeft=s/2+1),e.dCtx.xPadRight=s/2+1):l(0,n)}))}}]),t}(),st=function(){function t(e){r(this,t),this.w=e.w,this.dCtx=e}return s(t,[{key:"getyAxisLabelsCoords",value:function(){var t=this,e=this.w,n=[],i=10,r=new X(this.dCtx.ctx);return e.config.yaxis.map((function(o,s){var a=e.globals.yAxisScale[s];if(!r.isYAxisHidden(s)&&o.labels.show&&a.result.length){var l=e.globals.yLabelFormatters[s],c=String(a.niceMin).length>String(a.niceMax).length?a.niceMin:a.niceMax,u=l(c,{seriesIndex:s,dataPointIndex:-1,w:e}),h=u;if(void 0!==u&&0!==u.length||(u=c),e.globals.isBarHorizontal){i=0;var d=e.globals.labels.slice();u=l(u=v.getLargestStringFromArr(d),{seriesIndex:s,dataPointIndex:-1,w:e}),h=t.dCtx.dimHelpers.getLargestStringFromMultiArr(u,d)}var f=new b(t.dCtx.ctx),p=f.getTextRects(u,o.labels.style.fontSize),g=p;u!==h&&(g=f.getTextRects(h,o.labels.style.fontSize)),n.push({width:(g.width>p.width?g.width:p.width)+i,height:g.height>p.height?g.height:p.height})}else n.push({width:0,height:0})})),n}},{key:"getyAxisTitleCoords",value:function(){var t=this,e=[];return this.w.config.yaxis.map((function(n,i){if(n.show&&void 0!==n.title.text){var r=new b(t.dCtx.ctx).getTextRects(n.title.text,n.title.style.fontSize,n.title.style.fontFamily,"rotate(-90 0 0)",!1);e.push({width:r.width,height:r.height})}else e.push({width:0,height:0})})),e}},{key:"getTotalYAxisWidth",value:function(){var t=this.w,e=0,n=0,i=0,r=t.globals.yAxisScale.length>1?10:0,o=new X(this.dCtx.ctx),s=function(s,a){var l=t.config.yaxis[a].floating,c=0;s.width>0&&!l?(c=s.width+r,function(e){return t.globals.ignoreYAxisIndexes.indexOf(e)>-1}(a)&&(c=c-s.width-r)):c=l||o.isYAxisHidden(a)?0:5,t.config.yaxis[a].opposite?i+=c:n+=c,e+=c};return t.globals.yLabelsCoords.map((function(t,e){s(t,e)})),t.globals.yTitleCoords.map((function(t,e){s(t,e)})),t.globals.isBarHorizontal&&(e=t.globals.yLabelsCoords[0].width+t.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=n,this.dCtx.yAxisWidthRight=i,e}}]),t}(),at=function(){function t(e){r(this,t),this.w=e.w,this.dCtx=e}return s(t,[{key:"gridPadForColumnsInNumericAxis",value:function(t){var e=this.w;if(e.globals.noData||e.globals.allSeriesCollapsed)return 0;var n=e.config.chart.type,i=0,r="bar"===n||"rangeBar"===n?e.config.series.length:1;if(e.globals.comboBarCount>0&&(r=e.globals.comboBarCount),e.globals.collapsedSeries.forEach((function(t){"bar"!==t.type&&"rangeBar"!==t.type||(r-=1)})),e.config.chart.stacked&&(r=1),("bar"===n||"rangeBar"===n||e.globals.comboBarCount>0)&&e.globals.isXNumeric&&!e.globals.isBarHorizontal&&r>0){var o,s,a=Math.abs(e.globals.initialMaxX-e.globals.initialMinX);a<=3&&(a=e.globals.dataPoints),o=a/t,e.globals.minXDiff&&e.globals.minXDiff/o>0&&(s=e.globals.minXDiff/o),s>t/2&&(s/=2),(i=s/r*parseInt(e.config.plotOptions.bar.columnWidth,10)/100)<1&&(i=1),e.globals.barPadForNumericAxis=i=i/(r>1?1:1.5)+5}return i}},{key:"gridPadFortitleSubtitle",value:function(){var t=this,e=this.w,n=e.globals,i=this.dCtx.isSparkline||!e.globals.axisCharts?0:10;["title","subtitle"].forEach((function(n){i+=void 0!==e.config[n].text?e.config[n].margin:t.dCtx.isSparkline||!e.globals.axisCharts?0:5})),e.config.legend.show&&"bottom"===e.config.legend.position&&!e.config.legend.floating&&(e.config.series.length>1||!e.globals.axisCharts||e.config.legend.showForSingleSeries)&&(i+=10);var r=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),o=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");n.gridHeight=n.gridHeight-r.height-o.height-i,n.translateY=n.translateY+r.height+o.height+i}},{key:"setGridXPosForDualYAxis",value:function(t,e){var n=this.w,i=new X(this.dCtx.ctx);n.config.yaxis.map((function(r,o){-1!==n.globals.ignoreYAxisIndexes.indexOf(o)||r.floating||i.isYAxisHidden(o)||(r.opposite&&(n.globals.translateX=n.globals.translateX-(e[o].width+t[o].width)-parseInt(n.config.yaxis[o].labels.style.fontSize,10)/1.2-12),n.globals.translateX<2&&(n.globals.translateX=2))}))}}]),t}(),lt=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new rt(this),this.dimYAxis=new st(this),this.dimXAxis=new ot(this),this.dimGrid=new at(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return s(t,[{key:"plotCoords",value:function(){var t=this.w.globals;this.lgRect=this.dimHelpers.getLegendsRect(),t.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),t.gridHeight=t.gridHeight-this.gridPad.top-this.gridPad.bottom,t.gridWidth=t.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var e=this.dimGrid.gridPadForColumnsInNumericAxis(t.gridWidth);t.gridWidth=t.gridWidth-2*e,t.translateX=t.translateX+this.gridPad.left+this.xPadLeft+(e>0?e+4:0),t.translateY=t.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var t=this,e=this.w,n=e.globals,i=this.dimYAxis.getyAxisLabelsCoords(),r=this.dimYAxis.getyAxisTitleCoords();e.globals.yLabelsCoords=[],e.globals.yTitleCoords=[],e.config.yaxis.map((function(t,n){e.globals.yLabelsCoords.push({width:i[n].width,index:n}),e.globals.yTitleCoords.push({width:r[n].width,index:n})})),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var o=this.dimXAxis.getxAxisLabelsCoords(),s=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(o,s),n.translateXAxisY=e.globals.rotateXLabels?this.xAxisHeight/8:-4,n.translateXAxisX=e.globals.rotateXLabels&&e.globals.isXNumeric&&e.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,e.globals.isBarHorizontal&&(n.rotateXLabels=!1,n.translateXAxisY=parseInt(e.config.xaxis.labels.style.fontSize,10)/1.5*-1),n.translateXAxisY=n.translateXAxisY+e.config.xaxis.labels.offsetY,n.translateXAxisX=n.translateXAxisX+e.config.xaxis.labels.offsetX;var a=this.yAxisWidth,l=this.xAxisHeight;n.xAxisLabelsHeight=this.xAxisHeight,n.xAxisHeight=this.xAxisHeight;var c=10;("radar"===e.config.chart.type||this.isSparkline)&&(a=0,l=n.goldenPadding),this.isSparkline&&(this.lgRect={height:0,width:0},l=0,a=0,c=0),this.dimXAxis.additionalPaddingXLabels(o);var u=function(){n.translateX=a,n.gridHeight=n.svgHeight-t.lgRect.height-l-(t.isSparkline?0:e.globals.rotateXLabels?10:15),n.gridWidth=n.svgWidth-a};switch("top"===e.config.xaxis.position&&(c=n.xAxisHeight-e.config.xaxis.axisTicks.height-5),e.config.legend.position){case"bottom":n.translateY=c,u();break;case"top":n.translateY=this.lgRect.height+c,u();break;case"left":n.translateY=c,n.translateX=this.lgRect.width+a,n.gridHeight=n.svgHeight-l-12,n.gridWidth=n.svgWidth-this.lgRect.width-a;break;case"right":n.translateY=c,n.translateX=a,n.gridHeight=n.svgHeight-l-12,n.gridWidth=n.svgWidth-this.lgRect.width-a-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(r,i),new K(this.ctx).setYAxisXPosition(i,r)}},{key:"setDimensionsForNonAxisCharts",value:function(){var t=this.w,e=t.globals,n=t.config,i=0;t.config.legend.show&&!t.config.legend.floating&&(i=20);var r="pie"===n.chart.type||"polarArea"===n.chart.type||"donut"===n.chart.type?"pie":"radialBar",o=n.plotOptions[r].offsetY,s=n.plotOptions[r].offsetX;if(!n.legend.show||n.legend.floating)return e.gridHeight=e.svgHeight-n.grid.padding.left+n.grid.padding.right,e.gridWidth=e.gridHeight,e.translateY=o,void(e.translateX=s+(e.svgWidth-e.gridWidth)/2);switch(n.legend.position){case"bottom":e.gridHeight=e.svgHeight-this.lgRect.height-e.goldenPadding,e.gridWidth=e.gridHeight,e.translateY=o-10,e.translateX=s+(e.svgWidth-e.gridWidth)/2;break;case"top":e.gridHeight=e.svgHeight-this.lgRect.height-e.goldenPadding,e.gridWidth=e.gridHeight,e.translateY=this.lgRect.height+o+10,e.translateX=s+(e.svgWidth-e.gridWidth)/2;break;case"left":e.gridWidth=e.svgWidth-this.lgRect.width-i,e.gridHeight="auto"!==n.chart.height?e.svgHeight:e.gridWidth,e.translateY=o,e.translateX=s+this.lgRect.width+i;break;case"right":e.gridWidth=e.svgWidth-this.lgRect.width-i-5,e.gridHeight="auto"!==n.chart.height?e.svgHeight:e.gridWidth,e.translateY=o,e.translateX=s+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(t,e){var n=this.w;this.xAxisHeight=(t.height+e.height)*(n.globals.isMultiLineX?1.2:n.globals.LINE_HEIGHT_RATIO)+(n.globals.rotateXLabels?22:10),this.xAxisWidth=t.width,this.xAxisHeight-e.height>n.config.xaxis.labels.maxHeight&&(this.xAxisHeight=n.config.xaxis.labels.maxHeight),n.config.xaxis.labels.minHeight&&this.xAxisHeight<n.config.xaxis.labels.minHeight&&(this.xAxisHeight=n.config.xaxis.labels.minHeight),n.config.xaxis.floating&&(this.xAxisHeight=0);var i=0,r=0;n.config.yaxis.forEach((function(t){i+=t.labels.minWidth,r+=t.labels.maxWidth})),this.yAxisWidth<i&&(this.yAxisWidth=i),this.yAxisWidth>r&&(this.yAxisWidth=r)}}]),t}(),ct=function(){function t(e){r(this,t),this.w=e.w,this.lgCtx=e}return s(t,[{key:"getLegendStyles",value:function(){var t=document.createElement("style");t.setAttribute("type","text/css");var e=document.createTextNode("\t\n    \t\n      .apexcharts-legend {\t\n        display: flex;\t\n        overflow: auto;\t\n        padding: 0 10px;\t\n      }\t\n      .apexcharts-legend.position-bottom, .apexcharts-legend.position-top {\t\n        flex-wrap: wrap\t\n      }\t\n      .apexcharts-legend.position-right, .apexcharts-legend.position-left {\t\n        flex-direction: column;\t\n        bottom: 0;\t\n      }\t\n      .apexcharts-legend.position-bottom.apexcharts-align-left, .apexcharts-legend.position-top.apexcharts-align-left, .apexcharts-legend.position-right, .apexcharts-legend.position-left {\t\n        justify-content: flex-start;\t\n      }\t\n      .apexcharts-legend.position-bottom.apexcharts-align-center, .apexcharts-legend.position-top.apexcharts-align-center {\t\n        justify-content: center;  \t\n      }\t\n      .apexcharts-legend.position-bottom.apexcharts-align-right, .apexcharts-legend.position-top.apexcharts-align-right {\t\n        justify-content: flex-end;\t\n      }\t\n      .apexcharts-legend-series {\t\n        cursor: pointer;\t\n        line-height: normal;\t\n      }\t\n      .apexcharts-legend.position-bottom .apexcharts-legend-series, .apexcharts-legend.position-top .apexcharts-legend-series{\t\n        display: flex;\t\n        align-items: center;\t\n      }\t\n      .apexcharts-legend-text {\t\n        position: relative;\t\n        font-size: 14px;\t\n      }\t\n      .apexcharts-legend-text *, .apexcharts-legend-marker * {\t\n        pointer-events: none;\t\n      }\t\n      .apexcharts-legend-marker {\t\n        position: relative;\t\n        display: inline-block;\t\n        cursor: pointer;\t\n        margin-right: 3px;\t\n        border-style: solid;\n      }\t\n      \t\n      .apexcharts-legend.apexcharts-align-right .apexcharts-legend-series, .apexcharts-legend.apexcharts-align-left .apexcharts-legend-series{\t\n        display: inline-block;\t\n      }\t\n      .apexcharts-legend-series.apexcharts-no-click {\t\n        cursor: auto;\t\n      }\t\n      .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {\t\n        display: none !important;\t\n      }\t\n      .apexcharts-inactive-legend {\t\n        opacity: 0.45;\t\n      }");return t.appendChild(e),t}},{key:"getLegendBBox",value:function(){var t=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect();return{clwh:t.height,clww:t.width}}},{key:"appendToForeignObject",value:function(){var t=this.w.globals;t.dom.elLegendForeign=document.createElementNS(t.SVGNS,"foreignObject");var e=t.dom.elLegendForeign;e.setAttribute("x",0),e.setAttribute("y",0),e.setAttribute("width",t.svgWidth),e.setAttribute("height",t.svgHeight),t.dom.elLegendWrap.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),e.appendChild(t.dom.elLegendWrap),e.appendChild(this.getLegendStyles()),t.dom.Paper.node.insertBefore(e,t.dom.elGraphical.node)}},{key:"toggleDataSeries",value:function(t,e){var n=this,i=this.w;if(i.globals.axisCharts||"radialBar"===i.config.chart.type){i.globals.resized=!0;var r=null,o=null;i.globals.risingSeries=[],i.globals.axisCharts?(r=i.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(t,"']")),o=parseInt(r.getAttribute("data:realIndex"),10)):(r=i.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(t+1,"']")),o=parseInt(r.getAttribute("rel"),10)-1),e?[{cs:i.globals.collapsedSeries,csi:i.globals.collapsedSeriesIndices},{cs:i.globals.ancillaryCollapsedSeries,csi:i.globals.ancillaryCollapsedSeriesIndices}].forEach((function(t){n.riseCollapsedSeries(t.cs,t.csi,o)})):this.hideSeries({seriesEl:r,realIndex:o})}else{var s=i.globals.dom.Paper.select(" .apexcharts-series[rel='".concat(t+1,"'] path")),a=i.config.chart.type;if("pie"===a||"polarArea"===a||"donut"===a){var l=i.config.plotOptions.pie.donut.labels;new b(this.lgCtx.ctx).pathMouseDown(s.members[0],null),this.lgCtx.ctx.pie.printDataLabelsInner(s.members[0].node,l)}s.fire("click")}}},{key:"hideSeries",value:function(t){var e=t.seriesEl,n=t.realIndex,i=this.w,r=v.clone(i.config.series);if(i.globals.axisCharts){var o=!1;if(i.config.yaxis[n]&&i.config.yaxis[n].show&&i.config.yaxis[n].showAlways&&(o=!0,i.globals.ancillaryCollapsedSeriesIndices.indexOf(n)<0&&(i.globals.ancillaryCollapsedSeries.push({index:n,data:r[n].data.slice(),type:e.parentNode.className.baseVal.split("-")[1]}),i.globals.ancillaryCollapsedSeriesIndices.push(n))),!o){i.globals.collapsedSeries.push({index:n,data:r[n].data.slice(),type:e.parentNode.className.baseVal.split("-")[1]}),i.globals.collapsedSeriesIndices.push(n);var s=i.globals.risingSeries.indexOf(n);i.globals.risingSeries.splice(s,1)}r[n].data=[]}else i.globals.collapsedSeries.push({index:n,data:r[n]}),i.globals.collapsedSeriesIndices.push(n),r[n]=0;for(var a=e.childNodes,l=0;l<a.length;l++)a[l].classList.contains("apexcharts-series-markers-wrap")&&(a[l].classList.contains("apexcharts-hide")?a[l].classList.remove("apexcharts-hide"):a[l].classList.add("apexcharts-hide"));i.globals.allSeriesCollapsed=i.globals.collapsedSeries.length===i.config.series.length,this.lgCtx.ctx.updateHelpers._updateSeries(r,i.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(t,e,n){var i=this.w;if(t.length>0)for(var r=0;r<t.length;r++)t[r].index===n&&(i.globals.axisCharts?(i.config.series[n].data=t[r].data.slice(),t.splice(r,1),e.splice(r,1),i.globals.risingSeries.push(n)):(i.config.series[n]=t[r].data,t.splice(r,1),e.splice(r,1),i.globals.risingSeries.push(n)),this.lgCtx.ctx.updateHelpers._updateSeries(i.config.series,i.config.chart.animations.dynamicAnimation.enabled))}}]),t}(),ut=function(){function t(e,n){r(this,t),this.ctx=e,this.w=e.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed="bar"===this.w.config.chart.type&&this.w.config.plotOptions.bar.distributed&&1===this.w.config.series.length,this.legendHelpers=new ct(this)}return s(t,[{key:"init",value:function(){var t=this.w,e=t.globals,n=t.config;if((n.legend.showForSingleSeries&&1===e.series.length||this.isBarsDistributed||e.series.length>1||!e.axisCharts)&&n.legend.show){for(;e.dom.elLegendWrap.firstChild;)e.dom.elLegendWrap.removeChild(e.dom.elLegendWrap.firstChild);this.drawLegends(),v.isIE11()?document.getElementsByTagName("head")[0].appendChild(this.legendHelpers.getLegendStyles()):this.legendHelpers.appendToForeignObject(),"bottom"===n.legend.position||"top"===n.legend.position?this.legendAlignHorizontal():"right"!==n.legend.position&&"left"!==n.legend.position||this.legendAlignVertical()}}},{key:"drawLegends",value:function(){var t=this.w,e=t.config.legend.fontFamily,n=t.globals.seriesNames,i=t.globals.colors.slice();if("heatmap"===t.config.chart.type){var r=t.config.plotOptions.heatmap.colorScale.ranges;n=r.map((function(t){return t.name?t.name:t.from+" - "+t.to})),i=r.map((function(t){return t.color}))}else this.isBarsDistributed&&(n=t.globals.labels.slice());for(var o=t.globals.legendFormatter,s=t.config.legend.inverseOrder,a=s?n.length-1:0;s?a>=0:a<=n.length-1;s?a--:a++){var l=o(n[a],{seriesIndex:a,w:t}),c=!1,u=!1;if(t.globals.collapsedSeries.length>0)for(var h=0;h<t.globals.collapsedSeries.length;h++)t.globals.collapsedSeries[h].index===a&&(c=!0);if(t.globals.ancillaryCollapsedSeriesIndices.length>0)for(var d=0;d<t.globals.ancillaryCollapsedSeriesIndices.length;d++)t.globals.ancillaryCollapsedSeriesIndices[d]===a&&(u=!0);var f=document.createElement("span");f.classList.add("apexcharts-legend-marker");var p=t.config.legend.markers.offsetX,g=t.config.legend.markers.offsetY,v=t.config.legend.markers.height,m=t.config.legend.markers.width,y=t.config.legend.markers.strokeWidth,x=t.config.legend.markers.strokeColor,w=t.config.legend.markers.radius,A=f.style;A.background=i[a],A.color=i[a],t.config.legend.markers.fillColors&&t.config.legend.markers.fillColors[a]&&(A.background=t.config.legend.markers.fillColors[a]),A.height=Array.isArray(v)?parseFloat(v[a])+"px":parseFloat(v)+"px",A.width=Array.isArray(m)?parseFloat(m[a])+"px":parseFloat(m)+"px",A.left=Array.isArray(p)?p[a]:p,A.top=Array.isArray(g)?g[a]:g,A.borderWidth=Array.isArray(y)?y[a]:y,A.borderColor=Array.isArray(x)?x[a]:x,A.borderRadius=Array.isArray(w)?parseFloat(w[a])+"px":parseFloat(w)+"px",t.config.legend.markers.customHTML&&(Array.isArray(t.config.legend.markers.customHTML)?t.config.legend.markers.customHTML[a]&&(f.innerHTML=t.config.legend.markers.customHTML[a]()):f.innerHTML=t.config.legend.markers.customHTML()),b.setAttrs(f,{rel:a+1,"data:collapsed":c||u}),(c||u)&&f.classList.add("apexcharts-inactive-legend");var E=document.createElement("div"),k=document.createElement("span");k.classList.add("apexcharts-legend-text"),k.innerHTML=Array.isArray(l)?l.join(" "):l;var _=t.config.legend.labels.useSeriesColors?t.globals.colors[a]:t.config.legend.labels.colors;_||(_=t.config.chart.foreColor),k.style.color=_,k.style.fontSize=parseFloat(t.config.legend.fontSize)+"px",k.style.fontWeight=t.config.legend.fontWeight,k.style.fontFamily=e||t.config.chart.fontFamily,b.setAttrs(k,{rel:a+1,i:a,"data:default-text":encodeURIComponent(l),"data:collapsed":c||u}),E.appendChild(f),E.appendChild(k);var C=new S(this.ctx);t.config.legend.showForZeroSeries||0===C.getSeriesTotalByIndex(a)&&C.seriesHaveSameValues(a)&&!C.isSeriesNull(a)&&-1===t.globals.collapsedSeriesIndices.indexOf(a)&&-1===t.globals.ancillaryCollapsedSeriesIndices.indexOf(a)&&E.classList.add("apexcharts-hidden-zero-series"),t.config.legend.showForNullSeries||C.isSeriesNull(a)&&-1===t.globals.collapsedSeriesIndices.indexOf(a)&&-1===t.globals.ancillaryCollapsedSeriesIndices.indexOf(a)&&E.classList.add("apexcharts-hidden-null-series"),t.globals.dom.elLegendWrap.appendChild(E),t.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(t.config.legend.horizontalAlign)),t.globals.dom.elLegendWrap.classList.add("position-"+t.config.legend.position),E.classList.add("apexcharts-legend-series"),E.style.margin="".concat(t.config.legend.itemMargin.vertical,"px ").concat(t.config.legend.itemMargin.horizontal,"px"),t.globals.dom.elLegendWrap.style.width=t.config.legend.width?t.config.legend.width+"px":"",t.globals.dom.elLegendWrap.style.height=t.config.legend.height?t.config.legend.height+"px":"",b.setAttrs(E,{rel:a+1,"data:collapsed":c||u}),(c||u)&&E.classList.add("apexcharts-inactive-legend"),t.config.legend.onItemClick.toggleDataSeries||E.classList.add("apexcharts-no-click")}"heatmap"!==t.config.chart.type&&!this.isBarsDistributed&&t.config.legend.onItemClick.toggleDataSeries&&t.globals.dom.elWrap.addEventListener("click",this.onLegendClick,!0),t.config.legend.onItemHover.highlightDataSeries&&(t.globals.dom.elWrap.addEventListener("mousemove",this.onLegendHovered,!0),t.globals.dom.elWrap.addEventListener("mouseout",this.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(t,e){var n=this.w,i=n.globals.dom.baseEl.querySelector(".apexcharts-legend"),r=i.getBoundingClientRect(),o=0,s=0;if("bottom"===n.config.legend.position)s+=n.globals.svgHeight-r.height/2;else if("top"===n.config.legend.position){var a=new lt(this.ctx),l=a.dimHelpers.getTitleSubtitleCoords("title").height,c=a.dimHelpers.getTitleSubtitleCoords("subtitle").height;s=s+(l>0?l-10:0)+(c>0?c-10:0)}i.style.position="absolute",s=s+e+n.config.legend.offsetY,i.style.left=(o=o+t+n.config.legend.offsetX)+"px",i.style.top=s+"px","bottom"===n.config.legend.position?(i.style.top="auto",i.style.bottom=5-n.config.legend.offsetY+"px"):"right"===n.config.legend.position&&(i.style.left="auto",i.style.right=25+n.config.legend.offsetX+"px"),["width","height"].forEach((function(t){i.style[t]&&(i.style[t]=parseInt(n.config.legend[t],10)+"px")}))}},{key:"legendAlignHorizontal",value:function(){var t=this.w;t.globals.dom.baseEl.querySelector(".apexcharts-legend").style.right=0;var e=this.legendHelpers.getLegendBBox(),n=new lt(this.ctx),i=n.dimHelpers.getTitleSubtitleCoords("title"),r=n.dimHelpers.getTitleSubtitleCoords("subtitle"),o=0;"bottom"===t.config.legend.position?o=-e.clwh/1.8:"top"===t.config.legend.position&&(o=i.height+r.height+t.config.title.margin+t.config.subtitle.margin-10),this.setLegendWrapXY(20,o)}},{key:"legendAlignVertical",value:function(){var t=this.w,e=this.legendHelpers.getLegendBBox(),n=0;"left"===t.config.legend.position&&(n=20),"right"===t.config.legend.position&&(n=t.globals.svgWidth-e.clww-10),this.setLegendWrapXY(n,20)}},{key:"onLegendHovered",value:function(t){var e=this.w,n=t.target.classList.contains("apexcharts-legend-text")||t.target.classList.contains("apexcharts-legend-marker");if("heatmap"===e.config.chart.type||this.isBarsDistributed){if(n){var i=parseInt(t.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,i,this.w]),new O(this.ctx).highlightRangeInSeries(t,t.target)}}else!t.target.classList.contains("apexcharts-inactive-legend")&&n&&new O(this.ctx).toggleSeriesOnHover(t,t.target)}},{key:"onLegendClick",value:function(t){if(t.target.classList.contains("apexcharts-legend-text")||t.target.classList.contains("apexcharts-legend-marker")){var e=parseInt(t.target.getAttribute("rel"),10)-1,n="true"===t.target.getAttribute("data:collapsed"),i=this.w.config.chart.events.legendClick;"function"==typeof i&&i(this.ctx,e,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,e,this.w]);var r=this.w.config.legend.markers.onClick;"function"==typeof r&&t.target.classList.contains("apexcharts-legend-marker")&&(r(this.ctx,e,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,e,this.w])),this.legendHelpers.toggleDataSeries(e,n)}}}]),t}(),ht=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w,this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar}return s(t,[{key:"createToolbar",value:function(){var t=this,e=this.w,n=function(){return document.createElement("div")},i=n();if(i.setAttribute("class","apexcharts-toolbar"),i.style.top=e.config.chart.toolbar.offsetY+"px",i.style.right=3-e.config.chart.toolbar.offsetX+"px",e.globals.dom.elWrap.appendChild(i),this.elZoom=n(),this.elZoomIn=n(),this.elZoomOut=n(),this.elPan=n(),this.elSelection=n(),this.elZoomReset=n(),this.elMenuIcon=n(),this.elMenu=n(),this.elCustomIcons=[],this.t=e.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var r=0;r<this.t.customIcons.length;r++)this.elCustomIcons.push(n());var o=[],s=function(n,i,r){var s=n.toLowerCase();t.t[s]&&e.config.chart.zoom.enabled&&o.push({el:i,icon:"string"==typeof t.t[s]?t.t[s]:r,title:t.localeValues[n],class:"apexcharts-".concat(s,"-icon")})};s("zoomIn",this.elZoomIn,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n'),s("zoomOut",this.elZoomOut,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n');var a=function(n){t.t[n]&&e.config.chart[n].enabled&&o.push({el:"zoom"===n?t.elZoom:t.elSelection,icon:"string"==typeof t.t[n]?t.t[n]:"zoom"===n?'<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>\n    <path d="M0 0h24v24H0V0z" fill="none"/>\n    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>\n</svg>':'<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>\n</svg>',title:t.localeValues["zoom"===n?"selectionZoom":"selection"],class:e.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(n,"-icon")})};a("zoom"),a("selection"),this.t.pan&&e.config.chart.zoom.enabled&&o.push({el:this.elPan,icon:"string"==typeof this.t.pan?this.t.pan:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <defs>\n        <path d="M0 0h24v24H0z" id="a"/>\n    </defs>\n    <clipPath id="b">\n        <use overflow="visible" xlink:href="#a"/>\n    </clipPath>\n    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>\n</svg>',title:this.localeValues.pan,class:e.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),s("reset",this.elZoomReset,'<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>\n    <path d="M0 0h24v24H0z" fill="none"/>\n</svg>'),this.t.download&&o.push({el:this.elMenuIcon,icon:"string"==typeof this.t.download?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var l=0;l<this.elCustomIcons.length;l++)o.push({el:this.elCustomIcons[l],icon:this.t.customIcons[l].icon,title:this.t.customIcons[l].title,index:this.t.customIcons[l].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[l].class});o.forEach((function(t,e){t.index&&v.moveIndexInArray(o,e,t.index)}));for(var c=0;c<o.length;c++)b.setAttrs(o[c].el,{class:o[c].class,title:o[c].title}),o[c].el.innerHTML=o[c].icon,i.appendChild(o[c].el);this._createHamburgerMenu(i),e.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):e.globals.panEnabled?this.elPan.classList.add(this.selectedClass):e.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(t){this.elMenuItems=[],t.appendChild(this.elMenu),b.setAttrs(this.elMenu,{class:"apexcharts-menu"});var e=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}];this.w.globals.allSeriesHasEqualX||e.splice(2,1);for(var n=0;n<e.length;n++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[n].innerHTML=e[n].title,b.setAttrs(this.elMenuItems[n],{class:"apexcharts-menu-item ".concat(e[n].name),title:e[n].title}),this.elMenu.appendChild(this.elMenuItems[n])}},{key:"addToolbarEventListeners",value:function(){var t=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach((function(e){e.classList.contains("exportSVG")?e.addEventListener("click",t.handleDownload.bind(t,"svg")):e.classList.contains("exportPNG")?e.addEventListener("click",t.handleDownload.bind(t,"png")):e.classList.contains("exportCSV")&&e.addEventListener("click",t.handleDownload.bind(t,"csv"))}));for(var e=0;e<this.t.customIcons.length;e++)this.elCustomIcons[e].addEventListener("click",this.t.customIcons[e].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(t){this.ctx.getSyncedCharts().forEach((function(e){e.ctx.toolbar.toggleOtherControls();var n="selection"===t?e.ctx.toolbar.elSelection:e.ctx.toolbar.elZoom,i="selection"===t?"selectionEnabled":"zoomEnabled";e.w.globals[i]=!e.w.globals[i],n.classList.contains(e.ctx.toolbar.selectedClass)?n.classList.remove(e.ctx.toolbar.selectedClass):n.classList.add(e.ctx.toolbar.selectedClass)}))}},{key:"getToolbarIconsReference",value:function(){var t=this.w;this.elZoom||(this.elZoom=t.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=t.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=t.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(t){this.toggleOtherControls(),"pan"===t?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var e="pan"===t?this.elPan:this.elZoom,n="pan"===t?this.elZoom:this.elPan;e&&e.classList.add(this.selectedClass),n&&n.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach((function(t){t.ctx.toolbar.toggleOtherControls(),t.w.globals.panEnabled=!t.w.globals.panEnabled,t.ctx.toolbar.elPan.classList.contains(t.ctx.toolbar.selectedClass)?t.ctx.toolbar.elPan.classList.remove(t.ctx.toolbar.selectedClass):t.ctx.toolbar.elPan.classList.add(t.ctx.toolbar.selectedClass)}))}},{key:"toggleOtherControls",value:function(){var t=this,e=this.w;e.globals.panEnabled=!1,e.globals.zoomEnabled=!1,e.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach((function(e){e&&e.classList.remove(t.selectedClass)}))}},{key:"handleZoomIn",value:function(){var t=this.w,e=(t.globals.minX+t.globals.maxX)/2,n=this._getNewMinXMaxX((t.globals.minX+e)/2,(t.globals.maxX+e)/2);t.globals.disableZoomIn||this.zoomUpdateOptions(n.minX,n.maxX)}},{key:"handleZoomOut",value:function(){var t=this.w;if(!("datetime"===t.config.xaxis.type&&new Date(t.globals.minX).getUTCFullYear()<1e3)){var e=(t.globals.minX+t.globals.maxX)/2,n=this._getNewMinXMaxX(t.globals.minX-(e-t.globals.minX),t.globals.maxX-(e-t.globals.maxX));t.globals.disableZoomOut||this.zoomUpdateOptions(n.minX,n.maxX)}}},{key:"_getNewMinXMaxX",value:function(t,e){var n=this.w.config.xaxis.convertedCatToNumeric;return{minX:n?Math.floor(t):t,maxX:n?Math.floor(e):e}}},{key:"zoomUpdateOptions",value:function(t,e){var n=this.w;if(void 0!==t||void 0!==e){if(!(n.config.xaxis.convertedCatToNumeric&&(t<1&&(t=1,e=n.globals.dataPoints),e-t<2))){var i={min:t,max:e},r=this.getBeforeZoomRange(i);r&&(i=r.xaxis);var o={xaxis:i},s=v.clone(n.globals.initialConfig.yaxis);n.config.chart.zoom.autoScaleYaxis&&(s=new q(this.ctx).autoScaleY(this.ctx,s,{xaxis:i})),n.config.chart.group||(o.yaxis=s),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(o,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(i,s)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(t,e){"function"==typeof this.ev.zoomed&&this.ev.zoomed(this.ctx,{xaxis:t,yaxis:e})}},{key:"getBeforeZoomRange",value:function(t,e){var n=null;return"function"==typeof this.ev.beforeZoom&&(n=this.ev.beforeZoom(this,{xaxis:t,yaxis:e})),n}},{key:"toggleMenu",value:function(){var t=this;window.setTimeout((function(){t.elMenu.classList.contains("apexcharts-menu-open")?t.elMenu.classList.remove("apexcharts-menu-open"):t.elMenu.classList.add("apexcharts-menu-open")}),0)}},{key:"handleDownload",value:function(t){var e=this.w,n=new Y(this.ctx);switch(t){case"svg":n.exportToSVG(this.ctx);break;case"png":n.exportToPng(this.ctx);break;case"csv":n.exportToCSV({series:e.config.series})}}},{key:"handleZoomReset",value:function(t){this.ctx.getSyncedCharts().forEach((function(t){var e=t.w;e.globals.lastXAxis.min=void 0,e.globals.lastXAxis.max=void 0,t.updateHelpers.revertDefaultAxisMinMax(),"function"==typeof e.config.chart.events.zoomed&&t.ctx.toolbar.zoomCallback({min:e.config.xaxis.min,max:e.config.xaxis.max}),e.globals.zoomed=!1;var n=t.ctx.series.emptyCollapsedSeries(v.clone(e.globals.initialSeries));t.updateHelpers._updateSeries(n,e.config.chart.animations.dynamicAnimation.enabled)}))}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),t}(),dt=function(t){function e(t){var n;return r(this,e),(n=d(this,h(e).call(this,t))).ctx=t,n.w=t.w,n.dragged=!1,n.graphics=new b(n.ctx),n.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend"],n.clientX=0,n.clientY=0,n.startX=0,n.endX=0,n.dragX=0,n.startY=0,n.endY=0,n.dragY=0,n.moveDirection="none",n}return u(e,ht),s(e,[{key:"init",value:function(t){var e=this,n=t.xyRatios,i=this.w,r=this;this.xyRatios=n,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=i.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),i.globals.dom.elGraphical.add(this.zoomRect),i.globals.dom.elGraphical.add(this.selectionRect),this.slDraggableRect="x"===i.config.chart.selection.type?this.selectionRect.draggable({minX:0,minY:0,maxX:i.globals.gridWidth,maxY:i.globals.gridHeight}).on("dragmove",this.selectionDragging.bind(this,"dragging")):"y"===i.config.chart.selection.type?this.selectionRect.draggable({minX:0,maxX:i.globals.gridWidth}).on("dragmove",this.selectionDragging.bind(this,"dragging")):this.selectionRect.draggable().on("dragmove",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=i.globals.dom.baseEl.querySelector(i.globals.chartClass),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach((function(t){e.hoverArea.addEventListener(t,r.svgMouseEvents.bind(r,n),{capture:!1,passive:!0})}))}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(t,e){var n=this.w,i=this,r=this.ctx.toolbar,o=n.globals.zoomEnabled?n.config.chart.zoom.type:n.config.chart.selection.type,s=n.config.chart.toolbar.autoSelected;if(e.shiftKey?(this.shiftWasPressed=!0,r.enableZoomPanFromToolbar("pan"===s?"zoom":"pan")):this.shiftWasPressed&&(r.enableZoomPanFromToolbar(s),this.shiftWasPressed=!1),!e.target.classList.contains("apexcharts-selection-rect")&&!e.target.parentNode.classList.contains("apexcharts-toolbar")){if(i.clientX="touchmove"===e.type||"touchstart"===e.type?e.touches[0].clientX:"touchend"===e.type?e.changedTouches[0].clientX:e.clientX,i.clientY="touchmove"===e.type||"touchstart"===e.type?e.touches[0].clientY:"touchend"===e.type?e.changedTouches[0].clientY:e.clientY,"mousedown"===e.type&&1===e.which){var a=i.gridRect.getBoundingClientRect();i.startX=i.clientX-a.left,i.startY=i.clientY-a.top,i.dragged=!1,i.w.globals.mousedown=!0}if(("mousemove"===e.type&&1===e.which||"touchmove"===e.type)&&(i.dragged=!0,n.globals.panEnabled?(n.globals.selection=null,i.w.globals.mousedown&&i.panDragging({context:i,zoomtype:o,xyRatios:t})):(i.w.globals.mousedown&&n.globals.zoomEnabled||i.w.globals.mousedown&&n.globals.selectionEnabled)&&(i.selection=i.selectionDrawing({context:i,zoomtype:o}))),"mouseup"===e.type||"touchend"===e.type||"mouseleave"===e.type){var l=i.gridRect.getBoundingClientRect();i.w.globals.mousedown&&(i.endX=i.clientX-l.left,i.endY=i.clientY-l.top,i.dragX=Math.abs(i.endX-i.startX),i.dragY=Math.abs(i.endY-i.startY),(n.globals.zoomEnabled||n.globals.selectionEnabled)&&i.selectionDrawn({context:i,zoomtype:o}),n.globals.panEnabled&&n.config.xaxis.convertedCatToNumeric&&i.delayedPanScrolled()),n.globals.zoomEnabled&&i.hideSelectionRect(this.selectionRect),i.dragged=!1,i.w.globals.mousedown=!1}this.makeSelectionRectDraggable()}}},{key:"makeSelectionRectDraggable",value:function(){var t=this.w;if(this.selectionRect){var e=this.selectionRect.node.getBoundingClientRect();e.width>0&&e.height>0&&this.slDraggableRect.selectize({points:"l, r",pointSize:8,pointType:"rect"}).resize({constraint:{minX:0,minY:0,maxX:t.globals.gridWidth,maxY:t.globals.gridHeight}}).on("resizing",this.selectionDragging.bind(this,"resizing"))}}},{key:"preselectedSelection",value:function(){var t=this.w,e=this.xyRatios;if(!t.globals.zoomEnabled)if(null!=t.globals.selection)this.drawSelectionRect(t.globals.selection);else if(void 0!==t.config.chart.selection.xaxis.min&&void 0!==t.config.chart.selection.xaxis.max){var n=(t.config.chart.selection.xaxis.min-t.globals.minX)/e.xRatio;this.drawSelectionRect({x:n,y:0,width:t.globals.gridWidth-(t.globals.maxX-t.config.chart.selection.xaxis.max)/e.xRatio-n,height:t.globals.gridHeight,translateX:0,translateY:0,selectionEnabled:!0}),this.makeSelectionRectDraggable(),"function"==typeof t.config.chart.events.selection&&t.config.chart.events.selection(this.ctx,{xaxis:{min:t.config.chart.selection.xaxis.min,max:t.config.chart.selection.xaxis.max},yaxis:{}})}}},{key:"drawSelectionRect",value:function(t){var e=t.x,n=t.y,i=t.width,r=t.height,o=t.translateX,s=t.translateY,a=this.w,l=this.zoomRect,c=this.selectionRect;if(this.dragged||null!==a.globals.selection){var u={transform:"translate("+(void 0===o?0:o)+", "+(void 0===s?0:s)+")"};a.globals.zoomEnabled&&this.dragged&&(i<0&&(i=1),l.attr({x:e,y:n,width:i,height:r,fill:a.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":a.config.chart.zoom.zoomedArea.fill.opacity,stroke:a.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":a.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":a.config.chart.zoom.zoomedArea.stroke.opacity}),b.setAttrs(l.node,u)),a.globals.selectionEnabled&&(c.attr({x:e,y:n,width:i>0?i:0,height:r>0?r:0,fill:a.config.chart.selection.fill.color,"fill-opacity":a.config.chart.selection.fill.opacity,stroke:a.config.chart.selection.stroke.color,"stroke-width":a.config.chart.selection.stroke.width,"stroke-dasharray":a.config.chart.selection.stroke.dashArray,"stroke-opacity":a.config.chart.selection.stroke.opacity}),b.setAttrs(c.node,u))}}},{key:"hideSelectionRect",value:function(t){t&&t.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(t){var e,n=t.zoomtype,i=this.w,r=t.context,o=this.gridRect.getBoundingClientRect(),s=r.startX-1,a=r.startY,l=!1,c=!1,u=r.clientX-o.left-s,h=r.clientY-o.top-a;return Math.abs(u+s)>i.globals.gridWidth?u=i.globals.gridWidth-s:r.clientX-o.left<0&&(u=s),s>r.clientX-o.left&&(l=!0,u=Math.abs(u)),a>r.clientY-o.top&&(c=!0,h=Math.abs(h)),r.drawSelectionRect(e="x"===n?{x:l?s-u:s,y:0,width:u,height:i.globals.gridHeight}:"y"===n?{x:0,y:c?a-h:a,width:i.globals.gridWidth,height:h}:{x:l?s-u:s,y:c?a-h:a,width:u,height:h}),r.selectionDragging("resizing"),e}},{key:"selectionDragging",value:function(t,e){var n=this,i=this.w,r=this.xyRatios,o=this.selectionRect,s=0;"resizing"===t&&(s=30);var a=function(t){return parseFloat(o.node.getAttribute(t))},l={x:a("x"),y:a("y"),width:a("width"),height:a("height")};i.globals.selection=l,"function"==typeof i.config.chart.events.selection&&i.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout((function(){var t=n.gridRect.getBoundingClientRect(),e=o.node.getBoundingClientRect();i.config.chart.events.selection(n.ctx,{xaxis:{min:i.globals.xAxisScale.niceMin+(e.left-t.left)*r.xRatio,max:i.globals.xAxisScale.niceMin+(e.right-t.left)*r.xRatio},yaxis:{min:i.globals.yAxisScale[0].niceMin+(t.bottom-e.bottom)*r.yRatio[0],max:i.globals.yAxisScale[0].niceMax-(e.top-t.top)*r.yRatio[0]}})}),s))}},{key:"selectionDrawn",value:function(t){var e=t.zoomtype,n=this.w,i=t.context,r=this.xyRatios,o=this.ctx.toolbar;if(i.startX>i.endX){var s=i.startX;i.startX=i.endX,i.endX=s}if(i.startY>i.endY){var a=i.startY;i.startY=i.endY,i.endY=a}var l=n.globals.xAxisScale.niceMin+i.startX*r.xRatio,c=n.globals.xAxisScale.niceMin+i.endX*r.xRatio,u=[],h=[];if(n.config.yaxis.forEach((function(t,e){u.push(n.globals.yAxisScale[e].niceMax-r.yRatio[e]*i.startY),h.push(n.globals.yAxisScale[e].niceMax-r.yRatio[e]*i.endY)})),i.dragged&&(i.dragX>10||i.dragY>10)&&l!==c)if(n.globals.zoomEnabled){var d=v.clone(n.globals.initialConfig.yaxis),f=v.clone(n.globals.initialConfig.xaxis);if(n.globals.zoomed=!0,n.globals.zoomed||(n.globals.lastXAxis=v.clone(n.config.xaxis),n.globals.lastYAxis=v.clone(n.config.yaxis)),n.config.xaxis.convertedCatToNumeric&&(l=Math.floor(l),c=Math.floor(c),l<1&&(l=1,c=n.globals.dataPoints),c-l<2&&(c=l+1)),"xy"!==e&&"x"!==e||(f={min:l,max:c}),"xy"!==e&&"y"!==e||d.forEach((function(t,e){d[e].min=h[e],d[e].max=u[e]})),n.config.chart.zoom.autoScaleYaxis){var p=new q(i.ctx);d=p.autoScaleY(i.ctx,d,{xaxis:f})}if(o){var g=o.getBeforeZoomRange(f,d);g&&(f=g.xaxis?g.xaxis:f,d=g.yaxis?g.yaxe:d)}var m={xaxis:f};n.config.chart.group||(m.yaxis=d),i.ctx.updateHelpers._updateOptions(m,!1,i.w.config.chart.animations.dynamicAnimation.enabled),"function"==typeof n.config.chart.events.zoomed&&o.zoomCallback(f,d)}else if(n.globals.selectionEnabled){var y,b=null;y={min:l,max:c},"xy"!==e&&"y"!==e||(b=v.clone(n.config.yaxis)).forEach((function(t,e){b[e].min=h[e],b[e].max=u[e]})),n.globals.selection=i.selection,"function"==typeof n.config.chart.events.selection&&n.config.chart.events.selection(i.ctx,{xaxis:y,yaxis:b})}}},{key:"panDragging",value:function(t){var e=this.w,n=t.context;if(void 0!==e.globals.lastClientPosition.x){var i=e.globals.lastClientPosition.x-n.clientX,r=e.globals.lastClientPosition.y-n.clientY;Math.abs(i)>Math.abs(r)&&i>0?this.moveDirection="left":Math.abs(i)>Math.abs(r)&&i<0?this.moveDirection="right":Math.abs(r)>Math.abs(i)&&r>0?this.moveDirection="up":Math.abs(r)>Math.abs(i)&&r<0&&(this.moveDirection="down")}e.globals.lastClientPosition={x:n.clientX,y:n.clientY},e.config.xaxis.convertedCatToNumeric||n.panScrolled(e.globals.minX,e.globals.maxX)}},{key:"delayedPanScrolled",value:function(){var t=this.w,e=t.globals.minX,n=t.globals.maxX,i=(t.globals.maxX-t.globals.minX)/2;"left"===this.moveDirection?(e=t.globals.minX+i,n=t.globals.maxX+i):"right"===this.moveDirection&&(e=t.globals.minX-i,n=t.globals.maxX-i),e=Math.floor(e),n=Math.floor(n),this.updateScrolledChart({xaxis:{min:e,max:n}},e,n)}},{key:"panScrolled",value:function(t,e){var n=this.w,i=this.xyRatios,r=v.clone(n.globals.initialConfig.yaxis);"left"===this.moveDirection?(t=n.globals.minX+n.globals.gridWidth/15*i.xRatio,e=n.globals.maxX+n.globals.gridWidth/15*i.xRatio):"right"===this.moveDirection&&(t=n.globals.minX-n.globals.gridWidth/15*i.xRatio,e=n.globals.maxX-n.globals.gridWidth/15*i.xRatio),(t<n.globals.initialMinX||e>n.globals.initialMaxX)&&(t=n.globals.minX,e=n.globals.maxX);var o={min:t,max:e};n.config.chart.zoom.autoScaleYaxis&&(r=new q(this.ctx).autoScaleY(this.ctx,r,{xaxis:o}));var s={xaxis:{min:t,max:e}};n.config.chart.group||(s.yaxis=r),this.updateScrolledChart(s,t,e)}},{key:"updateScrolledChart",value:function(t,e,n){var i=this.w;this.ctx.updateHelpers._updateOptions(t,!1,!1),"function"==typeof i.config.chart.events.scrolled&&i.config.chart.events.scrolled(this.ctx,{xaxis:{min:e,max:n}})}}]),e}(),ft=function(){function t(e){r(this,t),this.w=e.w,this.ttCtx=e,this.ctx=e.ctx}return s(t,[{key:"getNearestValues",value:function(t){var e=t.hoverArea,n=t.clientX,i=t.clientY,r=this.w,o=r.globals.gridWidth,s=o/(r.globals.dataPoints-1),a=t.elGrid.getBoundingClientRect(),l=this.hasBars();!r.globals.comboCharts&&!l||r.config.xaxis.convertedCatToNumeric||(s=o/r.globals.dataPoints);var c=n-a.left-r.globals.barPadForNumericAxis,u=i-a.top;c<0||u<0||c>r.globals.gridWidth||u>r.globals.gridHeight?(e.classList.remove("hovering-zoom"),e.classList.remove("hovering-pan")):r.globals.zoomEnabled?(e.classList.remove("hovering-pan"),e.classList.add("hovering-zoom")):r.globals.panEnabled&&(e.classList.remove("hovering-zoom"),e.classList.add("hovering-pan"));var h=Math.round(c/s);l&&!r.config.xaxis.convertedCatToNumeric&&(h=Math.ceil(c/s),h-=1);for(var d,f=null,p=null,g=[],m=0;m<r.globals.seriesXvalues.length;m++)g.push([r.globals.seriesXvalues[m][0]-1e-6].concat(r.globals.seriesXvalues[m]));return g=g.map((function(t){return t.filter((function(t){return t}))})),d=r.globals.seriesYvalues.map((function(t){return t.filter((function(t){return v.isNumber(t)}))})),r.globals.isXNumeric&&(f=(p=this.closestInMultiArray(c,u,g,d)).index,h=p.j,null!==f&&(h=(p=this.closestInArray(c,g=r.globals.seriesXvalues[f])).index)),r.globals.capturedSeriesIndex=null===f?-1:f,(!h||h<1)&&(h=0),r.globals.capturedDataPointIndex=h,{capturedSeries:f,j:h,hoverX:c,hoverY:u}}},{key:"closestInMultiArray",value:function(t,e,n,i){var r=0,o=null,s=-1;this.w.globals.series.length>1?r=this.getFirstActiveXArray(n):o=0;var a=i[r][0],l=Math.abs(t-n[r][0]),c=Math.abs(e-a),u=c+l;return i.map((function(r,a){r.map((function(r,h){var d=Math.abs(e-i[a][h]),f=Math.abs(t-n[a][h]),p=f+d;p<u&&(u=p,l=f,c=d,o=a,s=h)}))})),{index:o,j:s}}},{key:"getFirstActiveXArray",value:function(t){for(var e=0,n=new S(this.ctx),i=t.map((function(t,e){return t.length>0?e:-1})),r=0;r<i.length;r++){var o=n.getSeriesTotalByIndex(r);if(-1!==i[r]&&0!==o&&!n.seriesHaveSameValues(r)){e=i[r];break}}return e}},{key:"closestInArray",value:function(t,e){for(var n=null,i=Math.abs(t-e[0]),r=0;r<e.length;r++){var o=Math.abs(t-e[r]);o<i&&(i=o,n=r)}return{index:n}}},{key:"isXoverlap",value:function(t){var e=[],n=this.w.globals.seriesX.filter((function(t){return void 0!==t[0]}));if(n.length>0)for(var i=0;i<n.length-1;i++)void 0!==n[i][t]&&void 0!==n[i+1][t]&&n[i][t]!==n[i+1][t]&&e.push("unEqual");return 0===e.length}},{key:"isInitialSeriesSameLen",value:function(){for(var t=!0,e=this.w.globals.initialSeries,n=0;n<e.length-1;n++)if(e[n].data.length!==e[n+1].data.length){t=!1;break}return t}},{key:"getBarsHeight",value:function(t){return f(t).reduce((function(t,e){return t+e.getBBox().height}),0)}},{key:"getElMarkers",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(" .apexcharts-series-markers")}},{key:"getAllMarkers",value:function(){var t=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");(t=f(t)).sort((function(t,e){return Number(e.getAttribute("data:realIndex"))<Number(t.getAttribute("data:realIndex"))?0:-1}));var e=[];return t.forEach((function(t){e.push(t.querySelector(".apexcharts-marker"))})),e}},{key:"hasMarkers",value:function(){return this.getElMarkers().length>0}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(t){var e=this.w,n=e.config.markers.hover.size;return void 0===n&&(n=e.globals.markers.size[t]+e.config.markers.hover.sizeOffset),n}},{key:"toggleAllTooltipSeriesGroups",value:function(t){var e=this.w,n=this.ttCtx;0===n.allTooltipSeriesGroups.length&&(n.allTooltipSeriesGroups=e.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var i=n.allTooltipSeriesGroups,r=0;r<i.length;r++)"enable"===t?(i[r].classList.add("apexcharts-active"),i[r].style.display=e.config.tooltip.items.display):(i[r].classList.remove("apexcharts-active"),i[r].style.display="none")}}]),t}(),pt=function(){function t(e){r(this,t),this.w=e.w,this.ctx=e.ctx,this.ttCtx=e,this.tooltipUtil=new ft(e)}return s(t,[{key:"drawSeriesTexts",value:function(t){var e=t.shared,n=void 0===e||e,i=t.ttItems,r=t.i,o=void 0===r?0:r,s=t.j,a=void 0===s?null:s,l=this.w;void 0!==l.config.tooltip.custom?this.handleCustomTooltip({i:o,j:a,y1:t.y1,y2:t.y2,w:l}):this.toggleActiveInactiveSeries(n);var c=this.getValuesToPrint({i:o,j:a});this.printLabels({i:o,j:a,values:c,ttItems:i,shared:n});var u=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=u.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=u.getBoundingClientRect().height}},{key:"printLabels",value:function(t){var e,n=this,i=t.i,r=t.j,o=t.values,s=t.ttItems,a=t.shared,l=this.w,c=o.xVal,u=o.zVal,h=o.xAxisTTVal,d="",f=l.globals.colors[i];null!==r&&l.config.plotOptions.bar.distributed&&(f=l.globals.colors[r]);for(var p=function(t,o){var p=n.getFormatters(i);d=n.getSeriesName({fn:p.yLbTitleFormatter,index:i,seriesIndex:i,j:r});var g=l.config.tooltip.inverseOrder?o:t;if(l.globals.axisCharts){var v=function(t){return p.yLbFormatter(l.globals.series[t][r],{series:l.globals.series,seriesIndex:t,dataPointIndex:r,w:l})};a?(p=n.getFormatters(g),d=n.getSeriesName({fn:p.yLbTitleFormatter,index:g,seriesIndex:i,j:r}),f=l.globals.colors[g],e=v(g)):e=v(i)}null===r&&(e=p.yLbFormatter(l.globals.series[i],l)),n.DOMHandling({i,t:g,j:r,ttItems:s,values:{val:e,xVal:c,xAxisTTVal:h,zVal:u},seriesName:d,shared:a,pColor:f})},g=0,v=l.globals.series.length-1;g<l.globals.series.length;g++,v--)p(g,v)}},{key:"getFormatters",value:function(t){var e,n=this.w,i=n.globals.yLabelFormatters[t];return void 0!==n.globals.ttVal?Array.isArray(n.globals.ttVal)?(i=n.globals.ttVal[t]&&n.globals.ttVal[t].formatter,e=n.globals.ttVal[t]&&n.globals.ttVal[t].title&&n.globals.ttVal[t].title.formatter):(i=n.globals.ttVal.formatter,"function"==typeof n.globals.ttVal.title.formatter&&(e=n.globals.ttVal.title.formatter)):e=n.config.tooltip.y.title.formatter,"function"!=typeof i&&(i=n.globals.yLabelFormatters[0]?n.globals.yLabelFormatters[0]:function(t){return t}),"function"!=typeof e&&(e=function(t){return t}),{yLbFormatter:i,yLbTitleFormatter:e}}},{key:"getSeriesName",value:function(t){var e=t.seriesIndex,n=t.j,i=this.w;return(0,t.fn)(String(i.globals.seriesNames[t.index]),{series:i.globals.series,seriesIndex:e,dataPointIndex:n,w:i})}},{key:"DOMHandling",value:function(t){var e=t.i,n=t.t,i=t.ttItems,r=t.values,o=t.seriesName,s=t.shared,a=t.pColor,l=this.w,c=this.ttCtx,u=r.val,h=r.xVal,d=r.xAxisTTVal,f=r.zVal,p=null;p=i[n].children,l.config.tooltip.fillSeriesColor&&(i[n].style.backgroundColor=a,p[0].style.display="none"),c.showTooltipTitle&&(null===c.tooltipTitle&&(c.tooltipTitle=l.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),c.tooltipTitle.innerHTML=h),c.blxaxisTooltip&&(c.xaxisTooltipText.innerHTML=""!==d?d:h);var g=i[n].querySelector(".apexcharts-tooltip-text-label");g&&(g.innerHTML=o?o+": ":"");var v=i[n].querySelector(".apexcharts-tooltip-text-value");v&&(v.innerHTML=void 0!==u?u:""),p[0]&&p[0].classList.contains("apexcharts-tooltip-marker")&&(l.config.tooltip.marker.fillColors&&Array.isArray(l.config.tooltip.marker.fillColors)&&(a=l.config.tooltip.marker.fillColors[e]),p[0].style.backgroundColor=a),l.config.tooltip.marker.show||(p[0].style.display="none"),null!==f&&(i[n].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=l.config.tooltip.z.title,i[n].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=void 0!==f?f:""),s&&p[0]&&(p[0].parentNode.style.display=null==u||l.globals.collapsedSeriesIndices.indexOf(n)>-1?"none":l.config.tooltip.items.display)}},{key:"toggleActiveInactiveSeries",value:function(t){var e=this.w;if(t)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var n=e.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group");n&&(n.classList.add("apexcharts-active"),n.style.display=e.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(t){var e=t.i,n=t.j,i=this.w,r=this.ctx.series.filteredSeriesX(),o="",s="",a=null,l=null,c={series:i.globals.series,seriesIndex:e,dataPointIndex:n,w:i},u=i.globals.ttZFormatter;null===n?l=i.globals.series[e]:i.globals.isXNumeric?(o=r[e][n],0===r[e].length&&(o=r[this.tooltipUtil.getFirstActiveXArray(r)][n])):o=void 0!==i.globals.labels[n]?i.globals.labels[n]:"";var h=o;return i.globals.isXNumeric&&"datetime"===i.config.xaxis.type?o=new B(this.ctx).xLabelFormat(i.globals.ttKeyFormatter,h,h):i.globals.isBarHorizontal||(o=i.globals.xLabelFormatter(h,c)),void 0!==i.config.tooltip.x.formatter&&(o=i.globals.ttKeyFormatter(h,c)),i.globals.seriesZ.length>0&&i.globals.seriesZ[0].length>0&&(a=u(i.globals.seriesZ[e][n],i)),s="function"==typeof i.config.xaxis.tooltip.formatter?i.globals.xaxisTooltipFormatter(h,c):o,{val:Array.isArray(l)?l.join(" "):l,xVal:Array.isArray(o)?o.join(" "):o,xAxisTTVal:Array.isArray(s)?s.join(" "):s,zVal:a}}},{key:"handleCustomTooltip",value:function(t){var e=t.i,n=t.j,i=t.y1,r=t.y2,o=t.w,s=this.ttCtx.getElTooltip(),a=o.config.tooltip.custom;Array.isArray(a)&&a[e]&&(a=a[e]),s.innerHTML=a({ctx:this.ctx,series:o.globals.series,seriesIndex:e,dataPointIndex:n,y1:i,y2:r,w:o})}}]),t}(),gt=function(){function t(e){r(this,t),this.ttCtx=e,this.ctx=e.ctx,this.w=e.w}return s(t,[{key:"moveXCrosshairs",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.ttCtx,i=this.w,r=n.getElXCrosshairs(),o=t-n.xcrosshairsWidth/2,s=i.globals.labels.slice().length;if(null!==e&&(o=i.globals.gridWidth/s*e),null!==r&&(r.setAttribute("x",o),r.setAttribute("x1",o),r.setAttribute("x2",o),r.setAttribute("y2",i.globals.gridHeight),r.classList.add("apexcharts-active")),o<0&&(o=0),o>i.globals.gridWidth&&(o=i.globals.gridWidth),n.blxaxisTooltip){var a=o;"tickWidth"!==i.config.xaxis.crosshairs.width&&"barWidth"!==i.config.xaxis.crosshairs.width||(a=o+n.xcrosshairsWidth/2),this.moveXAxisTooltip(a)}}},{key:"moveYCrosshairs",value:function(t){var e=this.ttCtx;null!==e.ycrosshairs&&b.setAttrs(e.ycrosshairs,{y1:t,y2:t}),null!==e.ycrosshairsHidden&&b.setAttrs(e.ycrosshairsHidden,{y1:t,y2:t})}},{key:"moveXAxisTooltip",value:function(t){var e=this.w,n=this.ttCtx;if(null!==n.xaxisTooltip){n.xaxisTooltip.classList.add("apexcharts-active");var i,r=n.xaxisOffY+e.config.xaxis.tooltip.offsetY+e.globals.translateY+1+e.config.xaxis.offsetY;t-=n.xaxisTooltip.getBoundingClientRect().width/2,isNaN(t)||(t+=e.globals.translateX,i=new b(this.ctx).getTextRects(n.xaxisTooltipText.innerHTML),n.xaxisTooltipText.style.minWidth=i.width+"px",n.xaxisTooltip.style.left=t+"px",n.xaxisTooltip.style.top=r+"px")}}},{key:"moveYAxisTooltip",value:function(t){var e=this.w,n=this.ttCtx;null===n.yaxisTTEls&&(n.yaxisTTEls=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var i=parseInt(n.ycrosshairsHidden.getAttribute("y1"),10),r=e.globals.translateY+i,o=n.yaxisTTEls[t].getBoundingClientRect().height,s=e.globals.translateYAxisX[t]-2;e.config.yaxis[t].opposite&&(s-=26),r-=o/2,-1===e.globals.ignoreYAxisIndexes.indexOf(t)?(n.yaxisTTEls[t].classList.add("apexcharts-active"),n.yaxisTTEls[t].style.top=r+"px",n.yaxisTTEls[t].style.left=s+e.config.yaxis[t].tooltip.offsetX+"px"):n.yaxisTTEls[t].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=this.w,r=this.ttCtx,o=r.getElTooltip(),s=r.tooltipRect,a=null!==n?parseFloat(n):1,l=parseFloat(t)+a+5,c=parseFloat(e)+a/2;if(l>i.globals.gridWidth/2&&(l=l-s.ttWidth-a-15),l>i.globals.gridWidth-s.ttWidth-10&&(l=i.globals.gridWidth-s.ttWidth),l<-20&&(l=-20),i.config.tooltip.followCursor){var u=r.getElGrid(),h=u.getBoundingClientRect();c=r.e.clientY+i.globals.translateY-h.top-s.ttHeight/2}if(!i.config.tooltip.followCursor){var d=this.positionChecks(s,l,c);l=d.x,c=d.y}isNaN(l)||(o.style.left=(l+=i.globals.translateX)+"px",o.style.top=c+"px")}},{key:"positionChecks",value:function(t,e,n){var i=this.w;return t.ttHeight/2+n>i.globals.gridHeight&&(n=i.globals.gridHeight-t.ttHeight+i.globals.translateY),n<0&&(n=0),{x:e,y:n}}},{key:"moveMarkers",value:function(t,e){var n=this.w,i=this.ttCtx;if(n.globals.markers.size[t]>0)for(var r=n.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(t,"'] .apexcharts-marker")),o=0;o<r.length;o++)parseInt(r[o].getAttribute("rel"),10)===e&&(i.marker.resetPointsSize(),i.marker.enlargeCurrentPoint(e,r[o]));else i.marker.resetPointsSize(),this.moveDynamicPointOnHover(e,t)}},{key:"moveDynamicPointOnHover",value:function(t,e){var n,i,r=this.w,o=this.ttCtx,s=r.globals.pointsArray,a=o.tooltipUtil.getHoverMarkerSize(e),l=r.config.series[e].type;if(!l||"column"!==l&&"candlestick"!==l){n=s[e][t][0],i=s[e][t][1]?s[e][t][1]:0;var c=r.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-series-markers circle"));c&&i<r.globals.gridHeight&&i>0&&(c.setAttribute("r",a),c.setAttribute("cx",n),c.setAttribute("cy",i)),this.moveXCrosshairs(n),o.fixedTooltip||this.moveTooltip(n,i,a)}}},{key:"moveDynamicPointsOnHover",value:function(t){var e,n=this.ttCtx,i=n.w,r=0,o=0,s=i.globals.pointsArray;e=new O(this.ctx).getActiveConfigSeriesIndex(!0);var a=n.tooltipUtil.getHoverMarkerSize(e);s[e]&&(r=s[e][t][0],o=s[e][t][1]);var l=n.tooltipUtil.getAllMarkers();if(null!==l)for(var c=0;c<i.globals.series.length;c++){var u=s[c];if(i.globals.comboCharts&&void 0===u&&l.splice(c,0,null),u&&u.length){var h=s[c][t][1];l[c].setAttribute("cx",r),null!==h&&!isNaN(h)&&h<i.globals.gridHeight&&h>0?(l[c]&&l[c].setAttribute("r",a),l[c]&&l[c].setAttribute("cy",h)):l[c]&&l[c].setAttribute("r",0)}}this.moveXCrosshairs(r),n.fixedTooltip||this.moveTooltip(r,o||i.globals.gridHeight,a)}},{key:"moveStickyTooltipOverBars",value:function(t){var e,n=this.w,i=this.ttCtx,r=n.globals.columnSeries?n.globals.columnSeries.length:n.globals.series.length,o=r>=2&&r%2==0?Math.floor(r/2):Math.floor(r/2)+1,s=n.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(o,"'] path[j='").concat(t,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(o,"'] path[j='").concat(t,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(o,"'] path[j='").concat(t,"']")),a=s?parseFloat(s.getAttribute("cx")):0,l=s?parseFloat(s.getAttribute("barWidth")):0;n.globals.isXNumeric?a-=r%2!=0?l/2:0:(a=i.xAxisTicksPositions[t-1]+i.dataPointsDividedWidth/2,isNaN(a)&&(a=i.xAxisTicksPositions[t]-i.dataPointsDividedWidth/2));var c=i.getElGrid().getBoundingClientRect();e=i.e.clientY-c.top-i.tooltipRect.ttHeight/2,this.moveXCrosshairs(a),i.fixedTooltip||this.moveTooltip(a,e||n.globals.gridHeight)}}]),t}(),vt=function(){function t(e){r(this,t),this.w=e.w,this.ttCtx=e,this.ctx=e.ctx,this.tooltipPosition=new gt(e)}return s(t,[{key:"drawDynamicPoints",value:function(){var t=this.w,e=new b(this.ctx),n=new I(this.ctx),i=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series");(i=f(i)).sort((function(t,e){return Number(e.getAttribute("data:realIndex"))<Number(t.getAttribute("data:realIndex"))?0:-1}));for(var r=0;r<i.length;r++){var o=i[r].querySelector(".apexcharts-series-markers-wrap");if(null!==o){var s=void 0,a="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));"line"!==t.config.chart.type&&"area"!==t.config.chart.type||t.globals.comboCharts||t.config.tooltip.intersect||(a+=" no-pointer-events");var l=n.getMarkerConfig(a,r);(s=e.drawMarker(0,0,l)).node.setAttribute("default-marker-size",0);var c=document.createElementNS(t.globals.SVGNS,"g");c.classList.add("apexcharts-series-markers"),c.appendChild(s.node),o.appendChild(c)}}}},{key:"enlargeCurrentPoint",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=this.w;"bubble"!==r.config.chart.type&&this.newPointSize(t,e);var o=e.getAttribute("cx"),s=e.getAttribute("cy");if(null!==n&&null!==i&&(o=n,s=i),this.tooltipPosition.moveXCrosshairs(o),!this.fixedTooltip){if("radar"===r.config.chart.type){var a=this.ttCtx.getElGrid(),l=a.getBoundingClientRect();o=this.ttCtx.e.clientX-l.left}this.tooltipPosition.moveTooltip(o,s,r.config.markers.hover.size)}}},{key:"enlargePoints",value:function(t){for(var e=this.w,n=this.ttCtx,i=t,r=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),o=e.config.markers.hover.size,s=0;s<r.length;s++){var a=r[s].getAttribute("rel"),l=r[s].getAttribute("index");if(void 0===o&&(o=e.globals.markers.size[l]+e.config.markers.hover.sizeOffset),i===parseInt(a,10)){this.newPointSize(i,r[s]);var c=r[s].getAttribute("cx"),u=r[s].getAttribute("cy");this.tooltipPosition.moveXCrosshairs(c),n.fixedTooltip||this.tooltipPosition.moveTooltip(c,u,o)}else this.oldPointSize(r[s])}}},{key:"newPointSize",value:function(t,e){var n=this.w,i=n.config.markers.hover.size,r=0===t?e.parentNode.firstChild:e.parentNode.lastChild;if("0"!==r.getAttribute("default-marker-size")){var o=parseInt(r.getAttribute("index"),10);void 0===i&&(i=n.globals.markers.size[o]+n.config.markers.hover.sizeOffset),r.setAttribute("r",i)}}},{key:"oldPointSize",value:function(t){var e=parseFloat(t.getAttribute("default-marker-size"));t.setAttribute("r",e)}},{key:"resetPointsSize",value:function(){for(var t=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),e=0;e<t.length;e++){var n=parseFloat(t[e].getAttribute("default-marker-size"));v.isNumber(n)?t[e].setAttribute("r",n):t[e].setAttribute("r",0)}}}]),t}(),mt=function(){function t(e){r(this,t),this.w=e.w,this.ttCtx=e}return s(t,[{key:"getAttr",value:function(t,e){return parseFloat(t.target.getAttribute(e))}},{key:"handleHeatTooltip",value:function(t){var e=t.e,n=t.opt,i=t.x,r=t.y,o=this.ttCtx,s=this.w;if(e.target.classList.contains("apexcharts-heatmap-rect")){var a=this.getAttr(e,"i"),l=this.getAttr(e,"j"),c=this.getAttr(e,"cx"),u=this.getAttr(e,"cy"),h=this.getAttr(e,"width"),d=this.getAttr(e,"height");if(o.tooltipLabels.drawSeriesTexts({ttItems:n.ttItems,i:a,j:l,shared:!1}),s.globals.capturedSeriesIndex=a,s.globals.capturedDataPointIndex=l,i=c+o.tooltipRect.ttWidth/2+h,r=u+o.tooltipRect.ttHeight/2-d/2,o.tooltipPosition.moveXCrosshairs(c+h/2),i>s.globals.gridWidth/2&&(i=c-o.tooltipRect.ttWidth/2+h),o.w.config.tooltip.followCursor){var f=o.getElGrid().getBoundingClientRect();r=o.e.clientY-f.top+s.globals.translateY/2-10}}return{x:i,y:r}}},{key:"handleMarkerTooltip",value:function(t){var e,n,i=t.e,r=t.opt,o=t.x,s=t.y,a=this.w,l=this.ttCtx;if(i.target.classList.contains("apexcharts-marker")){var c=parseInt(r.paths.getAttribute("cx"),10),u=parseInt(r.paths.getAttribute("cy"),10),h=parseFloat(r.paths.getAttribute("val"));if(n=parseInt(r.paths.getAttribute("rel"),10),e=parseInt(r.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,l.intersect){var d=v.findAncestor(r.paths,"apexcharts-series");d&&(e=parseInt(d.getAttribute("data:realIndex"),10))}if(l.tooltipLabels.drawSeriesTexts({ttItems:r.ttItems,i:e,j:n,shared:!l.showOnIntersect&&a.config.tooltip.shared}),"mouseup"===i.type&&l.markerClick(i,e,n),a.globals.capturedSeriesIndex=e,a.globals.capturedDataPointIndex=n,o=c,s=u+a.globals.translateY-1.4*l.tooltipRect.ttHeight,l.w.config.tooltip.followCursor){var f=l.getElGrid().getBoundingClientRect();s=l.e.clientY+a.globals.translateY-f.top}h<0&&(s=u),l.marker.enlargeCurrentPoint(n,r.paths,o,s)}return{x:o,y:s}}},{key:"handleBarTooltip",value:function(t){var e,n,i=t.e,r=t.opt,o=this.w,s=this.ttCtx,a=s.getElTooltip(),l=0,c=0,u=0,h=this.getBarTooltipXY({e:i,opt:r}),d=h.barHeight,f=h.j;if(o.globals.capturedSeriesIndex=e=h.i,o.globals.capturedDataPointIndex=f,o.globals.isBarHorizontal&&s.tooltipUtil.hasBars()||!o.config.tooltip.shared?(c=h.x,u=h.y,n=Array.isArray(o.config.stroke.width)?o.config.stroke.width[e]:o.config.stroke.width,l=c):o.globals.comboCharts||o.config.tooltip.shared||(l/=2),isNaN(u)?u=o.globals.svgHeight-s.tooltipRect.ttHeight:u<0&&(u=0),c+s.tooltipRect.ttWidth>o.globals.gridWidth?c-=s.tooltipRect.ttWidth:c<0&&(c=0),s.w.config.tooltip.followCursor){var p=s.getElGrid().getBoundingClientRect();u=s.e.clientY-p.top}if(null===s.tooltip&&(s.tooltip=o.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),o.config.tooltip.shared||s.tooltipPosition.moveXCrosshairs(o.globals.comboBarCount>0?l+n/2:l),!s.fixedTooltip&&(!o.config.tooltip.shared||o.globals.isBarHorizontal&&s.tooltipUtil.hasBars())){var g=o.globals.isMultipleYAxis?o.config.yaxis[v]&&o.config.yaxis[v].reversed:o.config.yaxis[0].reversed;g&&(c-=s.tooltipRect.ttWidth)<0&&(c=0),a.style.left=c+o.globals.translateX+"px";var v=parseInt(r.paths.parentNode.getAttribute("data:realIndex"),10);!g||o.globals.isBarHorizontal&&s.tooltipUtil.hasBars()||(u=u+d-2*(o.globals.series[e][f]<0?d:0)),a.style.top=s.tooltipRect.ttHeight+u>o.globals.gridHeight?(u=o.globals.gridHeight-s.tooltipRect.ttHeight+o.globals.translateY)+"px":u+o.globals.translateY-s.tooltipRect.ttHeight/2+"px"}}},{key:"getBarTooltipXY",value:function(t){var e=t.e,n=t.opt,i=this.w,r=null,o=this.ttCtx,s=0,a=0,l=0,c=0,u=0,h=e.target.classList;if(h.contains("apexcharts-bar-area")||h.contains("apexcharts-candlestick-area")||h.contains("apexcharts-rangebar-area")){var d=e.target,f=d.getBoundingClientRect(),p=n.elGrid.getBoundingClientRect(),g=f.height;u=f.height;var v=f.width,m=parseInt(d.getAttribute("cx"),10),y=parseInt(d.getAttribute("cy"),10);c=parseFloat(d.getAttribute("barWidth"));var b="touchmove"===e.type?e.touches[0].clientX:e.clientX;r=parseInt(d.getAttribute("j"),10),s=parseInt(d.parentNode.getAttribute("rel"),10)-1;var x=d.getAttribute("data-range-y1"),w=d.getAttribute("data-range-y2");i.globals.comboCharts&&(s=parseInt(d.parentNode.getAttribute("data:realIndex"),10)),o.tooltipLabels.drawSeriesTexts({ttItems:n.ttItems,i:s,j:r,y1:x?parseInt(x,10):null,y2:w?parseInt(w,10):null,shared:!o.showOnIntersect&&i.config.tooltip.shared}),i.config.tooltip.followCursor?i.globals.isBarHorizontal?(a=b-p.left+15,l=y-o.dataPointsDividedHeight+g/2-o.tooltipRect.ttHeight/2):(a=i.globals.isXNumeric?m-v/2:m-o.dataPointsDividedWidth+v/2,l=e.clientY-p.top-o.tooltipRect.ttHeight/2-15):i.globals.isBarHorizontal?((a=m)<o.xyRatios.baseLineInvertedY&&(a=m-o.tooltipRect.ttWidth),l=y-o.dataPointsDividedHeight+g/2-o.tooltipRect.ttHeight/2):(a=i.globals.isXNumeric?m-v/2:m-o.dataPointsDividedWidth+v/2,l=y)}return{x:a,y:l,barHeight:u,barWidth:c,i:s,j:r}}}]),t}(),yt=function(){function t(e){r(this,t),this.w=e.w,this.ttCtx=e}return s(t,[{key:"drawXaxisTooltip",value:function(){var t=this.w,e=this.ttCtx,n="bottom"===t.config.xaxis.position;e.xaxisOffY=n?t.globals.gridHeight+1:-t.globals.xAxisHeight-t.config.xaxis.axisTicks.height+3;var i=n?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",r=t.globals.dom.elWrap;e.blxaxisTooltip&&null===t.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")&&(e.xaxisTooltip=document.createElement("div"),e.xaxisTooltip.setAttribute("class",i+" apexcharts-theme-"+t.config.tooltip.theme),r.appendChild(e.xaxisTooltip),e.xaxisTooltipText=document.createElement("div"),e.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),e.xaxisTooltipText.style.fontFamily=t.config.xaxis.tooltip.style.fontFamily||t.config.chart.fontFamily,e.xaxisTooltipText.style.fontSize=t.config.xaxis.tooltip.style.fontSize,e.xaxisTooltip.appendChild(e.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var t=this.w,e=this.ttCtx,n=function(n){var i=t.config.yaxis[n].opposite||t.config.yaxis[n].crosshairs.opposite;e.yaxisOffX=i?t.globals.gridWidth+1:1;var r="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(n,i?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left");t.globals.yAxisSameScaleIndices.map((function(e,i){e.map((function(e,i){i===n&&(r+=t.config.yaxis[i].show?" ":" apexcharts-yaxistooltip-hidden")}))}));var o=t.globals.dom.elWrap;null===t.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(n))&&(e.yaxisTooltip=document.createElement("div"),e.yaxisTooltip.setAttribute("class",r+" apexcharts-theme-"+t.config.tooltip.theme),o.appendChild(e.yaxisTooltip),0===n&&(e.yaxisTooltipText=[]),e.yaxisTooltipText[n]=document.createElement("div"),e.yaxisTooltipText[n].classList.add("apexcharts-yaxistooltip-text"),e.yaxisTooltip.appendChild(e.yaxisTooltipText[n]))},i=0;i<t.config.yaxis.length;i++)n(i)}},{key:"setXCrosshairWidth",value:function(){var t=this.w,e=this.ttCtx,n=e.getElXCrosshairs();if(e.xcrosshairsWidth=parseInt(t.config.xaxis.crosshairs.width,10),t.globals.comboCharts){var i=t.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==i&&"barWidth"===t.config.xaxis.crosshairs.width){var r=parseFloat(i.getAttribute("barWidth"));e.xcrosshairsWidth=r}else"tickWidth"===t.config.xaxis.crosshairs.width&&(e.xcrosshairsWidth=t.globals.gridWidth/t.globals.labels.length)}else if("tickWidth"===t.config.xaxis.crosshairs.width)e.xcrosshairsWidth=t.globals.gridWidth/t.globals.labels.length;else if("barWidth"===t.config.xaxis.crosshairs.width){var o=t.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==o){var s=parseFloat(o.getAttribute("barWidth"));e.xcrosshairsWidth=s}else e.xcrosshairsWidth=1}t.globals.isBarHorizontal&&(e.xcrosshairsWidth=0),null!==n&&e.xcrosshairsWidth>0&&n.setAttribute("width",e.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var t=this.w,e=this.ttCtx;e.ycrosshairs=t.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),e.ycrosshairsHidden=t.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(t,e,n){var i=this.ttCtx,r=this.w,o=r.globals.yLabelFormatters[t];if(i.yaxisTooltips[t]){var s=i.getElGrid().getBoundingClientRect(),a=r.globals.minYArr[t]+(r.globals.maxYArr[t]-r.globals.minYArr[t]-(e-s.top)*n.yRatio[t]);i.tooltipPosition.moveYCrosshairs(e-s.top),i.yaxisTooltipText[t].innerHTML=o(a),i.tooltipPosition.moveYAxisTooltip(t)}}}]),t}(),bt=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w;var n=this.w;this.tConfig=n.config.tooltip,this.tooltipUtil=new ft(this),this.tooltipLabels=new pt(this),this.tooltipPosition=new gt(this),this.marker=new vt(this),this.intersect=new mt(this),this.axesTooltip=new yt(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!n.globals.isBarHorizontal&&this.tConfig.shared}return s(t,[{key:"getElTooltip",value:function(t){return t||(t=this),t.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip")}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(t){var e=this.w;this.xyRatios=t,this.blxaxisTooltip=e.config.xaxis.tooltip.enabled&&e.globals.axisCharts,this.yaxisTooltips=e.config.yaxis.map((function(t,n){return!!(t.show&&t.tooltip.enabled&&e.globals.axisCharts)})),this.allTooltipSeriesGroups=[],e.globals.axisCharts||(this.showTooltipTitle=!1);var n=document.createElement("div");if(n.classList.add("apexcharts-tooltip"),n.classList.add("apexcharts-theme-".concat(this.tConfig.theme)),e.globals.dom.elWrap.appendChild(n),e.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var i=new W(this.ctx);this.xAxisTicksPositions=i.getXAxisTicksPositions()}if(!e.globals.comboCharts&&!this.tConfig.intersect&&"bar"!==e.config.chart.type&&"rangeBar"!==e.config.chart.type||this.tConfig.shared||(this.showOnIntersect=!0),0!==e.config.markers.size&&0!==e.globals.markers.largestSize||this.marker.drawDynamicPoints(this),e.globals.collapsedSeries.length!==e.globals.series.length){this.dataPointsDividedHeight=e.globals.gridHeight/e.globals.dataPoints,this.dataPointsDividedWidth=e.globals.gridWidth/e.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||e.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,n.appendChild(this.tooltipTitle));var r=e.globals.series.length;(e.globals.xyCharts||e.globals.comboCharts)&&this.tConfig.shared&&(r=this.showOnIntersect?1:e.globals.series.length),this.legendLabels=e.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(r),this.addSVGEvents()}}},{key:"createTTElements",value:function(t){for(var e=this.w,n=[],i=this.getElTooltip(),r=0;r<t;r++){var o=document.createElement("div");o.classList.add("apexcharts-tooltip-series-group"),this.tConfig.shared&&this.tConfig.enabledOnSeries&&Array.isArray(this.tConfig.enabledOnSeries)&&this.tConfig.enabledOnSeries.indexOf(r)<0&&o.classList.add("apexcharts-tooltip-series-group-hidden");var s=document.createElement("span");s.classList.add("apexcharts-tooltip-marker"),s.style.backgroundColor=e.globals.colors[r],o.appendChild(s);var a=document.createElement("div");a.classList.add("apexcharts-tooltip-text"),a.style.fontFamily=this.tConfig.style.fontFamily||e.config.chart.fontFamily,a.style.fontSize=this.tConfig.style.fontSize;var l=document.createElement("div");l.classList.add("apexcharts-tooltip-y-group");var c=document.createElement("span");c.classList.add("apexcharts-tooltip-text-label"),l.appendChild(c);var u=document.createElement("span");u.classList.add("apexcharts-tooltip-text-value"),l.appendChild(u);var h=document.createElement("div");h.classList.add("apexcharts-tooltip-z-group");var d=document.createElement("span");d.classList.add("apexcharts-tooltip-text-z-label"),h.appendChild(d);var f=document.createElement("span");f.classList.add("apexcharts-tooltip-text-z-value"),h.appendChild(f),a.appendChild(l),a.appendChild(h),o.appendChild(a),i.appendChild(o),n.push(o)}return n}},{key:"addSVGEvents",value:function(){var t=this.w,e=t.config.chart.type,n=this.getElTooltip(),i=!("bar"!==e&&"candlestick"!==e&&"rangeBar"!==e),r="area"===e||"line"===e||"scatter"===e||"bubble"===e||"radar"===e,o=t.globals.dom.Paper.node,s=this.getElGrid();s&&(this.seriesBound=s.getBoundingClientRect());var a,l=[],c=[],u={hoverArea:o,elGrid:s,tooltipEl:n,tooltipY:l,tooltipX:c,ttItems:this.ttItems};if(t.globals.axisCharts&&(r?a=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):i?a=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-rangebar-area"):"heatmap"===e&&(a=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap")),a&&a.length))for(var h=0;h<a.length;h++)l.push(a[h].getAttribute("cy")),c.push(a[h].getAttribute("cx"));if(t.globals.xyCharts&&!this.showOnIntersect||t.globals.comboCharts&&!this.showOnIntersect||i&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([o],u);else if(i&&!t.globals.comboCharts||r&&this.showOnIntersect)this.addDatapointEventsListeners(u);else if(!t.globals.axisCharts||"heatmap"===e){var d=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(d,u)}if(this.showOnIntersect){var f=t.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");f.length>0&&this.addPathsEventListeners(f,u),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(u)}}},{key:"drawFixedTooltipRect",value:function(){var t=this.w,e=this.getElTooltip(),n=e.getBoundingClientRect(),i=n.width+10,r=n.height+10,o=this.tConfig.fixed.offsetX,s=this.tConfig.fixed.offsetY,a=this.tConfig.fixed.position.toLowerCase();return a.indexOf("right")>-1&&(o=o+t.globals.svgWidth-i+10),a.indexOf("bottom")>-1&&(s=s+t.globals.svgHeight-r-10),e.style.left=o+"px",e.style.top=s+"px",{x:o,y:s,ttWidth:i,ttHeight:r}}},{key:"addDatapointEventsListeners",value:function(t){var e=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-rangebar-area");this.addPathsEventListeners(e,t)}},{key:"addPathsEventListeners",value:function(t,e){for(var n=this,i=function(i){var r={paths:t[i],tooltipEl:e.tooltipEl,tooltipY:e.tooltipY,tooltipX:e.tooltipX,elGrid:e.elGrid,hoverArea:e.hoverArea,ttItems:e.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map((function(e){return t[i].addEventListener(e,n.seriesHover.bind(n,r),{capture:!1,passive:!0})}))},r=0;r<t.length;r++)i(r)}},{key:"seriesHover",value:function(t,e){var n=this,i=[],r=this.w;r.config.chart.group&&(i=this.ctx.getGroupedCharts()),r.globals.axisCharts&&(r.globals.minX===-1/0&&r.globals.maxX===1/0||0===r.globals.dataPoints)||(i.length?i.forEach((function(i){var r=n.getElTooltip(i);i.w.globals.minX===n.w.globals.minX&&i.w.globals.maxX===n.w.globals.maxX&&i.w.globals.tooltip.seriesHoverByContext({chartCtx:i,ttCtx:i.w.globals.tooltip,opt:{paths:t.paths,tooltipEl:r,tooltipY:t.tooltipY,tooltipX:t.tooltipX,elGrid:t.elGrid,hoverArea:t.hoverArea,ttItems:i.w.globals.tooltip.ttItems},e})})):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:t,e}))}},{key:"seriesHoverByContext",value:function(t){var e=t.chartCtx,n=t.ttCtx,i=t.opt,r=t.e,o=e.w,s=this.getElTooltip();n.tooltipRect={x:0,y:0,ttWidth:s.getBoundingClientRect().width,ttHeight:s.getBoundingClientRect().height},n.e=r,!n.tooltipUtil.hasBars()||o.globals.comboCharts||n.isBarShared||this.tConfig.onDatasetHover.highlightDataSeries&&new O(e).toggleSeriesOnHover(r,r.target.parentNode),n.fixedTooltip&&n.drawFixedTooltipRect(),o.globals.axisCharts?n.axisChartsTooltips({e:r,opt:i,tooltipRect:n.tooltipRect}):n.nonAxisChartsTooltips({e:r,opt:i,tooltipRect:n.tooltipRect})}},{key:"axisChartsTooltips",value:function(t){var e,n,i=t.e,r=t.opt,o=this.w,s=r.elGrid.getBoundingClientRect(),a="touchmove"===i.type?i.touches[0].clientX:i.clientX,l="touchmove"===i.type?i.touches[0].clientY:i.clientY;if(this.clientY=l,this.clientX=a,o.globals.capturedSeriesIndex=-1,o.globals.capturedDataPointIndex=-1,l<s.top||l>s.top+s.height)this.handleMouseOut(r);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!o.config.tooltip.shared){var c=parseInt(r.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(c)<0)return void this.handleMouseOut(r)}var u=this.getElTooltip(),h=this.getElXCrosshairs(),d=o.globals.xyCharts||"bar"===o.config.chart.type&&!o.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||o.globals.comboCharts&&this.tooltipUtil.hasBars();if(o.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&(d=!1),"mousemove"===i.type||"touchmove"===i.type||"mouseup"===i.type){null!==h&&h.classList.add("apexcharts-active");var f=this.yaxisTooltips.filter((function(t){return!0===t}));if(null!==this.ycrosshairs&&f.length&&this.ycrosshairs.classList.add("apexcharts-active"),d&&!this.showOnIntersect)this.handleStickyTooltip(i,a,l,r);else if("heatmap"===o.config.chart.type){var p=this.intersect.handleHeatTooltip({e:i,opt:r,x:e,y:n});n=p.y,u.style.left=(e=p.x)+"px",u.style.top=n+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:i,opt:r}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:i,opt:r,x:e,y:n});if(this.yaxisTooltips.length)for(var g=0;g<o.config.yaxis.length;g++)this.axesTooltip.drawYaxisTooltipText(g,l,this.xyRatios);r.tooltipEl.classList.add("apexcharts-active")}else"mouseout"!==i.type&&"touchend"!==i.type||this.handleMouseOut(r)}}},{key:"nonAxisChartsTooltips",value:function(t){var e=t.e,n=t.opt,i=t.tooltipRect,r=this.w,o=n.paths.getAttribute("rel"),s=this.getElTooltip(),a=r.globals.dom.elWrap.getBoundingClientRect();if("mousemove"===e.type||"touchmove"===e.type){s.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:n.ttItems,i:parseInt(o,10)-1,shared:!1});var l=r.globals.clientY-a.top-i.ttHeight-10;s.style.left=r.globals.clientX-a.left-i.ttWidth/2+"px",s.style.top=l+"px"}else"mouseout"!==e.type&&"touchend"!==e.type||s.classList.remove("apexcharts-active")}},{key:"handleStickyTooltip",value:function(t,e,n,i){var r=this.w,o=this.tooltipUtil.getNearestValues({context:this,hoverArea:i.hoverArea,elGrid:i.elGrid,clientX:e,clientY:n}),s=o.j,a=o.capturedSeries;o.hoverX<0||o.hoverX>r.globals.gridWidth?this.handleMouseOut(i):null!==a?this.handleStickyCapturedSeries(t,a,i,s):this.tooltipUtil.isXoverlap(s)&&this.create(t,this,0,s,i.ttItems)}},{key:"handleStickyCapturedSeries",value:function(t,e,n,i){var r=this.w;null===r.globals.series[e][i]?this.handleMouseOut(n):void 0!==r.globals.series[e][i]?this.tConfig.shared&&this.tooltipUtil.isXoverlap(i)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(t,this,e,i,n.ttItems):this.create(t,this,e,i,n.ttItems,!1):this.tooltipUtil.isXoverlap(i)&&this.create(t,this,0,i,n.ttItems)}},{key:"deactivateHoverFilter",value:function(){for(var t=this.w,e=new b(this.ctx),n=t.globals.dom.Paper.select(".apexcharts-bar-area"),i=0;i<n.length;i++)e.pathMouseLeave(n[i])}},{key:"handleMouseOut",value:function(t){var e=this.w,n=this.getElXCrosshairs();if(t.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),"bubble"!==e.config.chart.type&&this.marker.resetPointsSize(),null!==n&&n.classList.remove("apexcharts-active"),null!==this.ycrosshairs&&this.ycrosshairs.classList.remove("apexcharts-active"),this.blxaxisTooltip&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){null===this.yaxisTTEls&&(this.yaxisTTEls=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var i=0;i<this.yaxisTTEls.length;i++)this.yaxisTTEls[i].classList.remove("apexcharts-active")}e.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach((function(t){var e=t.getAttribute("data:default-text");t.innerHTML=decodeURIComponent(e)}))}},{key:"markerClick",value:function(t,e,n){var i=this.w;"function"==typeof i.config.chart.events.markerClick&&i.config.chart.events.markerClick(t,this.ctx,{seriesIndex:e,dataPointIndex:n,w:i}),this.ctx.events.fireEvent("markerClick",[t,this.ctx,{seriesIndex:e,dataPointIndex:n,w:i}])}},{key:"create",value:function(t,e,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=this.w,a=e;"mouseup"===t.type&&this.markerClick(t,n,i),null===o&&(o=this.tConfig.shared);var l=this.tooltipUtil.hasMarkers(),c=this.tooltipUtil.getElBars();if(s.config.legend.tooltipHoverFormatter){var u=s.config.legend.tooltipHoverFormatter,h=Array.from(this.legendLabels);h.forEach((function(t){var e=t.getAttribute("data:default-text");t.innerHTML=decodeURIComponent(e)}));for(var d=0;d<h.length;d++){var f=h[d],p=parseInt(f.getAttribute("i"),10),g=decodeURIComponent(f.getAttribute("data:default-text")),v=u(g,{seriesIndex:o?p:n,dataPointIndex:i,w:s});if(o)f.innerHTML=s.globals.collapsedSeriesIndices.indexOf(p)<0?v:g;else if(f.innerHTML=p===n?v:g,n===p)break}}if(o){if(a.tooltipLabels.drawSeriesTexts({ttItems:r,i:n,j:i,shared:!this.showOnIntersect&&this.tConfig.shared}),l&&(s.globals.markers.largestSize>0?a.marker.enlargePoints(i):a.tooltipPosition.moveDynamicPointsOnHover(i)),this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(c),this.barSeriesHeight>0)){var m=new b(this.ctx),y=s.globals.dom.Paper.select(".apexcharts-bar-area[j='".concat(i,"']"));this.deactivateHoverFilter(),this.tooltipPosition.moveStickyTooltipOverBars(i);for(var x=0;x<y.length;x++)m.pathMouseEnter(y[x])}}else a.tooltipLabels.drawSeriesTexts({shared:!1,ttItems:r,i:n,j:i}),this.tooltipUtil.hasBars()&&a.tooltipPosition.moveStickyTooltipOverBars(i),l&&a.tooltipPosition.moveMarkers(n,i)}}]),t}(),xt=function(t){function e(){return r(this,e),d(this,h(e).apply(this,arguments))}return u(e,R),s(e,[{key:"draw",value:function(t,e){var n=this,i=this.w;this.graphics=new b(this.ctx),this.bar=new R(this.ctx,this.xyRatios);var r=new S(this.ctx,i);t=r.getLogSeries(t),this.yRatio=r.getLogYRatios(this.yRatio),this.barHelpers.initVariables(t),"100%"===i.config.chart.stackType&&(t=i.globals.seriesPercent.slice()),this.series=t,this.totalItems=0,this.prevY=[],this.prevX=[],this.prevYF=[],this.prevXF=[],this.prevYVal=[],this.prevXVal=[],this.xArrj=[],this.xArrjF=[],this.xArrjVal=[],this.yArrj=[],this.yArrjF=[],this.yArrjVal=[];for(var o=0;o<t.length;o++)t[o].length>0&&(this.totalItems+=t[o].length);for(var s=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),a=0,l=0,u=function(r,o){var u=void 0,h=void 0,d=void 0,f=void 0,p=[],g=[],m=i.globals.comboCharts?e[r]:r;n.yRatio.length>1&&(n.yaxisIndex=m),n.isReversed=i.config.yaxis[n.yaxisIndex]&&i.config.yaxis[n.yaxisIndex].reversed;var y=n.graphics.group({class:"apexcharts-series",seriesName:v.escapeString(i.globals.seriesNames[m]),rel:r+1,"data:realIndex":m});n.ctx.series.addCollapsedClassToSeries(y,m);var b=n.graphics.group({class:"apexcharts-datalabels","data:realIndex":m}),x=0,w=0,S=n.initialPositions(a,l,u,h,d,f);l=S.y,x=S.barHeight,h=S.yDivision,f=S.zeroW,a=S.x,w=S.barWidth,u=S.xDivision,d=S.zeroH,n.yArrj=[],n.yArrjF=[],n.yArrjVal=[],n.xArrj=[],n.xArrjF=[],n.xArrjVal=[],1===n.prevY.length&&n.prevY[0].every((function(t){return isNaN(t)}))&&(n.prevY[0]=n.prevY[0].map((function(t){return d})),n.prevYF[0]=n.prevYF[0].map((function(t){return 0})));for(var A=0;A<i.globals.dataPoints;A++){var E=n.barHelpers.getStrokeWidth(r,A,m),k={indexes:{i:r,j:A,realIndex:m,bc:o},strokeWidth:E,x:a,y:l,elSeries:y},_=null;n.isHorizontal?(_=n.drawStackedBarPaths(c({},k,{zeroW:f,barHeight:x,yDivision:h})),w=n.series[r][A]/n.invertedYRatio):(_=n.drawStackedColumnPaths(c({},k,{xDivision:u,barWidth:w,zeroH:d})),x=n.series[r][A]/n.yRatio[n.yaxisIndex]),l=_.y,p.push(a=_.x),g.push(l);var C=n.barHelpers.getPathFillColor(t,r,A,m);y=n.renderSeries({realIndex:m,pathFill:C,j:A,i:r,pathFrom:_.pathFrom,pathTo:_.pathTo,strokeWidth:E,elSeries:y,x:a,y:l,series:t,barHeight:x,barWidth:w,elDataLabelsWrap:b,type:"bar",visibleSeries:0})}i.globals.seriesXvalues[m]=p,i.globals.seriesYvalues[m]=g,n.prevY.push(n.yArrj),n.prevYF.push(n.yArrjF),n.prevYVal.push(n.yArrjVal),n.prevX.push(n.xArrj),n.prevXF.push(n.xArrjF),n.prevXVal.push(n.xArrjVal),s.add(y)},h=0,d=0;h<t.length;h++,d++)u(h,d);return s}},{key:"initialPositions",value:function(t,e,n,i,r,o){var s,a,l=this.w;return this.isHorizontal?(s=(s=i=l.globals.gridHeight/l.globals.dataPoints)*parseInt(l.config.plotOptions.bar.barHeight,10)/100,o=this.baseLineInvertedY+l.globals.padHorizontal+(this.isReversed?l.globals.gridWidth:0)-(this.isReversed?2*this.baseLineInvertedY:0),e=(i-s)/2):(a=n=l.globals.gridWidth/l.globals.dataPoints,a=l.globals.isXNumeric&&l.globals.dataPoints>1?(n=l.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:a*parseInt(l.config.plotOptions.bar.columnWidth,10)/100,r=this.baseLineY[this.yaxisIndex]+(this.isReversed?l.globals.gridHeight:0)-(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),t=l.globals.padHorizontal+(n-a)/2),{x:t,y:e,yDivision:i,xDivision:n,barHeight:s,barWidth:a,zeroH:r,zeroW:o}}},{key:"drawStackedBarPaths",value:function(t){for(var e,n,i=t.indexes,r=t.barHeight,o=t.strokeWidth,s=t.zeroW,a=t.y,l=t.yDivision,c=t.elSeries,u=this.w,h=a,d=i.i,f=i.j,p=i.bc,g=0,v=0;v<this.prevXF.length;v++)g+=this.prevXF[v][f];if(d>0){var m=s;this.prevXVal[d-1][f]<0?m=this.series[d][f]>=0?this.prevX[d-1][f]+g-2*(this.isReversed?g:0):this.prevX[d-1][f]:this.prevXVal[d-1][f]>=0&&(m=this.series[d][f]>=0?this.prevX[d-1][f]:this.prevX[d-1][f]-g+2*(this.isReversed?g:0)),e=m}else e=s;this.xArrj.push(n=null===this.series[d][f]?e:e+this.series[d][f]/this.invertedYRatio-2*(this.isReversed?this.series[d][f]/this.invertedYRatio:0)),this.xArrjF.push(Math.abs(e-n)),this.xArrjVal.push(this.series[d][f]);var y=this.barHelpers.getBarpaths({barYPosition:h,barHeight:r,x1:e,x2:n,strokeWidth:o,series:this.series,realIndex:i.realIndex,i:d,j:f,w:u});return this.barHelpers.barBackground({bc:p,i:d,y1:h,y2:r,elSeries:c}),{pathTo:y.pathTo,pathFrom:y.pathFrom,x:n,y:a+=l}}},{key:"drawStackedColumnPaths",value:function(t){var e,n=t.indexes,i=t.x,r=t.xDivision,o=t.barWidth,s=t.zeroH,a=t.elSeries,l=this.w,c=n.i,u=n.j,h=n.bc;if(l.globals.isXNumeric){var d=l.globals.seriesX[c][u];d||(d=0),i=(d-l.globals.minX)/this.xRatio-o/2}for(var f,p=i,g=0,v=0;v<this.prevYF.length;v++)g+=isNaN(this.prevYF[v][u])?0:this.prevYF[v][u];if(c>0&&!l.globals.isXNumeric||c>0&&l.globals.isXNumeric&&l.globals.seriesX[c-1][u]===l.globals.seriesX[c][u]){var m,y,b=Math.min(this.yRatio.length+1,c+1);if(void 0!==this.prevY[c-1])for(var x=1;x<b;x++)if(!isNaN(this.prevY[c-x][u])){y=this.prevY[c-x][u];break}for(var w=1;w<b;w++){if(this.prevYVal[c-w][u]<0){m=this.series[c][u]>=0?y-g+2*(this.isReversed?g:0):y;break}if(this.prevYVal[c-w][u]>=0){m=this.series[c][u]>=0?y:y+g-2*(this.isReversed?g:0);break}}void 0===m&&(m=l.globals.gridHeight),f=this.prevYF[0].every((function(t){return 0===t}))&&this.prevYF.slice(1,c).every((function(t){return t.every((function(t){return isNaN(t)}))}))?l.globals.gridHeight-s:m}else f=l.globals.gridHeight-s;this.yArrj.push(e=f-this.series[c][u]/this.yRatio[this.yaxisIndex]+2*(this.isReversed?this.series[c][u]/this.yRatio[this.yaxisIndex]:0)),this.yArrjF.push(Math.abs(f-e)),this.yArrjVal.push(this.series[c][u]);var S=this.barHelpers.getColumnPaths({barXPosition:p,barWidth:o,y1:f,y2:e,yRatio:this.yRatio[this.yaxisIndex],strokeWidth:this.strokeWidth,series:this.series,realIndex:n.realIndex,i:c,j:u,w:l});return this.barHelpers.barBackground({bc:h,i:c,x1:p,x2:o,elSeries:a}),i+=r,{pathTo:S.pathTo,pathFrom:S.pathFrom,x:l.globals.isXNumeric?i-r:i,y:e}}}]),e}(),wt=function(t){function e(){return r(this,e),d(this,h(e).apply(this,arguments))}return u(e,R),s(e,[{key:"draw",value:function(t,e){var n=this.w,i=new b(this.ctx),r=new T(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick;var o=new S(this.ctx,n);t=o.getLogSeries(t),this.series=t,this.yRatio=o.getLogYRatios(this.yRatio),this.barHelpers.initVariables(t);for(var s=i.group({class:"apexcharts-candlestick-series apexcharts-plot-series"}),a=0;a<t.length;a++){var l,c,u,h,d=void 0,f=void 0,p=[],g=[],m=n.globals.comboCharts?e[a]:a,y=i.group({class:"apexcharts-series",seriesName:v.escapeString(n.globals.seriesNames[m]),rel:a+1,"data:realIndex":m});t[a].length>0&&(this.visibleI=this.visibleI+1),this.yRatio.length>1&&(this.yaxisIndex=m);var x=this.barHelpers.initialPositions();f=x.y,u=x.barHeight,l=x.xDivision,c=x.zeroH,g.push((d=x.x)+(h=x.barWidth)/2);for(var w=i.group({class:"apexcharts-datalabels","data:realIndex":m}),A=0;A<n.globals.dataPoints;A++){var E,k=this.barHelpers.getStrokeWidth(a,A,m),_=this.drawCandleStickPaths({indexes:{i:a,j:A,realIndex:m},x:d,y:f,xDivision:l,barWidth:h,zeroH:c,strokeWidth:k,elSeries:y});f=_.y,d=_.x,E=_.color,A>0&&g.push(d+h/2),p.push(f);var C=r.fillPath({seriesNumber:m,dataPointIndex:A,color:E,value:t[a][A]});this.renderSeries({realIndex:m,pathFill:C,lineFill:this.candlestickOptions.wick.useFillColor?E:void 0,j:A,i:a,pathFrom:_.pathFrom,pathTo:_.pathTo,strokeWidth:k,elSeries:y,x:d,y:f,series:t,barHeight:u,barWidth:h,elDataLabelsWrap:w,visibleSeries:this.visibleI,type:"candlestick"})}n.globals.seriesXvalues[m]=g,n.globals.seriesYvalues[m]=p,s.add(y)}return s}},{key:"drawCandleStickPaths",value:function(t){var e=t.indexes,n=t.x,i=t.xDivision,r=t.barWidth,o=t.zeroH,s=t.strokeWidth,a=this.w,l=new b(this.ctx),c=e.i,u=e.j,h=!0,d=a.config.plotOptions.candlestick.colors.upward,f=a.config.plotOptions.candlestick.colors.downward,p=this.yRatio[this.yaxisIndex],g=e.realIndex,v=this.getOHLCValue(g,u),m=o,y=o;v.o>v.c&&(h=!1);var x=Math.min(v.o,v.c),w=Math.max(v.o,v.c);a.globals.isXNumeric&&(n=(a.globals.seriesX[g][u]-a.globals.minX)/this.xRatio-r/2);var S=n+r*this.visibleI;null==this.series[c][u]?x=o:(x=o-x/p,w=o-w/p,m=o-v.h/p,y=o-v.l/p);var A=l.move(S,o),E=l.move(S,x);return a.globals.previousPaths.length>0&&(E=this.getPreviousPath(g,u,!0)),A=l.move(S,w)+l.line(S+r/2,w)+l.line(S+r/2,m)+l.line(S+r/2,w)+l.line(S+r,w)+l.line(S+r,x)+l.line(S+r/2,x)+l.line(S+r/2,y)+l.line(S+r/2,x)+l.line(S,x)+l.line(S,w-s/2),E+=l.move(S,x),a.globals.isXNumeric||(n+=i),{pathTo:A,pathFrom:E,x:n,y:w,barXPosition:S,color:h?d:f}}},{key:"getOHLCValue",value:function(t,e){var n=this.w;return{o:n.globals.seriesCandleO[t][e],h:n.globals.seriesCandleH[t][e],l:n.globals.seriesCandleL[t][e],c:n.globals.seriesCandleC[t][e]}}}]),e}(),St=function(){function t(e,n){r(this,t),this.ctx=e,this.w=e.w,this.xRatio=n.xRatio,this.yRatio=n.yRatio,this.negRange=!1,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return s(t,[{key:"draw",value:function(t){var e=this.w,n=new b(this.ctx),i=n.group({class:"apexcharts-heatmap"});i.attr("clip-path","url(#gridRectMask".concat(e.globals.cuid,")"));var r=e.globals.gridWidth/e.globals.dataPoints,o=e.globals.gridHeight/e.globals.series.length,s=0,a=!1;this.checkColorRange();var l=t.slice();e.config.yaxis[0].reversed&&(a=!0,l.reverse());for(var c=a?0:l.length-1;a?c<l.length:c>=0;a?c++:c--){var u=n.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:v.escapeString(e.globals.seriesNames[c]),rel:c+1,"data:realIndex":c});if(this.ctx.series.addCollapsedClassToSeries(u,c),e.config.chart.dropShadow.enabled){var h=e.config.chart.dropShadow;new m(this.ctx).dropShadow(u,h,c)}for(var d=0,f=0;f<l[c].length;f++){var p=1,g=e.config.plotOptions.heatmap.shadeIntensity,y=this.determineHeatColor(c,f);p=e.globals.hasNegs||this.negRange?e.config.plotOptions.heatmap.reverseNegativeShade?y.percent<0?y.percent/100*(1.25*g):1.25*g*(1-y.percent/100):y.percent<=0?1-(1+y.percent/100)*g:(1-y.percent/100)*g:1-y.percent/100;var x=y.color,w=new v;e.config.plotOptions.heatmap.enableShades&&(p<0&&(p=0),x=v.hexToRgba(w.shadeColor(p,y.color),e.config.fill.opacity)),"image"===e.config.fill.type&&(x=new T(this.ctx).fillPath({seriesNumber:c,dataPointIndex:f,opacity:e.globals.hasNegs?y.percent<0?1-(1+y.percent/100):g+y.percent/100:y.percent/100,patternID:v.randomId(),width:e.config.fill.image.width?e.config.fill.image.width:r,height:e.config.fill.image.height?e.config.fill.image.height:o}));var S=n.drawRect(d,s,r,o,this.rectRadius);if(S.attr({cx:d,cy:s}),S.node.classList.add("apexcharts-heatmap-rect"),u.add(S),S.attr({fill:x,i:c,index:c,j:f,val:l[c][f],"stroke-width":this.strokeWidth,stroke:e.config.plotOptions.heatmap.useFillColorAsStroke?x:e.globals.stroke.colors[0],color:x}),S.node.addEventListener("mouseenter",n.pathMouseEnter.bind(this,S)),S.node.addEventListener("mouseleave",n.pathMouseLeave.bind(this,S)),S.node.addEventListener("mousedown",n.pathMouseDown.bind(this,S)),e.config.chart.animations.enabled&&!e.globals.dataChanged){var A=1;e.globals.resized||(A=e.config.chart.animations.speed),this.animateHeatMap(S,d,s,r,o,A)}if(e.globals.dataChanged){var E=1;if(this.dynamicAnim.enabled&&e.globals.shouldAnimate){E=this.dynamicAnim.speed;var k=e.globals.previousPaths[c]&&e.globals.previousPaths[c][f]&&e.globals.previousPaths[c][f].color;k||(k="rgba(255, 255, 255, 0)"),this.animateHeatColor(S,v.isColorHex(k)?k:v.rgb2hex(k),v.isColorHex(x)?x:v.rgb2hex(x),E)}}var _=this.calculateHeatmapDataLabels({x:d,y:s,i:c,j:f,heatColorProps:y,series:l,rectHeight:o,rectWidth:r});null!==_&&u.add(_),d+=r}s+=o,i.add(u)}var C=e.globals.yAxisScale[0].result.slice();return e.config.yaxis[0].reversed?C.unshift(""):C.push(""),e.globals.yAxisScale[0].result=C,e.config.yaxis[0].labels.offsetY=-e.globals.gridHeight/e.globals.series.length/2,i}},{key:"checkColorRange",value:function(){var t=this,e=this.w.config.plotOptions.heatmap;e.colorScale.ranges.length>0&&e.colorScale.ranges.map((function(e,n){e.from<=0&&(t.negRange=!0)}))}},{key:"determineHeatColor",value:function(t,e){var n=this.w,i=n.globals.series[t][e],r=n.config.plotOptions.heatmap,o=n.globals.colors[r.colorScale.inverse?e:t],s=null,a=Math.min.apply(Math,f(n.globals.series[t])),l=Math.max.apply(Math,f(n.globals.series[t]));r.distributed||(a=n.globals.minY,l=n.globals.maxY),void 0!==r.colorScale.min&&(a=r.colorScale.min<n.globals.minY?r.colorScale.min:n.globals.minY,l=r.colorScale.max>n.globals.maxY?r.colorScale.max:n.globals.maxY);var c=Math.abs(l)+Math.abs(a),u=100*i/(0===c?c-1e-6:c);return r.colorScale.ranges.length>0&&r.colorScale.ranges.map((function(t,e){if(i>=t.from&&i<=t.to){o=t.color,s=t.foreColor?t.foreColor:null,a=t.from,l=t.to;var n=Math.abs(l)+Math.abs(a);u=100*i/(0===n?n-1e-6:n)}})),{color:o,foreColor:s,percent:u}}},{key:"calculateHeatmapDataLabels",value:function(t){var e=t.x,n=t.y,i=t.i,r=t.j,o=t.heatColorProps,s=t.rectHeight,a=t.rectWidth,l=this.w,c=l.config.dataLabels,u=new b(this.ctx),h=new P(this.ctx),d=c.formatter,f=null;if(c.enabled){f=u.group({class:"apexcharts-data-labels"});var p=c.offsetY,g=e+a/2+c.offsetX,v=n+s/2+parseFloat(c.style.fontSize)/3+p,m=d(l.globals.series[i][r],{seriesIndex:i,dataPointIndex:r,w:l});h.plotDataLabelsText({x:g,y:v,text:m,i,j:r,color:o.foreColor,parent:f,dataLabelsConfig:c})}return f}},{key:"animateHeatMap",value:function(t,e,n,i,r,o){var s=new y(this.ctx);s.animateRect(t,{x:e+i/2,y:n+r/2,width:0,height:0},{x:e,y:n,width:i,height:r},o,(function(){s.animationCompleted(t)}))}},{key:"animateHeatColor",value:function(t,e,n,i){t.attr({fill:e}).animate(i).attr({fill:n})}}]),t}(),At=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w}return s(t,[{key:"drawYAxisTexts",value:function(t,e,n,i){var r=this.w,o=r.config.yaxis[0],s=r.globals.yLabelFormatters[0];return new b(this.ctx).drawText({x:t+o.labels.offsetX,y:e+o.labels.offsetY,text:s(i,n),textAnchor:"middle",fontSize:o.labels.style.fontSize,fontFamily:o.labels.style.fontFamily,foreColor:Array.isArray(o.labels.style.colors)?o.labels.style.colors[n]:o.labels.style.colors})}}]),t}(),Et=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w;var n=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=void 0!==n.globals.stroke.colors?n.globals.stroke.colors:n.globals.colors,this.defaultSize=n.globals.svgHeight<n.globals.svgWidth?n.globals.gridHeight:n.globals.gridWidth,this.centerY=this.defaultSize/2,this.centerX=n.globals.gridWidth/2,this.fullAngle=360,n.globals.radialSize=this.defaultSize/2.05-n.config.stroke.width-(n.config.chart.sparkline.enabled?0:n.config.chart.dropShadow.blur),this.donutSize=n.globals.radialSize*parseInt(n.config.plotOptions.pie.donut.size,10)/100,this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return s(t,[{key:"draw",value:function(t){var e=this,n=this.w,i=new b(this.ctx);if(this.ret=i.group({class:"apexcharts-pie"}),n.globals.noData)return this.ret;for(var r=0,o=0;o<t.length;o++)r+=v.negToZero(t[o]);var s=[],a=i.group();0===r&&(r=1e-5),t.forEach((function(t){e.maxY=Math.max(e.maxY,t)})),"polarArea"===this.chartType&&this.drawPolarElements();for(var l=0;l<t.length;l++){var c=this.fullAngle*v.negToZero(t[l])/r;s.push(c),"polarArea"===this.chartType?(s[l]=this.fullAngle/t.length,this.sliceSizes.push(n.globals.radialSize*t[l]/this.maxY)):this.sliceSizes.push(n.globals.radialSize)}if(n.globals.dataChanged){for(var u,h=0,d=0;d<n.globals.previousPaths.length;d++)h+=v.negToZero(n.globals.previousPaths[d]);for(var f=0;f<n.globals.previousPaths.length;f++)u=this.fullAngle*v.negToZero(n.globals.previousPaths[f])/h,this.prevSectorAngleArr.push(u)}this.donutSize<0&&(this.donutSize=0);var p=n.config.plotOptions.pie.customScale,g=n.globals.gridWidth/2-n.globals.gridWidth/2*p,m=n.globals.gridHeight/2-n.globals.gridHeight/2*p;if("donut"===this.chartType){var y=i.drawCircle(this.donutSize);y.attr({cx:this.centerX,cy:this.centerY,fill:n.config.plotOptions.pie.donut.background?n.config.plotOptions.pie.donut.background:"transparent"}),a.add(y)}var x=this.drawArcs(s,t);if(this.sliceLabels.forEach((function(t){x.add(t)})),a.attr({transform:"translate(".concat(g,", ").concat(m,") scale(").concat(p,")")}),a.add(x),this.ret.add(a),this.donutDataLabels.show){var w=this.renderInnerDataLabels(this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show,translateX:g,translateY:m});this.ret.add(w)}return this.ret}},{key:"drawArcs",value:function(t,e){var n=this.w,i=new m(this.ctx),r=new b(this.ctx),o=new T(this.ctx),s=r.group({class:"apexcharts-slices"}),a=n.config.plotOptions.pie.startAngle%this.fullAngle,l=a,c=a,u=a,h=a;this.strokeWidth=n.config.stroke.show?n.config.stroke.width:0;for(var d=0;d<t.length;d++){var f=r.group({class:"apexcharts-series apexcharts-pie-series",seriesName:v.escapeString(n.globals.seriesNames[d]),rel:d+1,"data:realIndex":d});s.add(f),u=(l=u)+t[d],h=(c=h)+this.prevSectorAngleArr[d];var p=u<l?this.fullAngle+u-l:u-l,g=o.fillPath({seriesNumber:d,size:this.sliceSizes[d],value:e[d]}),y=this.getChangedPath(c,h),x=r.drawPath({d:y,stroke:this.lineColorArr instanceof Array?this.lineColorArr[d]:this.lineColorArr,strokeWidth:0,fill:g,fillOpacity:n.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(d)});x.attr({index:0,j:d}),n.config.chart.dropShadow.enabled&&i.dropShadow(x,n.config.chart.dropShadow,d),this.addListeners(x,this.donutDataLabels),b.setAttrs(x.node,{"data:angle":p,"data:startAngle":l,"data:strokeWidth":this.strokeWidth,"data:value":e[d]});var w={x:0,y:0};"pie"===this.chartType||"polarArea"===this.chartType?w=v.polarToCartesian(this.centerX,this.centerY,n.globals.radialSize/1.25+n.config.plotOptions.pie.dataLabels.offset,(l+p/2)%this.fullAngle):"donut"===this.chartType&&(w=v.polarToCartesian(this.centerX,this.centerY,(n.globals.radialSize+this.donutSize)/2+n.config.plotOptions.pie.dataLabels.offset,(l+p/2)%this.fullAngle)),f.add(x);var S=0;if(!this.initialAnim||n.globals.resized||n.globals.dataChanged?this.animBeginArr.push(0):(0==(S=p/this.fullAngle*n.config.chart.animations.speed)&&(S=1),this.animDur=S+this.animDur,this.animBeginArr.push(this.animDur)),this.animatePaths(x,this.dynamicAnim&&n.globals.dataChanged?{size:this.sliceSizes[d],endAngle:u,startAngle:l,prevStartAngle:c,prevEndAngle:h,animateStartingPos:!0,i:d,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:n.config.chart.animations.dynamicAnimation.speed}:{size:this.sliceSizes[d],endAngle:u,startAngle:l,i:d,totalItems:t.length-1,animBeginArr:this.animBeginArr,dur:S}),n.config.plotOptions.pie.expandOnClick&&"polarArea"!==this.chartType&&x.click(this.pieClicked.bind(this,d)),n.config.dataLabels.enabled){var A=w.x,E=w.y,k=100*p/this.fullAngle+"%";if(0!==p&&n.config.plotOptions.pie.dataLabels.minAngleToShowLabel<t[d]){var _=n.config.dataLabels.formatter;void 0!==_&&(k=_(n.globals.seriesPercent[d][0],{seriesIndex:d,w:n}));var C=r.drawText({x:A,y:E,text:k,textAnchor:"middle",fontSize:n.config.dataLabels.style.fontSize,fontFamily:n.config.dataLabels.style.fontFamily,fontWeight:n.config.dataLabels.style.fontWeight,foreColor:n.globals.dataLabels.style.colors[d]});n.config.dataLabels.dropShadow.enabled&&i.dropShadow(C,n.config.dataLabels.dropShadow),C.node.classList.add("apexcharts-pie-label"),n.config.chart.animations.animate&&!1===n.globals.resized&&(C.node.classList.add("apexcharts-pie-label-delay"),C.node.style.animationDelay=n.config.chart.animations.speed/940+"s"),this.sliceLabels.push(C)}}}return s}},{key:"addListeners",value:function(t,e){var n=new b(this.ctx);t.node.addEventListener("mouseenter",n.pathMouseEnter.bind(this,t)),t.node.addEventListener("mouseleave",n.pathMouseLeave.bind(this,t)),t.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,t.node,e)),t.node.addEventListener("mousedown",n.pathMouseDown.bind(this,t)),this.donutDataLabels.total.showAlways||(t.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,t.node,e)),t.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,t.node,e)))}},{key:"animatePaths",value:function(t,e){var n=e.endAngle<e.startAngle?this.fullAngle+e.endAngle-e.startAngle:e.endAngle-e.startAngle,i=n,r=e.startAngle,o=e.startAngle;void 0!==e.prevStartAngle&&void 0!==e.prevEndAngle&&(r=e.prevEndAngle,i=e.prevEndAngle<e.prevStartAngle?this.fullAngle+e.prevEndAngle-e.prevStartAngle:e.prevEndAngle-e.prevStartAngle),e.i===this.w.config.series.length-1&&(n+o>this.fullAngle?e.endAngle=e.endAngle-(n+o):n+o<this.fullAngle&&(e.endAngle=e.endAngle+(this.fullAngle-(n+o)))),n===this.fullAngle&&(n=this.fullAngle-.01),this.animateArc(t,r,o,n,i,e)}},{key:"animateArc",value:function(t,e,n,i,r,o){var s,a=this,l=this.w,c=new y(this.ctx),u=o.size;(isNaN(e)||isNaN(r))&&(e=n,r=i,o.dur=0);var h=i,d=n,f=e<n?this.fullAngle+e-n:e-n;l.globals.dataChanged&&o.shouldSetPrevPaths&&o.prevEndAngle&&(s=a.getPiePath({me:a,startAngle:o.prevStartAngle,angle:o.prevEndAngle<o.prevStartAngle?this.fullAngle+o.prevEndAngle-o.prevStartAngle:o.prevEndAngle-o.prevStartAngle,size:u}),t.attr({d:s})),0!==o.dur?t.animate(o.dur,l.globals.easing,o.animBeginArr[o.i]).afterAll((function(){"pie"!==a.chartType&&"donut"!==a.chartType&&"polarArea"!==a.chartType||this.animate(l.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":a.strokeWidth}),o.i===l.config.series.length-1&&c.animationCompleted(t)})).during((function(l){h=f+(i-f)*l,o.animateStartingPos&&(h=r+(i-r)*l,d=e-r+(n-(e-r))*l),s=a.getPiePath({me:a,startAngle:d,angle:h,size:u}),t.node.setAttribute("data:pathOrig",s),t.attr({d:s})})):(s=a.getPiePath({me:a,startAngle:d,angle:i,size:u}),o.isTrack||(l.globals.animationEnded=!0),t.node.setAttribute("data:pathOrig",s),t.attr({d:s,"stroke-width":a.strokeWidth}))}},{key:"pieClicked",value:function(t){var e,n=this.w,i=this.sliceSizes[t]+(n.config.plotOptions.pie.expandOnClick?4:0),r=n.globals.dom.Paper.select(".apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(t)).members[0];if("true"!==r.attr("data:pieClicked")){var o=n.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(o,(function(t){t.setAttribute("data:pieClicked","false");var e=t.getAttribute("data:pathOrig");t.setAttribute("d",e)})),r.attr("data:pieClicked","true");var s=parseInt(r.attr("data:startAngle"),10),a=parseInt(r.attr("data:angle"),10);e=this.getPiePath({me:this,startAngle:s,angle:a,size:i}),360!==a&&r.plot(e)}else{r.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(r.node,this.donutDataLabels);var l=r.attr("data:pathOrig");r.attr({d:l})}}},{key:"getChangedPath",value:function(t,e){var n="";return this.dynamicAnim&&this.w.globals.dataChanged&&(n=this.getPiePath({me:this,startAngle:t,angle:e-t,size:this.size})),n}},{key:"getPiePath",value:function(t){var e=t.me,n=t.startAngle,i=t.angle,r=t.size,o=n,s=Math.PI*(o-90)/180,a=i+n;Math.ceil(a)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(a=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(a)>this.fullAngle&&(a-=this.fullAngle);var l=Math.PI*(a-90)/180,c=e.centerX+r*Math.cos(s),u=e.centerY+r*Math.sin(s),h=e.centerX+r*Math.cos(l),d=e.centerY+r*Math.sin(l),f=v.polarToCartesian(e.centerX,e.centerY,e.donutSize,a),p=v.polarToCartesian(e.centerX,e.centerY,e.donutSize,o),g=i>180?1:0,m=["M",c,u,"A",r,r,0,g,1,h,d];return"donut"===e.chartType?[].concat(m,["L",f.x,f.y,"A",e.donutSize,e.donutSize,0,g,0,p.x,p.y,"L",c,u,"z"]).join(" "):"pie"===e.chartType||"polarArea"===e.chartType?[].concat(m,["L",e.centerX,e.centerY,"L",c,u]).join(" "):[].concat(m).join(" ")}},{key:"drawPolarElements",value:function(){var t=this.w,e=new q(this.ctx),n=new b(this.ctx),i=new At(this.ctx),r=n.group(),o=n.group(),s=void 0===t.config.yaxis[0].max&&void 0===t.config.yaxis[0].min,a=e.niceScale(0,Math.ceil(this.maxY),t.config.yaxis[0].tickAmount,0,s),l=a.result.reverse(),c=a.result.length;this.maxY=a.niceMax;for(var u=t.globals.radialSize,h=u/(c-1),d=0;d<c-1;d++){var f=n.drawCircle(u);if(f.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":t.config.plotOptions.polarArea.rings.strokeWidth,stroke:t.config.plotOptions.polarArea.rings.strokeColor}),t.config.yaxis[0].show){var p=i.drawYAxisTexts(this.centerX,this.centerY-u+parseInt(t.config.yaxis[0].labels.style.fontSize,10)/2,d,l[d]);o.add(p)}r.add(f),u-=h}this.ret.add(r),this.ret.add(o)}},{key:"renderInnerDataLabels",value:function(t,e){var n=this.w,i=new b(this.ctx),r=i.group({class:"apexcharts-datalabels-group",transform:"translate(".concat(e.translateX?e.translateX:0,", ").concat(e.translateY?e.translateY:0,") scale(").concat(n.config.plotOptions.pie.customScale,")")}),o=t.total.show;r.node.style.opacity=e.opacity;var s,a,l=e.centerX,c=e.centerY;s=void 0===t.name.color?n.globals.colors[0]:t.name.color;var u=t.name.fontSize,h=t.name.fontFamily,d=t.value.fontWeight;a=void 0===t.value.color?n.config.chart.foreColor:t.value.color;var f=t.value.formatter,p="",g="";if(o?(s=t.total.color,u=t.total.fontSize,h=t.total.fontFamily,d=t.total.fontWeight,g=t.total.label,p=t.total.formatter(n)):1===n.globals.series.length&&(p=f(n.globals.series[0],n),g=n.globals.seriesNames[0]),g&&(g=t.name.formatter(g,t.total.show,n)),t.name.show){var v=i.drawText({x:l,y:c+parseFloat(t.name.offsetY),text:g,textAnchor:"middle",foreColor:s,fontSize:u,fontWeight:d,fontFamily:h});v.node.classList.add("apexcharts-datalabel-label"),r.add(v)}if(t.value.show){var m=t.name.show?parseFloat(t.value.offsetY)+16:t.value.offsetY,y=i.drawText({x:l,y:c+m,text:p,textAnchor:"middle",foreColor:a,fontWeight:t.value.fontWeight,fontSize:t.value.fontSize,fontFamily:t.value.fontFamily});y.node.classList.add("apexcharts-datalabel-value"),r.add(y)}return r}},{key:"printInnerLabels",value:function(t,e,n,i){var r,o=this.w;i?r=void 0===t.name.color?o.globals.colors[parseInt(i.parentNode.getAttribute("rel"),10)-1]:t.name.color:o.globals.series.length>1&&t.total.show&&(r=t.total.color);var s=o.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),a=o.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");n=(0,t.value.formatter)(n,o),i||"function"!=typeof t.total.formatter||(n=t.total.formatter(o)),e=t.name.formatter(e,e===t.total.label,o),null!==s&&(s.textContent=e),null!==a&&(a.textContent=n),null!==s&&(s.style.fill=r)}},{key:"printDataLabelsInner",value:function(t,e){var n=this.w,i=t.getAttribute("data:value"),r=n.globals.seriesNames[parseInt(t.parentNode.getAttribute("rel"),10)-1];n.globals.series.length>1&&this.printInnerLabels(e,r,i,t);var o=n.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");null!==o&&(o.style.opacity=1)}},{key:"revertDataLabelsInner",value:function(t,e,n){var i=this,r=this.w,o=r.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group"),s=!1,a=r.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area"),l=function(t){var n=t.makeSliceOut,r=t.printLabel;Array.prototype.forEach.call(a,(function(t){"true"===t.getAttribute("data:pieClicked")&&(n&&(s=!0),r&&i.printDataLabelsInner(t,e))}))};if(l({makeSliceOut:!0,printLabel:!1}),e.total.show&&r.globals.series.length>1)s&&!e.total.showAlways?l({makeSliceOut:!1,printLabel:!0}):this.printInnerLabels(e,e.total.label,e.total.formatter(r));else if(l({makeSliceOut:!1,printLabel:!0}),!s)if(r.globals.selectedDataPoints.length&&r.globals.series.length>1)if(r.globals.selectedDataPoints[0].length>0){var c=r.globals.selectedDataPoints[0],u=r.globals.dom.baseEl.querySelector(".apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(c));this.printDataLabelsInner(u,e)}else o&&r.globals.selectedDataPoints.length&&0===r.globals.selectedDataPoints[0].length&&(o.style.opacity=0);else o&&r.globals.series.length>1&&(o.style.opacity=0)}}]),t}(),kt=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var n=this.w;this.graphics=new b(this.ctx),this.lineColorArr=void 0!==n.globals.stroke.colors?n.globals.stroke.colors:n.globals.colors,this.defaultSize=n.globals.svgHeight<n.globals.svgWidth?n.globals.gridHeight+1.5*n.globals.goldenPadding:n.globals.gridWidth,this.maxValue=this.w.globals.maxY,this.minValue=this.w.globals.minY,this.polygons=n.config.plotOptions.radar.polygons;var i=n.globals.labels.slice().sort((function(t,e){return e.length-t.length}))[0],o=this.graphics.getTextRects(i,n.config.xaxis.labels.style.fontSize);this.strokeWidth=n.config.stroke.show?n.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-n.config.chart.dropShadow.blur,n.config.xaxis.labels.show&&(this.size=this.size-o.width/1.75),void 0!==n.config.plotOptions.radar.size&&(this.size=n.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return s(t,[{key:"draw",value:function(t){var e=this,n=this.w,i=new T(this.ctx),r=[],o=new P(this.ctx);t.length&&(this.dataPointsLen=t[n.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var s=n.globals.gridHeight/2+n.config.plotOptions.radar.offsetY,a=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(n.globals.gridWidth/2+n.config.plotOptions.radar.offsetX||0,", ").concat(s||0,")")}),l=[],u=null,h=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),t.forEach((function(t,s){var a=t.length===n.globals.dataPoints,d=e.graphics.group().attr({class:"apexcharts-series","data:longestSeries":a,seriesName:v.escapeString(n.globals.seriesNames[s]),rel:s+1,"data:realIndex":s});e.dataRadiusOfPercent[s]=[],e.dataRadius[s]=[],e.angleArr[s]=[],t.forEach((function(t,n){var i=Math.abs(e.maxValue-e.minValue);t+=Math.abs(e.minValue),e.dataRadiusOfPercent[s][n]=t/i,e.dataRadius[s][n]=e.dataRadiusOfPercent[s][n]*e.size,e.angleArr[s][n]=n*e.disAngle})),l=e.getDataPointsPos(e.dataRadius[s],e.angleArr[s]);var f=e.createPaths(l,{x:0,y:0});u=e.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),h=e.graphics.group({class:"apexcharts-datalabels","data:realIndex":s}),n.globals.delayedElements.push({el:u.node,index:s});var p={i:s,realIndex:s,animationDelay:s,initialSpeed:n.config.chart.animations.speed,dataChangeSpeed:n.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:n.globals.stroke.colors[s],strokeLineCap:n.config.stroke.lineCap},g=null;n.globals.previousPaths.length>0&&(g=e.getPreviousPath(s));for(var y=0;y<f.linePathsTo.length;y++){var b=e.graphics.renderPaths(c({},p,{pathFrom:null===g?f.linePathsFrom[y]:g,pathTo:f.linePathsTo[y],strokeWidth:Array.isArray(e.strokeWidth)?e.strokeWidth[s]:e.strokeWidth,fill:"none",drawShadow:!1}));d.add(b);var x=i.fillPath({seriesNumber:s}),w=e.graphics.renderPaths(c({},p,{pathFrom:null===g?f.areaPathsFrom[y]:g,pathTo:f.areaPathsTo[y],strokeWidth:0,fill:x,drawShadow:!1}));n.config.chart.dropShadow.enabled&&new m(e.ctx).dropShadow(w,Object.assign({},n.config.chart.dropShadow,{noUserSpaceOnUse:!0}),s),d.add(w)}t.forEach((function(t,i){var r=new I(e.ctx).getMarkerConfig("apexcharts-marker",s,i),a=e.graphics.drawMarker(l[i].x,l[i].y,r);a.attr("rel",i),a.attr("j",i),a.attr("index",s),a.node.setAttribute("default-marker-size",r.pSize);var f=e.graphics.group({class:"apexcharts-series-markers"});f&&f.add(a),u.add(f),d.add(u);var p=n.config.dataLabels;if(p.enabled){var g=p.formatter(n.globals.series[s][i],{seriesIndex:s,dataPointIndex:i,w:n});o.plotDataLabelsText({x:l[i].x,y:l[i].y,text:g,textAnchor:"middle",i:s,j:s,parent:h,offsetCorrection:!1,dataLabelsConfig:c({},p)})}d.add(h)})),r.push(d)})),this.drawPolygons({parent:a}),n.config.xaxis.labels.show){var d=this.drawXAxisTexts();a.add(d)}return a.add(this.yaxisLabels),r.forEach((function(t){a.add(t)})),a}},{key:"drawPolygons",value:function(t){for(var e=this,n=this.w,i=t.parent,r=new At(this.ctx),o=n.globals.yAxisScale[0].result.reverse(),s=o.length,a=[],l=this.size/(s-1),c=0;c<s;c++)a[c]=l*c;a.reverse();var u=[],h=[];a.forEach((function(t,n){var i=e.getPolygonPos(t),r="";i.forEach((function(t,i){if(0===n){var o=e.graphics.drawLine(t.x,t.y,0,0,Array.isArray(e.polygons.connectorColors)?e.polygons.connectorColors[i]:e.polygons.connectorColors);h.push(o)}0===i&&e.yaxisLabelsTextsPos.push({x:t.x,y:t.y}),r+=t.x+","+t.y+" "})),u.push(r)})),u.forEach((function(t,r){var o=e.polygons.strokeColors,s=e.polygons.strokeWidth,a=e.graphics.drawPolygon(t,Array.isArray(o)?o[r]:o,Array.isArray(s)?s[r]:s,n.globals.radarPolygons.fill.colors[r]);i.add(a)})),h.forEach((function(t){i.add(t)})),n.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach((function(t,n){var i=r.drawYAxisTexts(t.x,t.y,n,o[n]);e.yaxisLabels.add(i)}))}},{key:"drawXAxisTexts",value:function(){var t=this,e=this.w,n=e.config.xaxis.labels,i=this.graphics.group({class:"apexcharts-xaxis"}),r=this.getPolygonPos(this.size);return e.globals.labels.forEach((function(o,s){var a=e.config.xaxis.labels.formatter,l=new P(t.ctx);if(r[s]){var u=t.getTextPos(r[s],t.size),h=a(o,{seriesIndex:-1,dataPointIndex:s,w:e});l.plotDataLabelsText({x:u.newX,y:u.newY,text:h,textAnchor:u.textAnchor,i:s,j:s,parent:i,color:n.style.colors[s]?n.style.colors[s]:"#a8a8a8",dataLabelsConfig:c({textAnchor:u.textAnchor,dropShadow:{enabled:!1}},n),offsetCorrection:!1})}})),i}},{key:"createPaths",value:function(t,e){var n=this,i=[],r=[],o=[],s=[];if(t.length){r=[this.graphics.move(e.x,e.y)],s=[this.graphics.move(e.x,e.y)];var a=this.graphics.move(t[0].x,t[0].y),l=this.graphics.move(t[0].x,t[0].y);t.forEach((function(e,i){a+=n.graphics.line(e.x,e.y),l+=n.graphics.line(e.x,e.y),i===t.length-1&&(a+="Z",l+="Z")})),i.push(a),o.push(l)}return{linePathsFrom:r,linePathsTo:i,areaPathsFrom:s,areaPathsTo:o}}},{key:"getTextPos",value:function(t,e){var n="middle",i=t.x,r=t.y;return Math.abs(t.x)>=10?t.x>0?(n="start",i+=10):t.x<0&&(n="end",i-=10):n="middle",Math.abs(t.y)>=e-10&&(t.y<0?r-=10:t.y>0&&(r+=10)),{textAnchor:n,newX:i,newY:r}}},{key:"getPreviousPath",value:function(t){for(var e=this.w,n=null,i=0;i<e.globals.previousPaths.length;i++){var r=e.globals.previousPaths[i];r.paths.length>0&&parseInt(r.realIndex,10)===parseInt(t,10)&&void 0!==e.globals.previousPaths[i].paths[0]&&(n=e.globals.previousPaths[i].paths[0].d)}return n}},{key:"getDataPointsPos",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.dataPointsLen;t=t||[],e=e||[];for(var i=[],r=0;r<n;r++){var o={};o.x=t[r]*Math.sin(e[r]),o.y=-t[r]*Math.cos(e[r]),i.push(o)}return i}},{key:"getPolygonPos",value:function(t){for(var e=[],n=2*Math.PI/this.dataPointsLen,i=0;i<this.dataPointsLen;i++){var r={};r.x=t*Math.sin(i*n),r.y=-t*Math.cos(i*n),e.push(r)}return e}}]),t}(),_t=function(t){function e(t){var n;r(this,e),(n=d(this,h(e).call(this,t))).ctx=t,n.w=t.w,n.animBeginArr=[0],n.animDur=0;var i=n.w;return n.startAngle=i.config.plotOptions.radialBar.startAngle,n.endAngle=i.config.plotOptions.radialBar.endAngle,n.totalAngle=Math.abs(i.config.plotOptions.radialBar.endAngle-i.config.plotOptions.radialBar.startAngle),n.trackStartAngle=i.config.plotOptions.radialBar.track.startAngle,n.trackEndAngle=i.config.plotOptions.radialBar.track.endAngle,n.radialDataLabels=i.config.plotOptions.radialBar.dataLabels,n.trackStartAngle||(n.trackStartAngle=n.startAngle),n.trackEndAngle||(n.trackEndAngle=n.endAngle),360===n.endAngle&&(n.endAngle=359.99),n.margin=parseInt(i.config.plotOptions.radialBar.track.margin,10),n}return u(e,Et),s(e,[{key:"draw",value:function(t){var e=this.w,n=new b(this.ctx),i=n.group({class:"apexcharts-radialbar"});if(e.globals.noData)return i;var r=n.group(),o=this.defaultSize/2,s=e.globals.gridWidth/2,a=this.defaultSize/2.05;e.config.chart.sparkline.enabled||(a=a-e.config.stroke.width-e.config.chart.dropShadow.blur);var l=e.globals.fill.colors;if(e.config.plotOptions.radialBar.track.show){var c=this.drawTracks({size:a,centerX:s,centerY:o,colorArr:l,series:t});r.add(c)}var u=this.drawArcs({size:a,centerX:s,centerY:o,colorArr:l,series:t}),h=360;e.config.plotOptions.radialBar.startAngle<0&&(h=this.totalAngle);var d=(360-h)/360;if(e.globals.radialSize=a-a*d,this.radialDataLabels.value.show){var f=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);e.globals.radialSize+=f*d}return r.add(u.g),"front"===e.config.plotOptions.radialBar.hollow.position&&(u.g.add(u.elHollow),u.dataLabels&&u.g.add(u.dataLabels)),i.add(r),i}},{key:"drawTracks",value:function(t){var e=this.w,n=new b(this.ctx),i=n.group({class:"apexcharts-tracks"}),r=new m(this.ctx),o=new T(this.ctx),s=this.getStrokeWidth(t);t.size=t.size-s/2;for(var a=0;a<t.series.length;a++){var l=n.group({class:"apexcharts-radialbar-track apexcharts-track"});i.add(l),l.attr({rel:a+1}),t.size=t.size-s-this.margin;var c=e.config.plotOptions.radialBar.track,u=o.fillPath({seriesNumber:0,size:t.size,fillColors:Array.isArray(c.background)?c.background[a]:c.background,solid:!0}),h=this.trackStartAngle,d=this.trackEndAngle;Math.abs(d)+Math.abs(h)>=360&&(d=360-Math.abs(this.startAngle)-.1);var f=n.drawPath({d:"",stroke:u,strokeWidth:s*parseInt(c.strokeWidth,10)/100,fill:"none",strokeOpacity:c.opacity,classes:"apexcharts-radialbar-area"});c.dropShadow.enabled&&r.dropShadow(f,c.dropShadow),l.add(f),f.attr("id","apexcharts-radialbarTrack-"+a),this.animatePaths(f,{centerX:t.centerX,centerY:t.centerY,endAngle:d,startAngle:h,size:t.size,i:a,totalItems:2,animBeginArr:0,dur:0,isTrack:!0,easing:e.globals.easing})}return i}},{key:"drawArcs",value:function(t){var e=this.w,n=new b(this.ctx),i=new T(this.ctx),r=new m(this.ctx),o=n.group(),s=this.getStrokeWidth(t);t.size=t.size-s/2;var a=e.config.plotOptions.radialBar.hollow.background,l=t.size-s*t.series.length-this.margin*t.series.length-s*parseInt(e.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,c=l-e.config.plotOptions.radialBar.hollow.margin;void 0!==e.config.plotOptions.radialBar.hollow.image&&(a=this.drawHollowImage(t,o,l,a));var u=this.drawHollow({size:c,centerX:t.centerX,centerY:t.centerY,fill:a||"transparent"});e.config.plotOptions.radialBar.hollow.dropShadow.enabled&&r.dropShadow(u,e.config.plotOptions.radialBar.hollow.dropShadow);var h=1;!this.radialDataLabels.total.show&&e.globals.series.length>1&&(h=0);var d=null;this.radialDataLabels.show&&(d=this.renderInnerDataLabels(this.radialDataLabels,{hollowSize:l,centerX:t.centerX,centerY:t.centerY,opacity:h})),"back"===e.config.plotOptions.radialBar.hollow.position&&(o.add(u),d&&o.add(d));var f=!1;e.config.plotOptions.radialBar.inverseOrder&&(f=!0);for(var p=f?t.series.length-1:0;f?p>=0:p<t.series.length;f?p--:p++){var g=n.group({class:"apexcharts-series apexcharts-radial-series",seriesName:v.escapeString(e.globals.seriesNames[p])});o.add(g),g.attr({rel:p+1,"data:realIndex":p}),this.ctx.series.addCollapsedClassToSeries(g,p),t.size=t.size-s-this.margin;var y=i.fillPath({seriesNumber:p,size:t.size,value:t.series[p]}),x=this.startAngle,w=void 0,S=v.negToZero(t.series[p]>100?100:t.series[p])/100,A=Math.round(this.totalAngle*S)+this.startAngle,E=void 0;e.globals.dataChanged&&(w=this.startAngle,E=Math.round(this.totalAngle*v.negToZero(e.globals.previousPaths[p])/100)+w),Math.abs(A)+Math.abs(x)>=360&&(A-=.01),Math.abs(E)+Math.abs(w)>=360&&(E-=.01);var k=A-x,_=Array.isArray(e.config.stroke.dashArray)?e.config.stroke.dashArray[p]:e.config.stroke.dashArray,C=n.drawPath({d:"",stroke:y,strokeWidth:s,fill:"none",fillOpacity:e.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+p,strokeDashArray:_});b.setAttrs(C.node,{"data:angle":k,"data:value":t.series[p]}),e.config.chart.dropShadow.enabled&&r.dropShadow(C,e.config.chart.dropShadow,p),this.addListeners(C,this.radialDataLabels),g.add(C),C.attr({index:0,j:p});var I=0;!this.initialAnim||e.globals.resized||e.globals.dataChanged||(this.animDur=(I=(A-x)/360*e.config.chart.animations.speed)/(1.2*t.series.length)+this.animDur,this.animBeginArr.push(this.animDur)),e.globals.dataChanged&&(this.animDur=(I=(A-x)/360*e.config.chart.animations.dynamicAnimation.speed)/(1.2*t.series.length)+this.animDur,this.animBeginArr.push(this.animDur)),this.animatePaths(C,{centerX:t.centerX,centerY:t.centerY,endAngle:A,startAngle:x,prevEndAngle:E,prevStartAngle:w,size:t.size,i:p,totalItems:2,animBeginArr:this.animBeginArr,dur:I,shouldSetPrevPaths:!0,easing:e.globals.easing})}return{g:o,elHollow:u,dataLabels:d}}},{key:"drawHollow",value:function(t){var e=new b(this.ctx).drawCircle(2*t.size);return e.attr({class:"apexcharts-radialbar-hollow",cx:t.centerX,cy:t.centerY,r:t.size,fill:t.fill}),e}},{key:"drawHollowImage",value:function(t,e,n,i){var r=this.w,o=new T(this.ctx),s=v.randomId(),a=r.config.plotOptions.radialBar.hollow.image;if(r.config.plotOptions.radialBar.hollow.imageClipped)o.clippedImgArea({width:n,height:n,image:a,patternID:"pattern".concat(r.globals.cuid).concat(s)}),i="url(#pattern".concat(r.globals.cuid).concat(s,")");else{var l=r.config.plotOptions.radialBar.hollow.imageWidth,c=r.config.plotOptions.radialBar.hollow.imageHeight;if(void 0===l&&void 0===c){var u=r.globals.dom.Paper.image(a).loaded((function(e){this.move(t.centerX-e.width/2+r.config.plotOptions.radialBar.hollow.imageOffsetX,t.centerY-e.height/2+r.config.plotOptions.radialBar.hollow.imageOffsetY)}));e.add(u)}else{var h=r.globals.dom.Paper.image(a).loaded((function(e){this.move(t.centerX-l/2+r.config.plotOptions.radialBar.hollow.imageOffsetX,t.centerY-c/2+r.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(l,c)}));e.add(h)}}return i}},{key:"getStrokeWidth",value:function(t){return t.size*(100-parseInt(this.w.config.plotOptions.radialBar.hollow.size,10))/100/(t.series.length+1)-this.margin}}]),e}(),Ct=function(){function t(e){r(this,t),this.w=e.w,this.lineCtx=e}return s(t,[{key:"sameValueSeriesFix",value:function(t,e){var n=this.w;if("line"===n.config.chart.type&&("gradient"===n.config.fill.type||"gradient"===n.config.fill.type[t])&&new S(this.lineCtx.ctx,n).seriesHaveSameValues(t)){var i=e[t].slice();i[i.length-1]=i[i.length-1]+1e-6,e[t]=i}return e}},{key:"calculatePoints",value:function(t){var e=t.series,n=t.x,i=t.y,r=t.i,o=t.j,s=t.prevY,a=this.w,l=[],c=[];if(0===o){var u=this.lineCtx.categoryAxisCorrection+a.config.markers.offsetX;a.globals.isXNumeric&&(u=(a.globals.seriesX[t.realIndex][0]-a.globals.minX)/this.lineCtx.xRatio+a.config.markers.offsetX),l.push(u),c.push(v.isNumber(e[r][0])?s+a.config.markers.offsetY:null),l.push(n+a.config.markers.offsetX),c.push(v.isNumber(e[r][o+1])?i+a.config.markers.offsetY:null)}else l.push(n+a.config.markers.offsetX),c.push(v.isNumber(e[r][o+1])?i+a.config.markers.offsetY:null);return{x:l,y:c}}},{key:"checkPreviousPaths",value:function(t){for(var e=t.pathFromLine,n=t.pathFromArea,i=t.realIndex,r=this.w,o=0;o<r.globals.previousPaths.length;o++){var s=r.globals.previousPaths[o];("line"===s.type||"area"===s.type)&&s.paths.length>0&&parseInt(s.realIndex,10)===parseInt(i,10)&&("line"===s.type?(this.lineCtx.appendPathFrom=!1,e=r.globals.previousPaths[o].paths[0].d):"area"===s.type&&(this.lineCtx.appendPathFrom=!1,n=r.globals.previousPaths[o].paths[0].d,r.config.stroke.show&&r.globals.previousPaths[o].paths[1]&&(e=r.globals.previousPaths[o].paths[1].d)))}return{pathFromLine:e,pathFromArea:n}}},{key:"determineFirstPrevY",value:function(t){var e=t.i,n=t.series,i=t.prevY,r=t.lineYPosition,o=this.w;if(void 0!==n[e][0])i=(r=o.config.chart.stacked&&e>0?this.lineCtx.prevSeriesY[e-1][0]:this.lineCtx.zeroY)-n[e][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]+2*(this.lineCtx.isReversed?n[e][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]:0);else if(o.config.chart.stacked&&e>0&&void 0===n[e][0])for(var s=e-1;s>=0;s--)if(null!=n[s][0]){i=r=this.lineCtx.prevSeriesY[s][0];break}return{prevY:i,lineYPosition:r}}}]),t}(),Tt=function(){function t(e,n,i){r(this,t),this.ctx=e,this.w=e.w,this.xyRatios=n,this.pointsChart=!("bubble"!==this.w.config.chart.type&&"scatter"!==this.w.config.chart.type)||i,this.scatter=new N(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new Ct(this),this.markers=new I(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return s(t,[{key:"draw",value:function(t,e,n){var i=this.w,r=new b(this.ctx),o=i.globals.comboCharts?e:i.config.chart.type,s=r.group({class:"apexcharts-".concat(o,"-series apexcharts-plot-series")}),a=new S(this.ctx,i);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,t=a.getLogSeries(t),this.yRatio=a.getLogYRatios(this.yRatio);for(var l=[],c=0;c<t.length;c++){t=this.lineHelpers.sameValueSeriesFix(c,t);var u=i.globals.comboCharts?n[c]:c;this._initSerieVariables(t,c,u);var h=[],d=[],f=i.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,u),i.globals.isXNumeric&&i.globals.seriesX.length>0&&(f=(i.globals.seriesX[u][0]-i.globals.minX)/this.xRatio),d.push(f);var p,g=f,v=g,m=this.zeroY;m=this.lineHelpers.determineFirstPrevY({i:c,series:t,prevY:m,lineYPosition:0}).prevY,h.push(m),p=m;var y=this._calculatePathsFrom({series:t,i:c,realIndex:u,prevX:v,prevY:m}),x=this._iterateOverDataPoints({series:t,realIndex:u,i:c,x:f,y:1,pX:g,pY:p,pathsFrom:y,linePaths:[],areaPaths:[],seriesIndex:n,lineYPosition:0,xArrj:d,yArrj:h});this._handlePaths({type:o,realIndex:u,i:c,paths:x}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),l.push(this.elSeries)}for(var w=l.length;w>0;w--)s.add(l[w-1]);return s}},{key:"_initSerieVariables",value:function(t,e,n){var i=this.w,r=new b(this.ctx);this.xDivision=i.globals.gridWidth/(i.globals.dataPoints-("on"===i.config.xaxis.tickPlacement?1:0)),this.strokeWidth=Array.isArray(i.config.stroke.width)?i.config.stroke.width[n]:i.config.stroke.width,this.yRatio.length>1&&(this.yaxisIndex=n),this.isReversed=i.config.yaxis[this.yaxisIndex]&&i.config.yaxis[this.yaxisIndex].reversed,this.zeroY=i.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?i.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),this.areaBottomY=this.zeroY,this.zeroY>i.globals.gridHeight&&(this.areaBottomY=i.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=r.group({class:"apexcharts-series",seriesName:v.escapeString(i.globals.seriesNames[n])}),this.elPointsMain=r.group({class:"apexcharts-series-markers-wrap","data:realIndex":n}),this.elDataLabelsWrap=r.group({class:"apexcharts-datalabels","data:realIndex":n}),this.elSeries.attr({"data:longestSeries":t[e].length===i.globals.dataPoints,rel:e+1,"data:realIndex":n}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(t){var e,n,i,r,o=t.series,s=t.i,a=t.realIndex,l=t.prevX,c=t.prevY,u=this.w,h=new b(this.ctx);if(null===o[s][0]){for(var d=0;d<o[s].length;d++)if(null!==o[s][d]){e=h.move(l=this.xDivision*d,c=this.zeroY-o[s][d]/this.yRatio[this.yaxisIndex]),n=h.move(l,this.areaBottomY);break}}else e=h.move(l,c),n=h.move(l,this.areaBottomY)+h.line(l,c);if(i=h.move(-1,this.zeroY)+h.line(-1,this.zeroY),r=h.move(-1,this.zeroY)+h.line(-1,this.zeroY),u.globals.previousPaths.length>0){var f=this.lineHelpers.checkPreviousPaths({pathFromLine:i,pathFromArea:r,realIndex:a});i=f.pathFromLine,r=f.pathFromArea}return{prevX:l,prevY:c,linePath:e,areaPath:n,pathFromLine:i,pathFromArea:r}}},{key:"_handlePaths",value:function(t){var e=t.type,n=t.realIndex,i=t.i,r=t.paths,o=this.w,s=new b(this.ctx),a=new T(this.ctx);this.prevSeriesY.push(r.yArrj),o.globals.seriesXvalues[n]=r.xArrj,o.globals.seriesYvalues[n]=r.yArrj,this.pointsChart||o.globals.delayedElements.push({el:this.elPointsMain.node,index:n});var l={i,realIndex:n,animationDelay:i,initialSpeed:o.config.chart.animations.speed,dataChangeSpeed:o.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(e)};if("area"===e)for(var u=a.fillPath({seriesNumber:n}),h=0;h<r.areaPaths.length;h++){var d=s.renderPaths(c({},l,{pathFrom:r.pathFromArea,pathTo:r.areaPaths[h],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:u}));this.elSeries.add(d)}if(o.config.stroke.show&&!this.pointsChart){var f;f="line"===e?a.fillPath({seriesNumber:n,i}):o.globals.stroke.colors[n];for(var p=0;p<r.linePaths.length;p++){var g=s.renderPaths(c({},l,{pathFrom:r.pathFromLine,pathTo:r.linePaths[p],stroke:f,strokeWidth:this.strokeWidth,strokeLineCap:o.config.stroke.lineCap,fill:"none"}));this.elSeries.add(g)}}}},{key:"_iterateOverDataPoints",value:function(t){for(var e=t.series,n=t.realIndex,i=t.i,r=t.x,o=t.y,s=t.pX,a=t.pY,l=t.pathsFrom,c=t.linePaths,u=t.areaPaths,h=t.seriesIndex,d=t.lineYPosition,f=t.xArrj,p=t.yArrj,g=this.w,m=new b(this.ctx),y=this.yRatio,x=l.prevY,w=l.linePath,S=l.areaPath,A=l.pathFromLine,E=l.pathFromArea,k=v.isNumber(g.globals.minYArr[n])?g.globals.minYArr[n]:g.globals.minY,_=g.globals.dataPoints>1?g.globals.dataPoints-1:g.globals.dataPoints,C=0;C<_;C++){var T=null==e[i][C+1];if(g.globals.isXNumeric){var I=g.globals.seriesX[n][C+1];void 0===g.globals.seriesX[n][C+1]&&(I=g.globals.seriesX[n][_-1]),r=(I-g.globals.minX)/this.xRatio}else r+=this.xDivision;d=g.config.chart.stacked&&i>0&&g.globals.collapsedSeries.length<g.config.series.length-1?this.prevSeriesY[function(t){for(var e=t,n=0;n<g.globals.series.length;n++)if(g.globals.collapsedSeriesIndices.indexOf(t)>-1){e--;break}return e>=0?e:0}(i-1)][C+1]:this.zeroY,o=T?d-k/y[this.yaxisIndex]+2*(this.isReversed?k/y[this.yaxisIndex]:0):d-e[i][C+1]/y[this.yaxisIndex]+2*(this.isReversed?e[i][C+1]/y[this.yaxisIndex]:0),f.push(r),p.push(o);var N=this.lineHelpers.calculatePoints({series:e,x:r,y:o,realIndex:n,i,j:C,prevY:x}),P=this._createPaths({series:e,i,realIndex:n,j:C,x:r,y:o,pX:s,pY:a,linePath:w,areaPath:S,linePaths:c,areaPaths:u,seriesIndex:h});u=P.areaPaths,c=P.linePaths,s=P.pX,a=P.pY,S=P.areaPath,w=P.linePath,this.appendPathFrom&&(A+=m.line(r,this.zeroY),E+=m.line(r,this.zeroY)),this.handleNullDataPoints(e,N,i,C,n),this._handleMarkersAndLabels({pointsPos:N,series:e,x:r,y:o,prevY:x,i,j:C,realIndex:n})}return{yArrj:p,xArrj:f,pathFromArea:E,areaPaths:u,pathFromLine:A,linePaths:c}}},{key:"_handleMarkersAndLabels",value:function(t){var e=t.pointsPos,n=t.i,i=t.j,r=t.realIndex,o=this.w,s=new P(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,i,{realIndex:r,pointsPos:e,zRatio:this.zRatio,elParent:this.elPointsMain});else{o.globals.series[n].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var a=this.markers.plotChartMarkers(e,r,i+1);null!==a&&this.elPointsMain.add(a)}var l=s.drawDataLabel(e,r,i+1,null);null!==l&&this.elDataLabelsWrap.add(l)}},{key:"_createPaths",value:function(t){var e=t.series,n=t.i,i=t.realIndex,r=t.j,o=t.x,s=t.y,a=t.pX,l=t.pY,c=t.linePath,u=t.areaPath,h=t.linePaths,d=t.areaPaths,f=t.seriesIndex,p=this.w,g=new b(this.ctx),v=p.config.stroke.curve,m=this.areaBottomY;if(Array.isArray(p.config.stroke.curve)&&(v=Array.isArray(f)?p.config.stroke.curve[f[n]]:p.config.stroke.curve[n]),"smooth"===v){var y=.35*(o-a);p.globals.hasNullValues?(null!==e[n][r]&&(null!==e[n][r+1]?(c=g.move(a,l)+g.curve(a+y,l,o-y,s,o+1,s),u=g.move(a+1,l)+g.curve(a+y,l,o-y,s,o+1,s)+g.line(o,m)+g.line(a,m)+"z"):(c=g.move(a,l),u=g.move(a,l)+"z")),h.push(c),d.push(u)):(c+=g.curve(a+y,l,o-y,s,o,s),u+=g.curve(a+y,l,o-y,s,o,s)),a=o,l=s,r===e[n].length-2&&(u=u+g.curve(a,l,o,s,o,m)+g.move(o,s)+"z",p.globals.hasNullValues||(h.push(c),d.push(u)))}else null===e[n][r+1]&&(c+=g.move(o,s),u=u+g.line(p.globals.isXNumeric?(p.globals.seriesX[i][r]-p.globals.minX)/this.xRatio:o-this.xDivision,m)+g.move(o,s)+"z"),null===e[n][r]&&(c+=g.move(o,s),u+=g.move(o,m)),"stepline"===v?(c=c+g.line(o,null,"H")+g.line(null,s,"V"),u=u+g.line(o,null,"H")+g.line(null,s,"V")):"straight"===v&&(c+=g.line(o,s),u+=g.line(o,s)),r===e[n].length-2&&(u=u+g.line(o,m)+g.move(o,s)+"z",h.push(c),d.push(u));return{linePaths:h,areaPaths:d,pX:a,pY:l,linePath:c,areaPath:u}}},{key:"handleNullDataPoints",value:function(t,e,n,i,r){var o=this.w;if(null===t[n][i]&&o.config.markers.showNullDataPoints||1===t[n].length){var s=this.markers.plotChartMarkers(e,r,i+1,this.strokeWidth-o.config.markers.strokeWidth/2,!0);null!==s&&this.elPointsMain.add(s)}}}]),t}(),It=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return s(t,[{key:"calculateTimeScaleTicks",value:function(t,e){var n=this,i=this.w;if(i.globals.allSeriesCollapsed)return i.globals.labels=[],i.globals.timescaleLabels=[],[];var r=new M(this.ctx),o=(e-t)/864e5;this.determineInterval(o),i.globals.disableZoomIn=!1,i.globals.disableZoomOut=!1,o<.005?i.globals.disableZoomIn=!0:o>5e4&&(i.globals.disableZoomOut=!0);var s=r.getTimeUnitsfromTimestamp(t,e,this.utc),a=i.globals.gridWidth/o,l=a/24,u=l/60,h=Math.floor(24*o),d=Math.floor(24*o*60),f=Math.floor(o),p=Math.floor(o/30),g=Math.floor(o/365),v={minMinute:s.minMinute,minHour:s.minHour,minDate:s.minDate,minMonth:s.minMonth,minYear:s.minYear},m={firstVal:v,currentMinute:v.minMinute,currentHour:v.minHour,currentMonthDate:v.minDate,currentDate:v.minDate,currentMonth:v.minMonth,currentYear:v.minYear,daysWidthOnXAxis:a,hoursWidthOnXAxis:l,minutesWidthOnXAxis:u,numberOfMinutes:d,numberOfHours:h,numberOfDays:f,numberOfMonths:p,numberOfYears:g};switch(this.tickInterval){case"years":this.generateYearScale(m);break;case"months":case"half_year":this.generateMonthScale(m);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(m);break;case"hours":this.generateHourScale(m);break;case"minutes":this.generateMinuteScale(m)}var y=this.timeScaleArray.map((function(t){var e={position:t.position,unit:t.unit,year:t.year,day:t.day?t.day:1,hour:t.hour?t.hour:0,month:t.month+1};return"month"===t.unit?c({},e,{day:1,value:t.value+1}):"day"===t.unit||"hour"===t.unit?c({},e,{value:t.value}):"minute"===t.unit?c({},e,{value:t.value,minute:t.value}):t}));return y.filter((function(t){var e=1,r=Math.ceil(i.globals.gridWidth/120),o=t.value;void 0!==i.config.xaxis.tickAmount&&(r=i.config.xaxis.tickAmount),y.length>r&&(e=Math.floor(y.length/r));var s=!1,a=!1;switch(n.tickInterval){case"years":"year"===t.unit&&(s=!0);break;case"half_year":e=7,"year"===t.unit&&(s=!0);break;case"months":e=1,"year"===t.unit&&(s=!0);break;case"months_fortnight":e=15,"year"!==t.unit&&"month"!==t.unit||(s=!0),30===o&&(a=!0);break;case"months_days":e=10,"month"===t.unit&&(s=!0),30===o&&(a=!0);break;case"week_days":e=8,"month"===t.unit&&(s=!0);break;case"days":e=1,"month"===t.unit&&(s=!0);break;case"hours":"day"===t.unit&&(s=!0);break;case"minutes":o%5!=0&&(a=!0)}if("minutes"===n.tickInterval||"hours"===n.tickInterval){if(!a)return!0}else if((o%e==0||s)&&!a)return!0}))}},{key:"recalcDimensionsBasedOnFormat",value:function(t,e){var n=this.w,i=this.formatDates(t),r=this.removeOverlappingTS(i);n.globals.timescaleLabels=r.slice(),new lt(this.ctx).plotCoords()}},{key:"determineInterval",value:function(t){switch(!0){case t>1825:this.tickInterval="years";break;case t>800&&t<=1825:this.tickInterval="half_year";break;case t>180&&t<=800:this.tickInterval="months";break;case t>90&&t<=180:this.tickInterval="months_fortnight";break;case t>60&&t<=90:this.tickInterval="months_days";break;case t>30&&t<=60:this.tickInterval="week_days";break;case t>2&&t<=30:this.tickInterval="days";break;case t>.1&&t<=2:this.tickInterval="hours";break;case t<.1:this.tickInterval="minutes";break;default:this.tickInterval="days"}}},{key:"generateYearScale",value:function(t){var e=t.firstVal,n=t.currentMonth,i=t.currentYear,r=t.daysWidthOnXAxis,o=t.numberOfYears,s=e.minYear,a=0,l=new M(this.ctx);if(e.minDate>1||e.minMonth>0){var c=l.determineRemainingDaysOfYear(e.minYear,e.minMonth,e.minDate);a=(l.determineDaysOfYear(e.minYear)-c+1)*r,this.timeScaleArray.push({position:a,value:s=e.minYear+1,unit:"year",year:s,month:v.monthMod(n+1)})}else 1===e.minDate&&0===e.minMonth&&this.timeScaleArray.push({position:a,value:s,unit:"year",year:i,month:v.monthMod(n+1)});for(var u=s,h=a,d=0;d<o;d++)u++,h=l.determineDaysOfYear(u-1)*r+h,this.timeScaleArray.push({position:h,value:u,unit:"year",year:u,month:1})}},{key:"generateMonthScale",value:function(t){var e=t.firstVal,n=t.currentMonthDate,i=t.currentMonth,r=t.currentYear,o=t.daysWidthOnXAxis,s=t.numberOfMonths,a=i,l=0,c=new M(this.ctx),u="month",h=0;if(e.minDate>1){l=(c.determineDaysOfMonths(i+1,e.minYear)-n+1)*o,a=v.monthMod(i+1);var d=r+h,f=v.monthMod(a),p=a;0===a&&(u="year",p=d,f=1,d+=h+=1),this.timeScaleArray.push({position:l,value:p,unit:u,year:d,month:f})}else this.timeScaleArray.push({position:l,value:a,unit:u,year:r,month:v.monthMod(i)});for(var g=a+1,m=l,y=0,b=1;y<s;y++,b++){0===(g=v.monthMod(g))?(u="year",h+=1):u="month";var x=this._getYear(r,g,h);m=c.determineDaysOfMonths(g,x)*o+m,this.timeScaleArray.push({position:m,value:0===g?x:g,unit:u,year:x,month:0===g?1:g}),g++}}},{key:"generateDayScale",value:function(t){var e=t.firstVal,n=t.currentMonth,i=t.currentYear,r=t.hoursWidthOnXAxis,o=t.numberOfDays,s=new M(this.ctx),a="day",l=e.minDate+1,c=l,u=function(t,e,n){return t>s.determineDaysOfMonths(e+1,n)?(c=1,a="month",d=e+=1,e):e},h=(24-e.minHour)*r,d=l,f=u(c,n,i);0===e.minHour&&1===e.minDate&&(h=0,d=v.monthMod(e.minMonth),a="month",c=e.minDate,o++),this.timeScaleArray.push({position:h,value:d,unit:a,year:this._getYear(i,f,0),month:v.monthMod(f),day:c});for(var p=h,g=0;g<o;g++){a="day",f=u(c+=1,f,this._getYear(i,f,0));var m=this._getYear(i,f,0);p=24*r+p;var y=1===c?v.monthMod(f):c;this.timeScaleArray.push({position:p,value:y,unit:a,year:m,month:v.monthMod(f),day:y})}}},{key:"generateHourScale",value:function(t){var e=t.firstVal,n=t.currentDate,i=t.currentMonth,r=t.currentYear,o=t.minutesWidthOnXAxis,s=t.numberOfHours,a=new M(this.ctx),l="hour",c=function(t,e){return t>a.determineDaysOfMonths(e+1,r)&&(g=1,e+=1),{month:e,date:g}},u=function(t,e){return t>a.determineDaysOfMonths(e+1,r)?e+=1:e},h=60-e.minMinute,d=h*o,f=e.minHour+1,p=f+1;60===h&&(d=0,p=(f=e.minHour)+1);var g=n,m=u(g,i);this.timeScaleArray.push({position:d,value:f,unit:l,day:g,hour:p,year:r,month:v.monthMod(m)});for(var y=d,b=0;b<s;b++){l="hour",p>=24&&(p=0,l="day",m=c(g+=1,m).month,m=u(g,m));var x=this._getYear(r,m,0);this.timeScaleArray.push({position:y=0===p&&0===b?h*o:60*o+y,value:0===p?g:p,unit:l,hour:p,day:g,year:x,month:v.monthMod(m)}),p++}}},{key:"generateMinuteScale",value:function(t){var e=t.firstVal,n=t.currentYear,i=t.minutesWidthOnXAxis,r=t.numberOfMinutes,o=i-(t.currentMinute-e.minMinute),s=e.minMinute+1,a=s+1,l=t.currentDate,c=t.currentMonth,u=t.currentHour;this.timeScaleArray.push({position:o,value:s,unit:"minute",day:l,hour:u,minute:a,year:n,month:v.monthMod(c)});for(var h=o,d=0;d<r;d++)a>=60&&(a=0,24===(u+=1)&&(u=0)),this.timeScaleArray.push({position:h=i+h,value:a,unit:"minute",hour:u,minute:a,day:l,year:this._getYear(n,c,0),month:v.monthMod(c)}),a++}},{key:"createRawDateString",value:function(t,e){var n=t.year;return n+="-"+("0"+t.month.toString()).slice(-2),n+="day"===t.unit?"day"===t.unit?"-"+("0"+e).slice(-2):"-01":"-"+("0"+(t.day?t.day:"1")).slice(-2),n+="hour"===t.unit?"hour"===t.unit?"T"+("0"+e).slice(-2):"T00":"T"+("0"+(t.hour?t.hour:"0")).slice(-2),n+="minute"===t.unit?":"+("0"+e).slice(-2)+":00":":00:00",this.utc&&(n+=".000Z"),n}},{key:"formatDates",value:function(t){var e=this,n=this.w;return t.map((function(t){var i=t.value.toString(),r=new M(e.ctx),o=e.createRawDateString(t,i),s=r.getDate(o);if(void 0===n.config.xaxis.labels.format){var a="dd MMM",l=n.config.xaxis.labels.datetimeFormatter;"year"===t.unit&&(a=l.year),"month"===t.unit&&(a=l.month),"day"===t.unit&&(a=l.day),"hour"===t.unit&&(a=l.hour),"minute"===t.unit&&(a=l.minute),i=r.formatDate(s,a)}else i=r.formatDate(s,n.config.xaxis.labels.format);return{dateString:o,position:t.position,value:i,unit:t.unit,year:t.year,month:t.month}}))}},{key:"removeOverlappingTS",value:function(t){var e,n=this,i=new b(this.ctx),r=!1;t.length>0&&t[0].value&&t.every((function(e){return e.value.length===t[0].value.length}))&&(r=!0,e=i.getTextRects(t[0].value).width);var o=0;return t.map((function(s,a){if(a>0&&n.w.config.xaxis.labels.hideOverlappingLabels){var l=r?e:i.getTextRects(t[o].value).width;return s.position>t[o].position+l+10?(o=a,s):null}return s})).filter((function(t){return null!==t}))}},{key:"_getYear",value:function(t,e,n){return t+Math.floor(e/12)+n}}]),t}(),Nt=function(){function t(e,n){r(this,t),this.ctx=n,this.w=n.w,this.el=e}return s(t,[{key:"setupElements",value:function(){var t=this.w.globals,e=this.w.config,n=e.chart.type;t.axisCharts=["line","area","bar","rangeBar","candlestick","scatter","bubble","radar","heatmap"].indexOf(n)>-1,t.xyCharts=["line","area","bar","rangeBar","candlestick","scatter","bubble"].indexOf(n)>-1,t.isBarHorizontal=("bar"===e.chart.type||"rangeBar"===e.chart.type)&&e.plotOptions.bar.horizontal,t.chartClass=".apexcharts"+t.cuid,t.dom.baseEl=this.el,t.dom.elWrap=document.createElement("div"),b.setAttrs(t.dom.elWrap,{id:t.chartClass.substring(1),class:"apexcharts-canvas "+t.chartClass.substring(1)}),this.el.appendChild(t.dom.elWrap),t.dom.Paper=new window.SVG.Doc(t.dom.elWrap),t.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(e.chart.offsetX,", ").concat(e.chart.offsetY,")")}),t.dom.Paper.node.style.background=e.chart.background,this.setSVGDimensions(),t.dom.elGraphical=t.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),t.dom.elAnnotations=t.dom.Paper.group().attr({class:"apexcharts-annotations"}),t.dom.elDefs=t.dom.Paper.defs(),t.dom.elLegendWrap=document.createElement("div"),t.dom.elLegendWrap.classList.add("apexcharts-legend"),t.dom.elWrap.appendChild(t.dom.elLegendWrap),t.dom.Paper.add(t.dom.elGraphical),t.dom.elGraphical.add(t.dom.elDefs)}},{key:"plotChartType",value:function(t,e){var n=this.w,i=n.config,r=n.globals,o={series:[],i:[]},s={series:[],i:[]},a={series:[],i:[]},l={series:[],i:[]},c={series:[],i:[]},u={series:[],i:[]};r.series.map((function(e,h){void 0!==t[h].type?("column"===t[h].type||"bar"===t[h].type?(r.series.length>1&&i.plotOptions.bar.horizontal&&console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"),c.series.push(e),c.i.push(h),n.globals.columnSeries=c.series):"area"===t[h].type?(s.series.push(e),s.i.push(h)):"line"===t[h].type?(o.series.push(e),o.i.push(h)):"scatter"===t[h].type?(a.series.push(e),a.i.push(h)):"bubble"===t[h].type?(l.series.push(e),l.i.push(h)):"candlestick"===t[h].type?(u.series.push(e),u.i.push(h)):console.warn("You have specified an unrecognized chart type. Available types for this propery are line/area/column/bar/scatter/bubble"),r.comboCharts=!0):(o.series.push(e),o.i.push(h))}));var h=new Tt(this.ctx,e),d=new wt(this.ctx,e);this.ctx.pie=new Et(this.ctx);var f=new _t(this.ctx),p=new F(this.ctx,e),g=new kt(this.ctx),v=[];if(r.comboCharts){if(s.series.length>0&&v.push(h.draw(s.series,"area",s.i)),c.series.length>0)if(n.config.chart.stacked){var m=new xt(this.ctx,e);v.push(m.draw(c.series,c.i))}else{var y=new R(this.ctx,e);v.push(y.draw(c.series,c.i))}if(o.series.length>0&&v.push(h.draw(o.series,"line",o.i)),u.series.length>0&&v.push(d.draw(u.series,u.i)),a.series.length>0){var b=new Tt(this.ctx,e,!0);v.push(b.draw(a.series,"scatter",a.i))}if(l.series.length>0){var x=new Tt(this.ctx,e,!0);v.push(x.draw(l.series,"bubble",l.i))}}else switch(i.chart.type){case"line":v=h.draw(r.series,"line");break;case"area":v=h.draw(r.series,"area");break;case"bar":v=i.chart.stacked?new xt(this.ctx,e).draw(r.series):new R(this.ctx,e).draw(r.series);break;case"candlestick":v=new wt(this.ctx,e).draw(r.series);break;case"rangeBar":v=p.draw(r.series);break;case"heatmap":v=new St(this.ctx,e).draw(r.series);break;case"pie":case"donut":case"polarArea":v=this.ctx.pie.draw(r.series);break;case"radialBar":v=f.draw(r.series);break;case"radar":v=g.draw(r.series);break;default:v=h.draw(r.series)}return v}},{key:"setSVGDimensions",value:function(){var t=this.w.globals,e=this.w.config;t.svgWidth=e.chart.width,t.svgHeight=e.chart.height;var n=v.getDimensions(this.el),i=e.chart.width.toString().split(/[0-9]+/g).pop();if("%"===i?v.isNumber(n[0])&&(0===n[0].width&&(n=v.getDimensions(this.el.parentNode)),t.svgWidth=n[0]*parseInt(e.chart.width,10)/100):"px"!==i&&""!==i||(t.svgWidth=parseInt(e.chart.width,10)),"auto"!==t.svgHeight&&""!==t.svgHeight)if("%"===e.chart.height.toString().split(/[0-9]+/g).pop()){var r=v.getDimensions(this.el.parentNode);t.svgHeight=r[1]*parseInt(e.chart.height,10)/100}else t.svgHeight=parseInt(e.chart.height,10);else t.svgHeight=t.axisCharts?t.svgWidth/1.61:t.svgWidth/1.2;t.svgWidth<0&&(t.svgWidth=0),t.svgHeight<0&&(t.svgHeight=0),b.setAttrs(t.dom.Paper.node,{width:t.svgWidth,height:t.svgHeight}),t.dom.Paper.node.parentNode.parentNode.style.minHeight=t.svgHeight+(e.chart.sparkline.enabled?0:t.axisCharts?e.chart.parentHeightOffset:0)+"px",t.dom.elWrap.style.width=t.svgWidth+"px",t.dom.elWrap.style.height=t.svgHeight+"px"}},{key:"shiftGraphPosition",value:function(){var t=this.w.globals;b.setAttrs(t.dom.elGraphical.node,{transform:"translate("+t.translateX+", "+t.translateY+")"})}},{key:"resizeNonAxisCharts",value:function(){var t=this.w,e=t.globals,n=0,i=t.config.chart.sparkline.enabled?1:15;i+=t.config.grid.padding.bottom,"top"!==t.config.legend.position&&"bottom"!==t.config.legend.position||!t.config.legend.show||t.config.legend.floating||(n=new ut(this.ctx).legendHelpers.getLegendBBox().clwh+10);var r=t.globals.dom.baseEl.querySelector(".apexcharts-radialbar"),o=2.05*t.globals.radialSize;if(r&&!t.config.chart.sparkline.enabled){var s=v.getBoundingClientRect(r);o=s.bottom,o=Math.max(2.05*t.globals.radialSize,s.bottom-s.top)}var a=o+e.translateY+n+i;e.dom.elLegendForeign&&e.dom.elLegendForeign.setAttribute("height",a),e.dom.elWrap.style.height=a+"px",b.setAttrs(e.dom.Paper.node,{height:a}),e.dom.Paper.node.parentNode.parentNode.style.minHeight=a+"px"}},{key:"coreCalculations",value:function(){new $(this.ctx).init()}},{key:"resetGlobals",value:function(){var t=this,e=function(){return t.w.config.series.map((function(t){return[]}))},n=new j,i=this.w.globals;n.initGlobalVars(i),i.seriesXvalues=e(),i.seriesYvalues=e()}},{key:"isMultipleY",value:function(){if(this.w.config.yaxis.constructor===Array&&this.w.config.yaxis.length>1)return this.w.globals.isMultipleYAxis=!0,!0}},{key:"xySettings",value:function(){var t=null,e=this.w;if(e.globals.axisCharts){if("back"===e.config.xaxis.crosshairs.position&&new tt(this.ctx).drawXCrosshairs(),"back"===e.config.yaxis[0].crosshairs.position&&new tt(this.ctx).drawYCrosshairs(),"datetime"===e.config.xaxis.type&&void 0===e.config.xaxis.labels.formatter){var n=new It(this.ctx),i=[];isFinite(e.globals.minX)&&isFinite(e.globals.maxX)&&!e.globals.isBarHorizontal?i=n.calculateTimeScaleTicks(e.globals.minX,e.globals.maxX):e.globals.isBarHorizontal&&(i=n.calculateTimeScaleTicks(e.globals.minY,e.globals.maxY)),n.recalcDimensionsBasedOnFormat(i)}t=new S(this.ctx).getCalculatedRatios()}return t}},{key:"updateSourceChart",value:function(t){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:t.w.globals.minX,max:t.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var t=this,e=this.w;if(e.config.chart.brush.enabled&&"function"!=typeof e.config.chart.events.selection){var n=e.config.chart.brush.targets||[e.config.chart.brush.target];n.forEach((function(e){var n=ApexCharts.getChartByID(e);n.w.globals.brushSource=t.ctx,"function"!=typeof n.w.config.chart.events.zoomed&&(n.w.config.chart.events.zoomed=function(){t.updateSourceChart(n)}),"function"!=typeof n.w.config.chart.events.scrolled&&(n.w.config.chart.events.scrolled=function(){t.updateSourceChart(n)})})),e.config.chart.events.selection=function(t,i){n.forEach((function(t){var n=ApexCharts.getChartByID(t),r=v.clone(e.config.yaxis);if(e.config.chart.brush.autoScaleYaxis&&1===n.w.globals.series.length){var o=new q(n);r=o.autoScaleY(n,r,i)}var s=n.w.config.yaxis.reduce((function(t,e,i){return[].concat(f(t),[c({},n.w.config.yaxis[i],{min:r[0].min,max:r[0].max})])}),[]);n.ctx.updateHelpers._updateOptions({xaxis:{min:i.xaxis.min,max:i.xaxis.max},yaxis:s},!1,!1,!1,!1)}))}}}}]),t}(),Pt=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w}return s(t,[{key:"_updateOptions",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=[this.ctx];o&&(a=this.ctx.getSyncedCharts()),this.ctx.w.globals.isExecCalled&&(a=[this.ctx],this.ctx.w.globals.isExecCalled=!1),a.forEach((function(o){var a=o.w;return a.globals.shouldAnimate=r,n||(a.globals.resized=!0,a.globals.dataChanged=!0,r&&o.series.getPreviousPaths()),t&&"object"===i(t)&&(o.config=new V(t),t=S.extendArrayProps(o.config,t,a),o.w.globals.chartID!==e.ctx.w.globals.chartID&&delete t.series,a.config=v.extend(a.config,t),s&&(a.globals.lastXAxis=[],a.globals.lastYAxis=[],a.globals.initialConfig=v.extend({},a.config),a.globals.initialSeries=JSON.parse(JSON.stringify(a.config.series)))),o.update(t)}))}},{key:"_updateSeries",value:function(t,e){var n,i=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=this.w;return o.globals.shouldAnimate=e,o.globals.dataChanged=!0,e&&this.ctx.series.getPreviousPaths(),o.globals.axisCharts?(0===(n=t.map((function(t,e){return i._extendSeries(t,e)}))).length&&(n=[{data:[]}]),o.config.series=n):o.config.series=t.slice(),r&&(o.globals.initialConfig.series=JSON.parse(JSON.stringify(o.config.series)),o.globals.initialSeries=JSON.parse(JSON.stringify(o.config.series))),this.ctx.update()}},{key:"_extendSeries",value:function(t,e){var n=this.w;return c({},n.config.series[e],{name:t.name?t.name:n.config.series[e]&&n.config.series[e].name,type:t.type?t.type:n.config.series[e]&&n.config.series[e].type,data:t.data?t.data:n.config.series[e]&&n.config.series[e].data})}},{key:"toggleDataPointSelection",value:function(t,e){var n=this.w,i=null,r=".apexcharts-series[data\\:realIndex='".concat(t,"']");return n.globals.axisCharts?i=n.globals.dom.Paper.select("".concat(r," path[j='").concat(e,"'], ").concat(r," circle[j='").concat(e,"'], ").concat(r," rect[j='").concat(e,"']")).members[0]:void 0===e&&(i=n.globals.dom.Paper.select("".concat(r," path[j='").concat(t,"']")).members[0],"pie"!==n.config.chart.type&&"polarArea"!==n.config.chart.type&&"donut"!==n.config.chart.type||this.ctx.pie.pieClicked(t)),i?(new b(this.ctx).pathMouseDown(i,null),i.node?i.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(t){var e=this.w;if(["min","max"].forEach((function(n){void 0!==t.xaxis[n]&&(e.config.xaxis[n]=t.xaxis[n],e.globals.lastXAxis[n]=t.xaxis[n])})),t.xaxis.categories&&t.xaxis.categories.length&&(e.config.xaxis.categories=t.xaxis.categories),e.config.xaxis.convertedCatToNumeric){var n=new z(t);t=n.convertCatToNumericXaxis(t,this.ctx)}return t}},{key:"forceYAxisUpdate",value:function(t){var e=this.w;return e.config.chart.stacked&&"100%"===e.config.chart.stackType&&(Array.isArray(t.yaxis)?t.yaxis.forEach((function(e,n){t.yaxis[n].min=0,t.yaxis[n].max=100})):(t.yaxis.min=0,t.yaxis.max=100)),t}},{key:"revertDefaultAxisMinMax",value:function(){var t=this,e=this.w;e.config.xaxis.min=e.globals.lastXAxis.min,e.config.xaxis.max=e.globals.lastXAxis.max,e.config.yaxis.map((function(n,i){e.globals.zoomed?void 0!==e.globals.lastYAxis[i]&&(n.min=e.globals.lastYAxis[i].min,n.max=e.globals.lastYAxis[i].max):void 0!==t.ctx.opts.yaxis[i]&&(n.min=t.ctx.opts.yaxis[i].min,n.max=t.ctx.opts.yaxis[i].max)}))}}]),t}();p="undefined"!=typeof window?window:void 0,g=function(t,e){var n=(void 0!==this?this:t).SVG=function(t){if(n.supported)return t=new n.Doc(t),n.parser.draw||n.prepare(),t};if(n.ns="http://www.w3.org/2000/svg",n.xmlns="http://www.w3.org/2000/xmlns/",n.xlink="http://www.w3.org/1999/xlink",n.svgjs="http://svgjs.com/svgjs",n.supported=!0,!n.supported)return!1;n.did=1e3,n.eid=function(t){return"Svgjs"+h(t)+n.did++},n.create=function(t){var n=e.createElementNS(this.ns,t);return n.setAttribute("id",this.eid(t)),n},n.extend=function(){var t,e;e=(t=[].slice.call(arguments)).pop();for(var i=t.length-1;i>=0;i--)if(t[i])for(var r in e)t[i].prototype[r]=e[r];n.Set&&n.Set.inherit&&n.Set.inherit()},n.invent=function(t){var e="function"==typeof t.create?t.create:function(){this.constructor.call(this,n.create(t.create))};return t.inherit&&(e.prototype=new t.inherit),t.extend&&n.extend(e,t.extend),t.construct&&n.extend(t.parent||n.Container,t.construct),e},n.adopt=function(e){return e?e.instance?e.instance:((i="svg"==e.nodeName?e.parentNode instanceof t.SVGElement?new n.Nested:new n.Doc:"linearGradient"==e.nodeName?new n.Gradient("linear"):"radialGradient"==e.nodeName?new n.Gradient("radial"):n[h(e.nodeName)]?new(n[h(e.nodeName)]):new n.Element(e)).type=e.nodeName,i.node=e,e.instance=i,i instanceof n.Doc&&i.namespace().defs(),i.setData(JSON.parse(e.getAttribute("svgjs:data"))||{}),i):null;var i},n.prepare=function(){var t=e.getElementsByTagName("body")[0],i=(t?new n.Doc(t):n.adopt(e.documentElement).nested()).size(2,0);n.parser={body:t||e.documentElement,draw:i.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").node,poly:i.polyline().node,path:i.path().node,native:n.create("svg")}},n.parser={native:n.create("svg")},e.addEventListener("DOMContentLoaded",(function(){n.parser.draw||n.prepare()}),!1),n.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},n.utils={map:function(t,e){for(var n=t.length,i=[],r=0;r<n;r++)i.push(e(t[r]));return i},filter:function(t,e){for(var n=t.length,i=[],r=0;r<n;r++)e(t[r])&&i.push(t[r]);return i},filterSVGElements:function(e){return this.filter(e,(function(e){return e instanceof t.SVGElement}))}},n.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},n.Color=function(t){var e,r;this.r=0,this.g=0,this.b=0,t&&("string"==typeof t?n.regex.isRgb.test(t)?(e=n.regex.rgb.exec(t.replace(n.regex.whitespace,"")),this.r=parseInt(e[1]),this.g=parseInt(e[2]),this.b=parseInt(e[3])):n.regex.isHex.test(t)&&(e=n.regex.hex.exec(4==(r=t).length?["#",r.substring(1,2),r.substring(1,2),r.substring(2,3),r.substring(2,3),r.substring(3,4),r.substring(3,4)].join(""):r),this.r=parseInt(e[1],16),this.g=parseInt(e[2],16),this.b=parseInt(e[3],16)):"object"===i(t)&&(this.r=t.r,this.g=t.g,this.b=t.b))},n.extend(n.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+d(this.r)+d(this.g)+d(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(t){return this.destination=new n.Color(t),this},at:function(t){return this.destination?new n.Color({r:~~(this.r+(this.destination.r-this.r)*(t=t<0?0:t>1?1:t)),g:~~(this.g+(this.destination.g-this.g)*t),b:~~(this.b+(this.destination.b-this.b)*t)}):this}}),n.Color.test=function(t){return n.regex.isHex.test(t+="")||n.regex.isRgb.test(t)},n.Color.isRgb=function(t){return t&&"number"==typeof t.r&&"number"==typeof t.g&&"number"==typeof t.b},n.Color.isColor=function(t){return n.Color.isRgb(t)||n.Color.test(t)},n.Array=function(t,e){0==(t=(t||[]).valueOf()).length&&e&&(t=e.valueOf()),this.value=this.parse(t)},n.extend(n.Array,{toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(t){return t=t.valueOf(),Array.isArray(t)?t:this.split(t)}}),n.PointArray=function(t,e){n.Array.call(this,t,e||[[0,0]])},n.PointArray.prototype=new n.Array,n.PointArray.prototype.constructor=n.PointArray;for(var r={M:function(t,e,n){return e.x=n.x=t[0],e.y=n.y=t[1],["M",e.x,e.y]},L:function(t,e){return e.x=t[0],e.y=t[1],["L",t[0],t[1]]},H:function(t,e){return e.x=t[0],["H",t[0]]},V:function(t,e){return e.y=t[0],["V",t[0]]},C:function(t,e){return e.x=t[4],e.y=t[5],["C",t[0],t[1],t[2],t[3],t[4],t[5]]},Q:function(t,e){return e.x=t[2],e.y=t[3],["Q",t[0],t[1],t[2],t[3]]},Z:function(t,e,n){return e.x=n.x,e.y=n.y,["Z"]}},o="mlhvqtcsaz".split(""),s=0,a=o.length;s<a;++s)r[o[s]]=function(t){return function(e,n,i){if("H"==t)e[0]=e[0]+n.x;else if("V"==t)e[0]=e[0]+n.y;else if("A"==t)e[5]=e[5]+n.x,e[6]=e[6]+n.y;else for(var o=0,s=e.length;o<s;++o)e[o]=e[o]+(o%2?n.y:n.x);return r[t](e,n,i)}}(o[s].toUpperCase());n.PathArray=function(t,e){n.Array.call(this,t,e||[["M",0,0]])},n.PathArray.prototype=new n.Array,n.PathArray.prototype.constructor=n.PathArray,n.extend(n.PathArray,{toString:function(){return function(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e][0],null!=t[e][1]&&(i+=t[e][1],null!=t[e][2]&&(i+=" ",i+=t[e][2],null!=t[e][3]&&(i+=" ",i+=t[e][3],i+=" ",i+=t[e][4],null!=t[e][5]&&(i+=" ",i+=t[e][5],i+=" ",i+=t[e][6],null!=t[e][7]&&(i+=" ",i+=t[e][7])))));return i+" "}(this.value)},move:function(t,e){return this.bbox(),this},at:function(t){if(!this.destination)return this;for(var e=this.value,i=this.destination.value,r=[],o=new n.PathArray,s=0,a=e.length;s<a;s++){r[s]=[e[s][0]];for(var l=1,c=e[s].length;l<c;l++)r[s][l]=e[s][l]+(i[s][l]-e[s][l])*t;"A"===r[s][0]&&(r[s][4]=+(0!=r[s][4]),r[s][5]=+(0!=r[s][5]))}return o.value=r,o},parse:function(t){if(t instanceof n.PathArray)return t.valueOf();var e,i={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};t="string"==typeof t?t.replace(n.regex.numbersWithDots,c).replace(n.regex.pathLetters," $& ").replace(n.regex.hyphen,"$1 -").trim().split(n.regex.delimiter):t.reduce((function(t,e){return[].concat.call(t,e)}),[]);var o=[],s=new n.Point,a=new n.Point,l=0,u=t.length;do{n.regex.isPathLetter.test(t[l])?(e=t[l],++l):"M"==e?e="L":"m"==e&&(e="l"),o.push(r[e].call(null,t.slice(l,l+=i[e.toUpperCase()]).map(parseFloat),s,a))}while(u>l);return o},bbox:function(){return n.parser.draw||n.prepare(),n.parser.path.setAttribute("d",this.toString()),n.parser.path.getBBox()}}),n.Number=n.invent({create:function(t,e){this.value=0,this.unit=e||"","number"==typeof t?this.value=isNaN(t)?0:isFinite(t)?t:t<0?-34e37:34e37:"string"==typeof t?(e=t.match(n.regex.numberAndUnit))&&(this.value=parseFloat(e[1]),"%"==e[5]?this.value/=100:"s"==e[5]&&(this.value*=1e3),this.unit=e[5]):t instanceof n.Number&&(this.value=t.valueOf(),this.unit=t.unit)},extend:{toString:function(){return("%"==this.unit?~~(1e8*this.value)/1e6:"s"==this.unit?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(t){return t=new n.Number(t),new n.Number(this+t,this.unit||t.unit)},minus:function(t){return t=new n.Number(t),new n.Number(this-t,this.unit||t.unit)},times:function(t){return t=new n.Number(t),new n.Number(this*t,this.unit||t.unit)},divide:function(t){return t=new n.Number(t),new n.Number(this/t,this.unit||t.unit)},to:function(t){var e=new n.Number(this);return"string"==typeof t&&(e.unit=t),e},morph:function(t){return this.destination=new n.Number(t),t.relative&&(this.destination.value+=this.value),this},at:function(t){return this.destination?new n.Number(this.destination).minus(this).times(t).plus(this):this}}}),n.Element=n.invent({create:function(t){this._stroke=n.defaults.attrs.stroke,this._event=null,this.dom={},(this.node=t)&&(this.type=t.nodeName,this.node.instance=this,this._stroke=t.getAttribute("stroke")||this._stroke)},extend:{x:function(t){return this.attr("x",t)},y:function(t){return this.attr("y",t)},cx:function(t){return null==t?this.x()+this.width()/2:this.x(t-this.width()/2)},cy:function(t){return null==t?this.y()+this.height()/2:this.y(t-this.height()/2)},move:function(t,e){return this.x(t).y(e)},center:function(t,e){return this.cx(t).cy(e)},width:function(t){return this.attr("width",t)},height:function(t){return this.attr("height",t)},size:function(t,e){var i=f(this,t,e);return this.width(new n.Number(i.width)).height(new n.Number(i.height))},clone:function(t){this.writeDataToDom();var e=v(this.node.cloneNode(!0));return t?t.add(e):this.after(e),e},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(t){return this.after(t).remove(),t},addTo:function(t){return t.put(this)},putIn:function(t){return t.add(this)},id:function(t){return this.attr("id",t)},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return"none"!=this.style("display")},toString:function(){return this.attr("id")},classes:function(){var t=this.attr("class");return null==t?[]:t.trim().split(n.regex.delimiter)},hasClass:function(t){return-1!=this.classes().indexOf(t)},addClass:function(t){if(!this.hasClass(t)){var e=this.classes();e.push(t),this.attr("class",e.join(" "))}return this},removeClass:function(t){return this.hasClass(t)&&this.attr("class",this.classes().filter((function(e){return e!=t})).join(" ")),this},toggleClass:function(t){return this.hasClass(t)?this.removeClass(t):this.addClass(t)},reference:function(t){return n.get(this.attr(t))},parent:function(e){var i=this;if(!i.node.parentNode)return null;if(i=n.adopt(i.node.parentNode),!e)return i;for(;i&&i.node instanceof t.SVGElement;){if("string"==typeof e?i.matches(e):i instanceof e)return i;if(!i.node.parentNode||"#document"==i.node.parentNode.nodeName)return null;i=n.adopt(i.node.parentNode)}},doc:function(){return this instanceof n.Doc?this:this.parent(n.Doc)},parents:function(t){var e=[],n=this;do{if(!(n=n.parent(t))||!n.node)break;e.push(n)}while(n.parent);return e},matches:function(t){return function(t,e){return(t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.oMatchesSelector).call(t,e)}(this.node,t)},native:function(){return this.node},svg:function(t){var i=e.createElement("svg");if(!(t&&this instanceof n.Parent))return i.appendChild(t=e.createElement("svg")),this.writeDataToDom(),t.appendChild(this.node.cloneNode(!0)),i.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");i.innerHTML="<svg>"+t.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var r=0,o=i.firstChild.childNodes.length;r<o;r++)this.node.appendChild(i.firstChild.firstChild);return this},writeDataToDom:function(){return(this.each||this.lines)&&(this.each?this:this.lines()).each((function(){this.writeDataToDom()})),this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(t){return this.dom=t,this},is:function(t){return function(t,e){return t instanceof e}(this,t)}}}),n.easing={"-":function(t){return t},"<>":function(t){return-Math.cos(t*Math.PI)/2+.5},">":function(t){return Math.sin(t*Math.PI/2)},"<":function(t){return 1-Math.cos(t*Math.PI/2)}},n.morph=function(t){return function(e,i){return new n.MorphObj(e,i).at(t)}},n.Situation=n.invent({create:function(t){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new n.Number(t.duration).valueOf(),this.delay=new n.Number(t.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=t.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),n.FX=n.invent({create:function(t){this._target=t,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(t,e,r){"object"===i(t)&&(e=t.ease,r=t.delay,t=t.duration);var o=new n.Situation({duration:t||1e3,delay:r||0,ease:n.easing[e||"-"]||e});return this.queue(o),this},target:function(t){return t&&t instanceof n.Element?(this._target=t,this):this._target},timeToAbsPos:function(t){return(t-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(t){return this.situation.duration/this._speed*t+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=t.requestAnimationFrame((function(){this.step()}).bind(this))},stopAnimFrame:function(){t.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(t){return("function"==typeof t||t instanceof n.Situation)&&this.situations.push(t),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof n.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var t,e=this.situation;if(e.init)return this;for(var i in e.animations){t=this.target()[i](),Array.isArray(t)||(t=[t]),Array.isArray(e.animations[i])||(e.animations[i]=[e.animations[i]]);for(var r=t.length;r--;)e.animations[i][r]instanceof n.Number&&(t[r]=new n.Number(t[r])),e.animations[i][r]=t[r].morph(e.animations[i][r])}for(var i in e.attrs)e.attrs[i]=new n.MorphObj(this.target().attr(i),e.attrs[i]);for(var i in e.styles)e.styles[i]=new n.MorphObj(this.target().style(i),e.styles[i]);return e.initialTransformation=this.target().matrixify(),e.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(t,e){var n=this.active;return this.active=!1,e&&this.clearQueue(),t&&this.situation&&(!n&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},after:function(t){var e=this.last();return this.target().on("finished.fx",(function n(i){i.detail.situation==e&&(t.call(this,e),this.off("finished.fx",n))})),this._callStart()},during:function(t){var e=this.last(),i=function(i){i.detail.situation==e&&t.call(this,i.detail.pos,n.morph(i.detail.pos),i.detail.eased,e)};return this.target().off("during.fx",i).on("during.fx",i),this.after((function(){this.off("during.fx",i)})),this._callStart()},afterAll:function(t){var e=function e(n){t.call(this),this.off("allfinished.fx",e)};return this.target().off("allfinished.fx",e).on("allfinished.fx",e),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(t,e,n){return this.last()[n||"animations"][t]=e,this._callStart()},step:function(t){var e,n,i;t||(this.absPos=this.timeToAbsPos(+new Date)),!1!==this.situation.loops?(e=Math.max(this.absPos,0),n=Math.floor(e),!0===this.situation.loops||n<this.situation.loops?(this.pos=e-n,i=this.situation.loop,this.situation.loop=n):(this.absPos=this.situation.loops,this.pos=1,i=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=Boolean((this.situation.loop-i)%2))):(this.absPos=Math.min(this.absPos,1),this.pos=this.absPos),this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var r=this.situation.ease(this.pos);for(var o in this.situation.once)o>this.lastPos&&o<=r&&(this.situation.once[o].call(this.target(),this.pos,r),delete this.situation.once[o]);return this.active&&this.target().fire("during",{pos:this.pos,eased:r,fx:this,situation:this.situation}),this.situation?(this.eachAt(),1==this.pos&&!this.situation.reversed||this.situation.reversed&&0==this.pos?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=r,this):this},eachAt:function(){var t,e=this,i=this.target(),r=this.situation;for(var o in r.animations)t=[].concat(r.animations[o]).map((function(t){return"string"!=typeof t&&t.at?t.at(r.ease(e.pos),e.pos):t})),i[o].apply(i,t);for(var o in r.attrs)t=[o].concat(r.attrs[o]).map((function(t){return"string"!=typeof t&&t.at?t.at(r.ease(e.pos),e.pos):t})),i.attr.apply(i,t);for(var o in r.styles)t=[o].concat(r.styles[o]).map((function(t){return"string"!=typeof t&&t.at?t.at(r.ease(e.pos),e.pos):t})),i.style.apply(i,t);if(r.transforms.length){t=r.initialTransformation,o=0;for(var s=r.transforms.length;o<s;o++){var a=r.transforms[o];a instanceof n.Matrix?t=a.relative?t.multiply((new n.Matrix).morph(a).at(r.ease(this.pos))):t.morph(a).at(r.ease(this.pos)):(a.relative||a.undo(t.extract()),t=t.multiply(a.at(r.ease(this.pos))))}i.matrix(t)}return this},once:function(t,e,n){var i=this.last();return n||(t=i.ease(t)),i.once[t]=e,this},_callStart:function(){return setTimeout((function(){this.start()}).bind(this),0),this}},parent:n.Element,construct:{animate:function(t,e,i){return(this.fx||(this.fx=new n.FX(this))).animate(t,e,i)},delay:function(t){return(this.fx||(this.fx=new n.FX(this))).delay(t)},stop:function(t,e){return this.fx&&this.fx.stop(t,e),this},finish:function(){return this.fx&&this.fx.finish(),this}}}),n.MorphObj=n.invent({create:function(t,e){return n.Color.isColor(e)?new n.Color(t).morph(e):n.regex.delimiter.test(t)?n.regex.pathLetters.test(t)?new n.PathArray(t).morph(e):new n.Array(t).morph(e):n.regex.numberAndUnit.test(e)?new n.Number(t).morph(e):(this.value=t,void(this.destination=e))},extend:{at:function(t,e){return e<1?this.value:this.destination},valueOf:function(){return this.value}}}),n.extend(n.FX,{attr:function(t,e,n){if("object"===i(t))for(var r in t)this.attr(r,t[r]);else this.add(t,e,"attrs");return this},plot:function(t,e,n,i){return 4==arguments.length?this.plot([t,e,n,i]):this.add("plot",new(this.target().morphArray)(t))}}),n.Box=n.invent({create:function(t,e,r,o){if(!("object"!==i(t)||t instanceof n.Element))return n.Box.call(this,null!=t.left?t.left:t.x,null!=t.top?t.top:t.y,t.width,t.height);4==arguments.length&&(this.x=t,this.y=e,this.width=r,this.height=o),m(this)}}),n.BBox=n.invent({create:function(t){if(n.Box.apply(this,[].slice.call(arguments)),t instanceof n.Element){var i;try{if(!e.documentElement.contains){for(var r=t.node;r.parentNode;)r=r.parentNode;if(r!=e)throw new Error("Element not in the dom")}i=t.node.getBBox()}catch(e){if(t instanceof n.Shape){n.parser.draw||n.prepare();var o=t.clone(n.parser.draw.instance).show();i=o.node.getBBox(),o.remove()}else i={x:t.node.clientLeft,y:t.node.clientTop,width:t.node.clientWidth,height:t.node.clientHeight}}n.Box.call(this,i)}},inherit:n.Box,parent:n.Element,construct:{bbox:function(){return new n.BBox(this)}}}),n.BBox.prototype.constructor=n.BBox,n.Matrix=n.invent({create:function(t){var e=g([1,0,0,1,0,0]);t=t instanceof n.Element?t.matrixify():"string"==typeof t?g(t.split(n.regex.delimiter).map(parseFloat)):6==arguments.length?g([].slice.call(arguments)):Array.isArray(t)?g(t):"object"===i(t)?t:e;for(var r=b.length-1;r>=0;--r)this[b[r]]=null!=t[b[r]]?t[b[r]]:e[b[r]]},extend:{extract:function(){var t=p(this,0,1),e=(p(this,1,0),180/Math.PI*Math.atan2(t.y,t.x)-90);return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(e*Math.PI/180)+this.f*Math.sin(e*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(e*Math.PI/180)+this.e*Math.sin(-e*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),rotation:e,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new n.Matrix(this)}},clone:function(){return new n.Matrix(this)},morph:function(t){return this.destination=new n.Matrix(t),this},multiply:function(t){return new n.Matrix(this.native().multiply(function(t){return t instanceof n.Matrix||(t=new n.Matrix(t)),t}(t).native()))},inverse:function(){return new n.Matrix(this.native().inverse())},translate:function(t,e){return new n.Matrix(this.native().translate(t||0,e||0))},native:function(){for(var t=n.parser.native.createSVGMatrix(),e=b.length-1;e>=0;e--)t[b[e]]=this[b[e]];return t},toString:function(){return"matrix("+y(this.a)+","+y(this.b)+","+y(this.c)+","+y(this.d)+","+y(this.e)+","+y(this.f)+")"}},parent:n.Element,construct:{ctm:function(){return new n.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof n.Nested){var t=this.rect(1,1),e=t.node.getScreenCTM();return t.remove(),new n.Matrix(e)}return new n.Matrix(this.node.getScreenCTM())}}}),n.Point=n.invent({create:function(t,e){var n;n=Array.isArray(t)?{x:t[0],y:t[1]}:"object"===i(t)?{x:t.x,y:t.y}:null!=t?{x:t,y:null!=e?e:t}:{x:0,y:0},this.x=n.x,this.y=n.y},extend:{clone:function(){return new n.Point(this)},morph:function(t,e){return this.destination=new n.Point(t,e),this}}}),n.extend(n.Element,{point:function(t,e){return new n.Point(t,e).transform(this.screenCTM().inverse())}}),n.extend(n.Element,{attr:function(t,e,r){if(null==t){for(t={},r=(e=this.node.attributes).length-1;r>=0;r--)t[e[r].nodeName]=n.regex.isNumber.test(e[r].nodeValue)?parseFloat(e[r].nodeValue):e[r].nodeValue;return t}if("object"===i(t))for(var o in t)this.attr(o,t[o]);else if(null===e)this.node.removeAttribute(t);else{if(null==e)return null==(e=this.node.getAttribute(t))?n.defaults.attrs[t]:n.regex.isNumber.test(e)?parseFloat(e):e;"stroke-width"==t?this.attr("stroke",parseFloat(e)>0?this._stroke:null):"stroke"==t&&(this._stroke=e),"fill"!=t&&"stroke"!=t||(n.regex.isImage.test(e)&&(e=this.doc().defs().image(e,0,0)),e instanceof n.Image&&(e=this.doc().defs().pattern(0,0,(function(){this.add(e)})))),"number"==typeof e?e=new n.Number(e):n.Color.isColor(e)?e=new n.Color(e):Array.isArray(e)&&(e=new n.Array(e)),"leading"==t?this.leading&&this.leading(e):"string"==typeof r?this.node.setAttributeNS(r,t,e.toString()):this.node.setAttribute(t,e.toString()),!this.rebuild||"font-size"!=t&&"x"!=t||this.rebuild(t,e)}return this}}),n.extend(n.Element,{transform:function(t,e){var r;return"object"!==i(t)?(r=new n.Matrix(this).extract(),"string"==typeof t?r[t]:r):(r=new n.Matrix(this),e=!!e||!!t.relative,null!=t.a&&(r=e?r.multiply(new n.Matrix(t)):new n.Matrix(t)),this.attr("transform",r))}}),n.extend(n.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(n.regex.transforms).slice(0,-1).map((function(t){var e=t.trim().split("(");return[e[0],e[1].split(n.regex.delimiter).map((function(t){return parseFloat(t)}))]})).reduce((function(t,e){return"matrix"==e[0]?t.multiply(g(e[1])):t[e[0]].apply(t,e[1])}),new n.Matrix)},toParent:function(t){if(this==t)return this;var e=this.screenCTM(),n=t.screenCTM().inverse();return this.addTo(t).untransform().transform(n.multiply(e)),this},toDoc:function(){return this.toParent(this.doc())}}),n.Transformation=n.invent({create:function(t,e){if(arguments.length>1&&"boolean"!=typeof e)return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(t))for(var n=0,r=this.arguments.length;n<r;++n)this[this.arguments[n]]=t[n];else if("object"===i(t))for(n=0,r=this.arguments.length;n<r;++n)this[this.arguments[n]]=t[this.arguments[n]];this.inversed=!1,!0===e&&(this.inversed=!0)}}),n.Translate=n.invent({parent:n.Matrix,inherit:n.Transformation,create:function(t,e){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),n.extend(n.Element,{style:function(t,e){if(0==arguments.length)return this.node.style.cssText||"";if(arguments.length<2)if("object"===i(t))for(var r in t)this.style(r,t[r]);else{if(!n.regex.isCss.test(t))return this.node.style[u(t)];for(t=t.split(/\s*;\s*/).filter((function(t){return!!t})).map((function(t){return t.split(/\s*:\s*/)}));e=t.pop();)this.style(e[0],e[1])}else this.node.style[u(t)]=null===e||n.regex.isBlank.test(e)?"":e;return this}}),n.Parent=n.invent({create:function(t){this.constructor.call(this,t)},inherit:n.Element,extend:{children:function(){return n.utils.map(n.utils.filterSVGElements(this.node.childNodes),(function(t){return n.adopt(t)}))},add:function(t,e){return null==e?this.node.appendChild(t.node):t.node!=this.node.childNodes[e]&&this.node.insertBefore(t.node,this.node.childNodes[e]),this},put:function(t,e){return this.add(t,e),t},has:function(t){return this.index(t)>=0},index:function(t){return[].slice.call(this.node.childNodes).indexOf(t.node)},get:function(t){return n.adopt(this.node.childNodes[t])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(t,e){for(var i=this.children(),r=0,o=i.length;r<o;r++)i[r]instanceof n.Element&&t.apply(i[r],[r,i]),e&&i[r]instanceof n.Container&&i[r].each(t,e);return this},removeElement:function(t){return this.node.removeChild(t.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),n.extend(n.Parent,{ungroup:function(t,e){return 0===e||this instanceof n.Defs||this.node==n.parser.draw?this:(t=t||(this instanceof n.Doc?this:this.parent(n.Parent)),e=e||1/0,this.each((function(){return this instanceof n.Defs?this:this instanceof n.Parent?this.ungroup(t,e-1):this.toParent(t)})),this.node.firstChild||this.remove(),this)},flatten:function(t,e){return this.ungroup(t,e)}}),n.Container=n.invent({create:function(t){this.constructor.call(this,t)},inherit:n.Parent}),n.ViewBox=n.invent({parent:n.Container,construct:{}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach((function(t){n.Element.prototype[t]=function(e){return n.on(this.node,t,e),this}})),n.listeners=[],n.handlerMap=[],n.listenerId=0,n.on=function(t,e,i,r,o){var s=i.bind(r||t.instance||t),a=(n.handlerMap.indexOf(t)+1||n.handlerMap.push(t))-1,l=e.split(".")[0],c=e.split(".")[1]||"*";n.listeners[a]=n.listeners[a]||{},n.listeners[a][l]=n.listeners[a][l]||{},n.listeners[a][l][c]=n.listeners[a][l][c]||{},i._svgjsListenerId||(i._svgjsListenerId=++n.listenerId),n.listeners[a][l][c][i._svgjsListenerId]=s,t.addEventListener(l,s,o||!1)},n.off=function(t,e,i){var r=n.handlerMap.indexOf(t),o=e&&e.split(".")[0],s=e&&e.split(".")[1],a="";if(-1!=r)if(i){if("function"==typeof i&&(i=i._svgjsListenerId),!i)return;n.listeners[r][o]&&n.listeners[r][o][s||"*"]&&(t.removeEventListener(o,n.listeners[r][o][s||"*"][i],!1),delete n.listeners[r][o][s||"*"][i])}else if(s&&o){if(n.listeners[r][o]&&n.listeners[r][o][s]){for(var l in n.listeners[r][o][s])n.off(t,[o,s].join("."),l);delete n.listeners[r][o][s]}}else if(s)for(var c in n.listeners[r])for(var a in n.listeners[r][c])s===a&&n.off(t,[c,s].join("."));else if(o){if(n.listeners[r][o]){for(var a in n.listeners[r][o])n.off(t,[o,a].join("."));delete n.listeners[r][o]}}else{for(var c in n.listeners[r])n.off(t,c);delete n.listeners[r],delete n.handlerMap[r]}},n.extend(n.Element,{on:function(t,e,i,r){return n.on(this.node,t,e,i,r),this},off:function(t,e){return n.off(this.node,t,e),this},fire:function(e,i){return this.node.dispatchEvent(e instanceof t.Event?e:e=new n.CustomEvent(e,{detail:i,cancelable:!0})),this._event=e,this},event:function(){return this._event}}),n.Defs=n.invent({create:"defs",inherit:n.Container}),n.G=n.invent({create:"g",inherit:n.Container,extend:{x:function(t){return null==t?this.transform("x"):this.transform({x:t-this.x()},!0)}},construct:{group:function(){return this.put(new n.G)}}}),n.Doc=n.invent({create:function(t){t&&("svg"==(t="string"==typeof t?e.getElementById(t):t).nodeName?this.constructor.call(this,t):(this.constructor.call(this,n.create("svg")),t.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:n.Container,extend:{namespace:function(){return this.attr({xmlns:n.ns,version:"1.1"}).attr("xmlns:xlink",n.xlink,n.xmlns).attr("xmlns:svgjs",n.svgjs,n.xmlns)},defs:function(){var t;return this._defs||(this._defs=(t=this.node.getElementsByTagName("defs")[0])?n.adopt(t):new n.Defs,this.node.appendChild(this._defs.node)),this._defs},parent:function(){return this.node.parentNode&&"#document"!=this.node.parentNode.nodeName?this.node.parentNode:null},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,n.parser.draw&&!n.parser.draw.parentNode&&this.node.appendChild(n.parser.draw),this},clone:function(t){this.writeDataToDom();var e=this.node,n=v(e.cloneNode(!0));return t?(t.node||t).appendChild(n.node):e.parentNode.insertBefore(n.node,e.nextSibling),n}}}),n.extend(n.Element,{}),n.Gradient=n.invent({create:function(t){this.constructor.call(this,n.create(t+"Gradient")),this.type=t},inherit:n.Container,extend:{at:function(t,e,i){return this.put(new n.Stop).update(t,e,i)},update:function(t){return this.clear(),"function"==typeof t&&t.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(t,e,i){return"transform"==t&&(t="gradientTransform"),n.Container.prototype.attr.call(this,t,e,i)}},construct:{gradient:function(t,e){return this.defs().gradient(t,e)}}}),n.extend(n.Gradient,n.FX,{from:function(t,e){return this.attr("radial"==(this._target||this).type?{fx:new n.Number(t),fy:new n.Number(e)}:{x1:new n.Number(t),y1:new n.Number(e)})},to:function(t,e){return this.attr("radial"==(this._target||this).type?{cx:new n.Number(t),cy:new n.Number(e)}:{x2:new n.Number(t),y2:new n.Number(e)})}}),n.extend(n.Defs,{gradient:function(t,e){return this.put(new n.Gradient(t)).update(e)}}),n.Stop=n.invent({create:"stop",inherit:n.Element,extend:{update:function(t){return("number"==typeof t||t instanceof n.Number)&&(t={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=t.opacity&&this.attr("stop-opacity",t.opacity),null!=t.color&&this.attr("stop-color",t.color),null!=t.offset&&this.attr("offset",new n.Number(t.offset)),this}}}),n.Pattern=n.invent({create:"pattern",inherit:n.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(t){return this.clear(),"function"==typeof t&&t.call(this,this),this},toString:function(){return this.fill()},attr:function(t,e,i){return"transform"==t&&(t="patternTransform"),n.Container.prototype.attr.call(this,t,e,i)}},construct:{pattern:function(t,e,n){return this.defs().pattern(t,e,n)}}}),n.extend(n.Defs,{pattern:function(t,e,i){return this.put(new n.Pattern).update(i).attr({x:0,y:0,width:t,height:e,patternUnits:"userSpaceOnUse"})}}),n.Shape=n.invent({create:function(t){this.constructor.call(this,t)},inherit:n.Element}),n.Symbol=n.invent({create:"symbol",inherit:n.Container,construct:{symbol:function(){return this.put(new n.Symbol)}}}),n.Use=n.invent({create:"use",inherit:n.Shape,extend:{element:function(t,e){return this.attr("href",(e||"")+"#"+t,n.xlink)}},construct:{use:function(t,e){return this.put(new n.Use).element(t,e)}}}),n.Rect=n.invent({create:"rect",inherit:n.Shape,construct:{rect:function(t,e){return this.put(new n.Rect).size(t,e)}}}),n.Circle=n.invent({create:"circle",inherit:n.Shape,construct:{circle:function(t){return this.put(new n.Circle).rx(new n.Number(t).divide(2)).move(0,0)}}}),n.extend(n.Circle,n.FX,{rx:function(t){return this.attr("r",t)},ry:function(t){return this.rx(t)}}),n.Ellipse=n.invent({create:"ellipse",inherit:n.Shape,construct:{ellipse:function(t,e){return this.put(new n.Ellipse).size(t,e).move(0,0)}}}),n.extend(n.Ellipse,n.Rect,n.FX,{rx:function(t){return this.attr("rx",t)},ry:function(t){return this.attr("ry",t)}}),n.extend(n.Circle,n.Ellipse,{x:function(t){return null==t?this.cx()-this.rx():this.cx(t+this.rx())},y:function(t){return null==t?this.cy()-this.ry():this.cy(t+this.ry())},cx:function(t){return null==t?this.attr("cx"):this.attr("cx",t)},cy:function(t){return null==t?this.attr("cy"):this.attr("cy",t)},width:function(t){return null==t?2*this.rx():this.rx(new n.Number(t).divide(2))},height:function(t){return null==t?2*this.ry():this.ry(new n.Number(t).divide(2))},size:function(t,e){var i=f(this,t,e);return this.rx(new n.Number(i.width).divide(2)).ry(new n.Number(i.height).divide(2))}}),n.Line=n.invent({create:"line",inherit:n.Shape,extend:{array:function(){return new n.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(t,e,i,r){return null==t?this.array():(t=void 0!==e?{x1:t,y1:e,x2:i,y2:r}:new n.PointArray(t).toLine(),this.attr(t))},move:function(t,e){return this.attr(this.array().move(t,e).toLine())},size:function(t,e){var n=f(this,t,e);return this.attr(this.array().size(n.width,n.height).toLine())}},construct:{line:function(t,e,i,r){return n.Line.prototype.plot.apply(this.put(new n.Line),null!=t?[t,e,i,r]:[0,0,0,0])}}}),n.Polyline=n.invent({create:"polyline",inherit:n.Shape,construct:{polyline:function(t){return this.put(new n.Polyline).plot(t||new n.PointArray)}}}),n.Polygon=n.invent({create:"polygon",inherit:n.Shape,construct:{polygon:function(t){return this.put(new n.Polygon).plot(t||new n.PointArray)}}}),n.extend(n.Polyline,n.Polygon,{array:function(){return this._array||(this._array=new n.PointArray(this.attr("points")))},plot:function(t){return null==t?this.array():this.clear().attr("points","string"==typeof t?t:this._array=new n.PointArray(t))},clear:function(){return delete this._array,this},move:function(t,e){return this.attr("points",this.array().move(t,e))},size:function(t,e){var n=f(this,t,e);return this.attr("points",this.array().size(n.width,n.height))}}),n.extend(n.Line,n.Polyline,n.Polygon,{morphArray:n.PointArray,x:function(t){return null==t?this.bbox().x:this.move(t,this.bbox().y)},y:function(t){return null==t?this.bbox().y:this.move(this.bbox().x,t)},width:function(t){var e=this.bbox();return null==t?e.width:this.size(t,e.height)},height:function(t){var e=this.bbox();return null==t?e.height:this.size(e.width,t)}}),n.Path=n.invent({create:"path",inherit:n.Shape,extend:{morphArray:n.PathArray,array:function(){return this._array||(this._array=new n.PathArray(this.attr("d")))},plot:function(t){return null==t?this.array():this.clear().attr("d","string"==typeof t?t:this._array=new n.PathArray(t))},clear:function(){return delete this._array,this}},construct:{path:function(t){return this.put(new n.Path).plot(t||new n.PathArray)}}}),n.Image=n.invent({create:"image",inherit:n.Shape,extend:{load:function(e){if(!e)return this;var i=this,r=new t.Image;return n.on(r,"load",(function(){n.off(r);var t=i.parent(n.Pattern);null!==t&&(0==i.width()&&0==i.height()&&i.size(r.width,r.height),t&&0==t.width()&&0==t.height()&&t.size(i.width(),i.height()),"function"==typeof i._loaded&&i._loaded.call(i,{width:r.width,height:r.height,ratio:r.width/r.height,url:e}))})),n.on(r,"error",(function(t){n.off(r),"function"==typeof i._error&&i._error.call(i,t)})),this.attr("href",r.src=this.src=e,n.xlink)},loaded:function(t){return this._loaded=t,this},error:function(t){return this._error=t,this}},construct:{image:function(t,e,i){return this.put(new n.Image).load(t).size(e||0,i||e||0)}}}),n.Text=n.invent({create:function(){this.constructor.call(this,n.create("text")),this.dom.leading=new n.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",n.defaults.attrs["font-family"])},inherit:n.Shape,extend:{x:function(t){return null==t?this.attr("x"):this.attr("x",t)},text:function(t){if(void 0===t){t="";for(var e=this.node.childNodes,i=0,r=e.length;i<r;++i)0!=i&&3!=e[i].nodeType&&1==n.adopt(e[i]).dom.newLined&&(t+="\n"),t+=e[i].textContent;return t}if(this.clear().build(!0),"function"==typeof t)t.call(this,this);else{i=0;for(var o=(t=t.split("\n")).length;i<o;i++)this.tspan(t[i]).newLine()}return this.build(!1).rebuild()},size:function(t){return this.attr("font-size",t).rebuild()},leading:function(t){return null==t?this.dom.leading:(this.dom.leading=new n.Number(t),this.rebuild())},lines:function(){var t=(this.textPath&&this.textPath()||this).node,e=n.utils.map(n.utils.filterSVGElements(t.childNodes),(function(t){return n.adopt(t)}));return new n.Set(e)},rebuild:function(t){if("boolean"==typeof t&&(this._rebuild=t),this._rebuild){var e=this,i=0,r=this.dom.leading*new n.Number(this.attr("font-size"));this.lines().each((function(){this.dom.newLined&&(e.textPath()||this.attr("x",e.attr("x")),"\n"==this.text()?i+=r:(this.attr("dy",r+i),i=0))})),this.fire("rebuild")}return this},build:function(t){return this._build=!!t,this},setData:function(t){return this.dom=t,this.dom.leading=new n.Number(t.leading||1.3),this}},construct:{text:function(t){return this.put(new n.Text).text(t)},plain:function(t){return this.put(new n.Text).plain(t)}}}),n.Tspan=n.invent({create:"tspan",inherit:n.Shape,extend:{text:function(t){return null==t?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof t?t.call(this,this):this.plain(t),this)},dx:function(t){return this.attr("dx",t)},dy:function(t){return this.attr("dy",t)},newLine:function(){var t=this.parent(n.Text);return this.dom.newLined=!0,this.dy(t.dom.leading*t.attr("font-size")).attr("x",t.x())}}}),n.extend(n.Text,n.Tspan,{plain:function(t){return!1===this._build&&this.clear(),this.node.appendChild(e.createTextNode(t)),this},tspan:function(t){var e=(this.textPath&&this.textPath()||this).node,i=new n.Tspan;return!1===this._build&&this.clear(),e.appendChild(i.node),i.text(t)},clear:function(){for(var t=(this.textPath&&this.textPath()||this).node;t.hasChildNodes();)t.removeChild(t.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),n.TextPath=n.invent({create:"textPath",inherit:n.Parent,parent:n.Text,construct:{morphArray:n.PathArray,array:function(){var t=this.track();return t?t.array():null},plot:function(t){var e=this.track(),n=null;return e&&(n=e.plot(t)),null==t?n:this},track:function(){var t=this.textPath();if(t)return t.reference("href")},textPath:function(){if(this.node.firstChild&&"textPath"==this.node.firstChild.nodeName)return n.adopt(this.node.firstChild)}}}),n.Nested=n.invent({create:function(){this.constructor.call(this,n.create("svg")),this.style("overflow","visible")},inherit:n.Container,construct:{nested:function(){return this.put(new n.Nested)}}});var l={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(t,e){return"color"==e?t:t+"-"+e}};function c(t,e,i,r){return i+r.replace(n.regex.dots," .")}function u(t){return t.toLowerCase().replace(/-(.)/g,(function(t,e){return e.toUpperCase()}))}function h(t){return t.charAt(0).toUpperCase()+t.slice(1)}function d(t){var e=t.toString(16);return 1==e.length?"0"+e:e}function f(t,e,n){if(null==e||null==n){var i=t.bbox();null==e?e=i.width/i.height*n:null==n&&(n=i.height/i.width*e)}return{width:e,height:n}}function p(t,e,n){return{x:e*t.a+n*t.c+0,y:e*t.b+n*t.d+0}}function g(t){return{a:t[0],b:t[1],c:t[2],d:t[3],e:t[4],f:t[5]}}function v(e){for(var i=e.childNodes.length-1;i>=0;i--)e.childNodes[i]instanceof t.SVGElement&&v(e.childNodes[i]);return n.adopt(e).id(n.eid(e.nodeName))}function m(t){return null==t.x&&(t.x=0,t.y=0,t.width=0,t.height=0),t.w=t.width,t.h=t.height,t.x2=t.x+t.width,t.y2=t.y+t.height,t.cx=t.x+t.width/2,t.cy=t.y+t.height/2,t}function y(t){return Math.abs(t)>1e-37?t:0}["fill","stroke"].forEach((function(t){var e={};e[t]=function(e){if(void 0===e)return this;if("string"==typeof e||n.Color.isRgb(e)||e&&"function"==typeof e.fill)this.attr(t,e);else for(var i=l[t].length-1;i>=0;i--)null!=e[l[t][i]]&&this.attr(l.prefix(t,l[t][i]),e[l[t][i]]);return this},n.extend(n.Element,n.FX,e)})),n.extend(n.Element,n.FX,{translate:function(t,e){return this.transform({x:t,y:e})},matrix:function(t){return this.attr("transform",new n.Matrix(6==arguments.length?[].slice.call(arguments):t))},opacity:function(t){return this.attr("opacity",t)},dx:function(t){return this.x(new n.Number(t).plus(this instanceof n.FX?0:this.x()),!0)},dy:function(t){return this.y(new n.Number(t).plus(this instanceof n.FX?0:this.y()),!0)}}),n.extend(n.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(t){return this.node.getPointAtLength(t)}}),n.Set=n.invent({create:function(t){Array.isArray(t)?this.members=t:this.clear()},extend:{add:function(){for(var t=[].slice.call(arguments),e=0,n=t.length;e<n;e++)this.members.push(t[e]);return this},remove:function(t){var e=this.index(t);return e>-1&&this.members.splice(e,1),this},each:function(t){for(var e=0,n=this.members.length;e<n;e++)t.apply(this.members[e],[e,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(t){return this.index(t)>=0},index:function(t){return this.members.indexOf(t)},get:function(t){return this.members[t]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members}},construct:{set:function(t){return new n.Set(t)}}}),n.FX.Set=n.invent({create:function(t){this.set=t}}),n.Set.inherit=function(){var t=[];for(var e in n.Shape.prototype)"function"==typeof n.Shape.prototype[e]&&"function"!=typeof n.Set.prototype[e]&&t.push(e);for(var e in t.forEach((function(t){n.Set.prototype[t]=function(){for(var e=0,i=this.members.length;e<i;e++)this.members[e]&&"function"==typeof this.members[e][t]&&this.members[e][t].apply(this.members[e],arguments);return"animate"==t?this.fx||(this.fx=new n.FX.Set(this)):this}})),t=[],n.FX.prototype)"function"==typeof n.FX.prototype[e]&&"function"!=typeof n.FX.Set.prototype[e]&&t.push(e);t.forEach((function(t){n.FX.Set.prototype[t]=function(){for(var e=0,n=this.set.members.length;e<n;e++)this.set.members[e].fx[t].apply(this.set.members[e].fx,arguments);return this}}))},n.extend(n.Element,{}),n.extend(n.Element,{remember:function(t,e){if("object"===i(arguments[0]))for(var n in t)this.remember(n,t[n]);else{if(1==arguments.length)return this.memory()[t];this.memory()[t]=e}return this},forget:function(){if(0==arguments.length)this._memory={};else for(var t=arguments.length-1;t>=0;t--)delete this.memory()[arguments[t]];return this},memory:function(){return this._memory||(this._memory={})}}),n.get=function(t){var i=e.getElementById(function(t){var e=(t||"").toString().match(n.regex.reference);if(e)return e[1]}(t)||t);return n.adopt(i)},n.select=function(t,i){return new n.Set(n.utils.map((i||e).querySelectorAll(t),(function(t){return n.adopt(t)})))},n.extend(n.Parent,{select:function(t){return n.select(t,this.node)}});var b="abcdef".split("");if("function"!=typeof t.CustomEvent){var x=function(t,n){n=n||{bubbles:!1,cancelable:!1,detail:void 0};var i=e.createEvent("CustomEvent");return i.initCustomEvent(t,n.bubbles,n.cancelable,n.detail),i};x.prototype=t.Event.prototype,n.CustomEvent=x}else n.CustomEvent=t.CustomEvent;return n},"function"==typeof define&&n("PDX0")?define((function(){return g(p,p.document)})):"object"===("undefined"==typeof exports?"undefined":i(exports))&&void 0!==t?t.exports=p.document?g(p,p.document):function(t){return g(t,t.document)}:p.SVG=g(p,p.document),(function(){SVG.Filter=SVG.invent({create:"filter",inherit:SVG.Parent,extend:{source:"SourceGraphic",sourceAlpha:"SourceAlpha",background:"BackgroundImage",backgroundAlpha:"BackgroundAlpha",fill:"FillPaint",stroke:"StrokePaint",autoSetIn:!0,put:function(t,e){return this.add(t,e),!t.attr("in")&&this.autoSetIn&&t.attr("in",this.source),t.attr("result")||t.attr("result",t),t},blend:function(t,e,n){return this.put(new SVG.BlendEffect(t,e,n))},colorMatrix:function(t,e){return this.put(new SVG.ColorMatrixEffect(t,e))},convolveMatrix:function(t){return this.put(new SVG.ConvolveMatrixEffect(t))},componentTransfer:function(t){return this.put(new SVG.ComponentTransferEffect(t))},composite:function(t,e,n){return this.put(new SVG.CompositeEffect(t,e,n))},flood:function(t,e){return this.put(new SVG.FloodEffect(t,e))},offset:function(t,e){return this.put(new SVG.OffsetEffect(t,e))},image:function(t){return this.put(new SVG.ImageEffect(t))},merge:function(){var t=[void 0];for(var e in arguments)t.push(arguments[e]);return this.put(new(SVG.MergeEffect.bind.apply(SVG.MergeEffect,t)))},gaussianBlur:function(t,e){return this.put(new SVG.GaussianBlurEffect(t,e))},morphology:function(t,e){return this.put(new SVG.MorphologyEffect(t,e))},diffuseLighting:function(t,e,n){return this.put(new SVG.DiffuseLightingEffect(t,e,n))},displacementMap:function(t,e,n,i,r){return this.put(new SVG.DisplacementMapEffect(t,e,n,i,r))},specularLighting:function(t,e,n,i){return this.put(new SVG.SpecularLightingEffect(t,e,n,i))},tile:function(){return this.put(new SVG.TileEffect)},turbulence:function(t,e,n,i,r){return this.put(new SVG.TurbulenceEffect(t,e,n,i,r))},toString:function(){return"url(#"+this.attr("id")+")"}}}),SVG.extend(SVG.Defs,{filter:function(t){var e=this.put(new SVG.Filter);return"function"==typeof t&&t.call(e,e),e}}),SVG.extend(SVG.Container,{filter:function(t){return this.defs().filter(t)}}),SVG.extend(SVG.Element,SVG.G,SVG.Nested,{filter:function(t){return this.filterer=t instanceof SVG.Element?t:this.doc().filter(t),this.doc()&&this.filterer.doc()!==this.doc()&&this.doc().defs().add(this.filterer),this.attr("filter",this.filterer),this.filterer},unfilter:function(t){return this.filterer&&!0===t&&this.filterer.remove(),delete this.filterer,this.attr("filter",null)}}),SVG.Effect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(t){return null==t?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",t)},result:function(t){return null==t?this.attr("result"):this.attr("result",t)},toString:function(){return this.result()}}}),SVG.ParentEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Parent,extend:{in:function(t){return null==t?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",t)},result:function(t){return null==t?this.attr("result"):this.attr("result",t)},toString:function(){return this.result()}}});var t={blend:function(t,e){return this.parent()&&this.parent().blend(this,t,e)},colorMatrix:function(t,e){return this.parent()&&this.parent().colorMatrix(t,e).in(this)},convolveMatrix:function(t){return this.parent()&&this.parent().convolveMatrix(t).in(this)},componentTransfer:function(t){return this.parent()&&this.parent().componentTransfer(t).in(this)},composite:function(t,e){return this.parent()&&this.parent().composite(this,t,e)},flood:function(t,e){return this.parent()&&this.parent().flood(t,e)},offset:function(t,e){return this.parent()&&this.parent().offset(t,e).in(this)},image:function(t){return this.parent()&&this.parent().image(t)},merge:function(){return this.parent()&&this.parent().merge.apply(this.parent(),[this].concat(arguments))},gaussianBlur:function(t,e){return this.parent()&&this.parent().gaussianBlur(t,e).in(this)},morphology:function(t,e){return this.parent()&&this.parent().morphology(t,e).in(this)},diffuseLighting:function(t,e,n){return this.parent()&&this.parent().diffuseLighting(t,e,n).in(this)},displacementMap:function(t,e,n,i){return this.parent()&&this.parent().displacementMap(this,t,e,n,i)},specularLighting:function(t,e,n,i){return this.parent()&&this.parent().specularLighting(t,e,n,i).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(t,e,n,i,r){return this.parent()&&this.parent().turbulence(t,e,n,i,r).in(this)}};SVG.extend(SVG.Effect,t),SVG.extend(SVG.ParentEffect,t),SVG.ChildEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(t){this.attr("in",t)}}});var e={blend:function(t,e,n){this.attr({in:t,in2:e,mode:n||"normal"})},colorMatrix:function(t,e){"matrix"==t&&(e=r(e)),this.attr({type:t,values:void 0===e?null:e})},convolveMatrix:function(t){t=r(t),this.attr({order:Math.sqrt(t.split(" ").length),kernelMatrix:t})},composite:function(t,e,n){this.attr({in:t,in2:e,operator:n})},flood:function(t,e){this.attr("flood-color",t),null!=e&&this.attr("flood-opacity",e)},offset:function(t,e){this.attr({dx:t,dy:e})},image:function(t){this.attr("href",t,SVG.xlink)},displacementMap:function(t,e,n,i,r){this.attr({in:t,in2:e,scale:n,xChannelSelector:i,yChannelSelector:r})},gaussianBlur:function(t,e){this.attr("stdDeviation",null!=t||null!=e?o(Array.prototype.slice.call(arguments)):"0 0")},morphology:function(t,e){this.attr({operator:t,radius:e})},tile:function(){},turbulence:function(t,e,n,i,r){this.attr({numOctaves:e,seed:n,stitchTiles:i,baseFrequency:t,type:r})}},n={merge:function(){var t;if(arguments[0]instanceof SVG.Set){var e=this;arguments[0].each((function(t){this instanceof SVG.MergeNode?e.put(this):(this instanceof SVG.Effect||this instanceof SVG.ParentEffect)&&e.put(new SVG.MergeNode(this))}))}else{t=Array.isArray(arguments[0])?arguments[0]:arguments;for(var n=0;n<t.length;n++)t[n]instanceof SVG.MergeNode?this.put(t[n]):this.put(new SVG.MergeNode(t[n]))}},componentTransfer:function(t){if(this.rgb=new SVG.Set,["r","g","b","a"].forEach((function(t){this[t]=new(SVG["Func"+t.toUpperCase()])("identity"),this.rgb.add(this[t]),this.node.appendChild(this[t].node)}).bind(this)),t)for(var e in t.rgb&&(["r","g","b"].forEach((function(e){this[e].attr(t.rgb)}).bind(this)),delete t.rgb),t)this[e].attr(t[e])},diffuseLighting:function(t,e,n){this.attr({surfaceScale:t,diffuseConstant:e,kernelUnitLength:n})},specularLighting:function(t,e,n,i){this.attr({surfaceScale:t,diffuseConstant:e,specularExponent:n,kernelUnitLength:i})}},i={distantLight:function(t,e){this.attr({azimuth:t,elevation:e})},pointLight:function(t,e,n){this.attr({x:t,y:e,z:n})},spotLight:function(t,e,n,i,r,o){this.attr({x:t,y:e,z:n,pointsAtX:i,pointsAtY:r,pointsAtZ:o})},mergeNode:function(t){this.attr("in",t)}};function r(t){return Array.isArray(t)&&(t=new SVG.Array(t)),t.toString().replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}function o(t){if(!Array.isArray(t))return t;for(var e=0,n=t.length,i=[];e<n;e++)i.push(t[e]);return i.join(" ")}function s(){var t=function(){};for(var e in"function"==typeof arguments[arguments.length-1]&&(t=arguments[arguments.length-1],Array.prototype.splice.call(arguments,arguments.length-1,1)),arguments)for(var n in arguments[e])t(arguments[e][n],n,arguments[e])}["r","g","b","a"].forEach((function(t){i["Func"+t.toUpperCase()]=function(t){switch(this.attr("type",t),t){case"table":this.attr("tableValues",arguments[1]);break;case"linear":this.attr("slope",arguments[1]),this.attr("intercept",arguments[2]);break;case"gamma":this.attr("amplitude",arguments[1]),this.attr("exponent",arguments[2]),this.attr("offset",arguments[2])}}})),s(e,(function(t,e){var n=e.charAt(0).toUpperCase()+e.slice(1);SVG[n+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+n)),t.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.Effect,extend:{}})})),s(n,(function(t,e){var n=e.charAt(0).toUpperCase()+e.slice(1);SVG[n+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+n)),t.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.ParentEffect,extend:{}})})),s(i,(function(t,e){var n=e.charAt(0).toUpperCase()+e.slice(1);SVG[n]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+n)),t.apply(this,arguments)},inherit:SVG.ChildEffect,extend:{}})})),SVG.extend(SVG.MergeEffect,{in:function(t){return t instanceof SVG.MergeNode?this.add(t,0):this.add(new SVG.MergeNode(t),0),this}}),SVG.extend(SVG.CompositeEffect,SVG.BlendEffect,SVG.DisplacementMapEffect,{in2:function(t){return null==t?this.parent()&&this.parent().select('[result="'+this.attr("in2")+'"]').get(0)||this.attr("in2"):this.attr("in2",t)}}),SVG.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]}}).call(void 0),function(){function t(t,r,o,s,a,l,c){for(var u=t.slice(r,o||c),h=s.slice(a,l||c),d=0,f={pos:[0,0],start:[0,0]},p={pos:[0,0],start:[0,0]};u[d]=e.call(f,u[d]),h[d]=e.call(p,h[d]),u[d][0]!=h[d][0]||"M"==u[d][0]||"A"==u[d][0]&&(u[d][4]!=h[d][4]||u[d][5]!=h[d][5])?(Array.prototype.splice.apply(u,[d,1].concat(i.call(f,u[d]))),Array.prototype.splice.apply(h,[d,1].concat(i.call(p,h[d])))):(u[d]=n.call(f,u[d]),h[d]=n.call(p,h[d])),++d!=u.length||d!=h.length;)d==u.length&&u.push(["C",f.pos[0],f.pos[1],f.pos[0],f.pos[1],f.pos[0],f.pos[1]]),d==h.length&&h.push(["C",p.pos[0],p.pos[1],p.pos[0],p.pos[1],p.pos[0],p.pos[1]]);return{start:u,dest:h}}function e(t){switch(t[0]){case"z":case"Z":t[0]="L",t[1]=this.start[0],t[2]=this.start[1];break;case"H":t[0]="L",t[2]=this.pos[1];break;case"V":t[0]="L",t[2]=t[1],t[1]=this.pos[0];break;case"T":t[0]="Q",t[3]=t[1],t[4]=t[2],t[1]=this.reflection[1],t[2]=this.reflection[0];break;case"S":t[0]="C",t[6]=t[4],t[5]=t[3],t[4]=t[2],t[3]=t[1],t[2]=this.reflection[1],t[1]=this.reflection[0]}return t}function n(t){var e=t.length;return this.pos=[t[e-2],t[e-1]],-1!="SCQT".indexOf(t[0])&&(this.reflection=[2*this.pos[0]-t[e-4],2*this.pos[1]-t[e-3]]),t}function i(t){var e=[t];switch(t[0]){case"M":return this.pos=this.start=[t[1],t[2]],e;case"L":t[5]=t[3]=t[1],t[6]=t[4]=t[2],t[1]=this.pos[0],t[2]=this.pos[1];break;case"Q":t[6]=t[4],t[5]=t[3],t[4]=1*t[4]/3+2*t[2]/3,t[3]=1*t[3]/3+2*t[1]/3,t[2]=1*this.pos[1]/3+2*t[2]/3,t[1]=1*this.pos[0]/3+2*t[1]/3;break;case"A":t=(e=function(t,e){var n,i,r,o,s,a,l,c,u,h,d,f,p,g,v,m,y,b,x,w,S,A,E=Math.abs(e[1]),k=Math.abs(e[2]),_=e[3]%360,C=e[4],T=e[5],I=e[6],N=e[7],P=new SVG.Point(t),L=new SVG.Point(I,N),O=[];if(0===E||0===k||P.x===L.x&&P.y===L.y)return[["C",P.x,P.y,L.x,L.y,L.x,L.y]];for((i=(n=new SVG.Point((P.x-L.x)/2,(P.y-L.y)/2).transform((new SVG.Matrix).rotate(_))).x*n.x/(E*E)+n.y*n.y/(k*k))>1&&(E*=i=Math.sqrt(i),k*=i),r=(new SVG.Matrix).rotate(_).scale(1/E,1/k).rotate(-_),P=P.transform(r),a=(o=[(L=L.transform(r)).x-P.x,L.y-P.y])[0]*o[0]+o[1]*o[1],s=Math.sqrt(a),o[0]/=s,o[1]/=s,l=a<4?Math.sqrt(1-a/4):0,C===T&&(l*=-1),c=new SVG.Point((L.x+P.x)/2+l*-o[1],(L.y+P.y)/2+l*o[0]),u=new SVG.Point(P.x-c.x,P.y-c.y),h=new SVG.Point(L.x-c.x,L.y-c.y),d=Math.acos(u.x/Math.sqrt(u.x*u.x+u.y*u.y)),u.y<0&&(d*=-1),f=Math.acos(h.x/Math.sqrt(h.x*h.x+h.y*h.y)),h.y<0&&(f*=-1),T&&d>f&&(f+=2*Math.PI),!T&&d<f&&(f-=2*Math.PI),m=[],y=d,p=(f-d)/(g=Math.ceil(2*Math.abs(d-f)/Math.PI)),v=4*Math.tan(p/4)/3,S=0;S<=g;S++)x=Math.cos(y),b=Math.sin(y),w=new SVG.Point(c.x+x,c.y+b),m[S]=[new SVG.Point(w.x+v*b,w.y-v*x),w,new SVG.Point(w.x-v*b,w.y+v*x)],y+=p;for(m[0][0]=m[0][1].clone(),m[m.length-1][2]=m[m.length-1][1].clone(),r=(new SVG.Matrix).rotate(_).scale(E,k).rotate(-_),S=0,A=m.length;S<A;S++)m[S][0]=m[S][0].transform(r),m[S][1]=m[S][1].transform(r),m[S][2]=m[S][2].transform(r);for(S=1,A=m.length;S<A;S++)O.push(["C",(w=m[S-1][2]).x,w.y,(w=m[S][0]).x,w.y,I=(w=m[S][1]).x,N=w.y]);return O}(this.pos,t))[0]}return t[0]="C",this.pos=[t[5],t[6]],this.reflection=[2*t[5]-t[3],2*t[6]-t[4]],e}function r(t,e){if(!1===e)return!1;for(var n=e,i=t.length;n<i;++n)if("M"==t[n][0])return n;return!1}SVG.extend(SVG.PathArray,{morph:function(e){for(var n=this.value,i=this.parse(e),o=0,s=0,a=!1,l=!1;!1!==o||!1!==s;){var c;a=r(n,!1!==o&&o+1),l=r(i,!1!==s&&s+1),!1===o&&(o=0==(c=new SVG.PathArray(u.start).bbox()).height||0==c.width?n.push(n[0])-1:n.push(["M",c.x+c.width/2,c.y+c.height/2])-1),!1===s&&(s=0==(c=new SVG.PathArray(u.dest).bbox()).height||0==c.width?i.push(i[0])-1:i.push(["M",c.x+c.width/2,c.y+c.height/2])-1);var u=t(n,o,a,i,s,l);n=n.slice(0,o).concat(u.start,!1===a?[]:n.slice(a)),i=i.slice(0,s).concat(u.dest,!1===l?[]:i.slice(l)),o=!1!==a&&o+u.start.length,s=!1!==l&&s+u.dest.length}return this.value=n,this.destination=new SVG.PathArray,this.destination.value=i,this}})}(),(function(){function t(t){t.remember("_draggable",this),this.el=t}t.prototype.init=function(t,e){var n=this;this.constraint=t,this.value=e,this.el.on("mousedown.drag",(function(t){n.start(t)})),this.el.on("touchstart.drag",(function(t){n.start(t)}))},t.prototype.transformPoint=function(t,e){var n=(t=t||window.event).changedTouches&&t.changedTouches[0]||t;return this.p.x=n.clientX-(e||0),this.p.y=n.clientY,this.p.matrixTransform(this.m)},t.prototype.getBBox=function(){var t=this.el.bbox();return this.el instanceof SVG.Nested&&(t=this.el.rbox()),(this.el instanceof SVG.G||this.el instanceof SVG.Use||this.el instanceof SVG.Nested)&&(t.x=this.el.x(),t.y=this.el.y()),t},t.prototype.start=function(t){if("click"!=t.type&&"mousedown"!=t.type&&"mousemove"!=t.type||1==(t.which||t.buttons)){var e=this;if(this.el.fire("beforedrag",{event:t,handler:this}),!this.el.event().defaultPrevented){t.preventDefault(),t.stopPropagation(),this.parent=this.parent||this.el.parent(SVG.Nested)||this.el.parent(SVG.Doc),this.p=this.parent.node.createSVGPoint(),this.m=this.el.node.getScreenCTM().inverse();var n,i=this.getBBox();if(this.el instanceof SVG.Text)switch(n=this.el.node.getComputedTextLength(),this.el.attr("text-anchor")){case"middle":n/=2;break;case"start":n=0}this.startPoints={point:this.transformPoint(t,n),box:i,transform:this.el.transform()},SVG.on(window,"mousemove.drag",(function(t){e.drag(t)})),SVG.on(window,"touchmove.drag",(function(t){e.drag(t)})),SVG.on(window,"mouseup.drag",(function(t){e.end(t)})),SVG.on(window,"touchend.drag",(function(t){e.end(t)})),this.el.fire("dragstart",{event:t,p:this.startPoints.point,m:this.m,handler:this})}}},t.prototype.drag=function(t){var e=this.getBBox(),n=this.transformPoint(t),i=this.startPoints.box.x+n.x-this.startPoints.point.x,r=this.startPoints.box.y+n.y-this.startPoints.point.y,o=this.constraint,s=n.x-this.startPoints.point.x,a=n.y-this.startPoints.point.y;if(this.el.fire("dragmove",{event:t,p:n,m:this.m,handler:this}),this.el.event().defaultPrevented)return n;if("function"==typeof o){var l=o.call(this.el,i,r,this.m);"boolean"==typeof l&&(l={x:l,y:l}),!0===l.x?this.el.x(i):!1!==l.x&&this.el.x(l.x),!0===l.y?this.el.y(r):!1!==l.y&&this.el.y(l.y)}else"object"==typeof o&&(null!=o.minX&&i<o.minX?s=(i=o.minX)-this.startPoints.box.x:null!=o.maxX&&i>o.maxX-e.width&&(s=(i=o.maxX-e.width)-this.startPoints.box.x),null!=o.minY&&r<o.minY?a=(r=o.minY)-this.startPoints.box.y:null!=o.maxY&&r>o.maxY-e.height&&(a=(r=o.maxY-e.height)-this.startPoints.box.y),null!=o.snapToGrid&&(i-=i%o.snapToGrid,r-=r%o.snapToGrid,s-=s%o.snapToGrid,a-=a%o.snapToGrid),this.el instanceof SVG.G?this.el.matrix(this.startPoints.transform).transform({x:s,y:a},!0):this.el.move(i,r));return n},t.prototype.end=function(t){var e=this.drag(t);this.el.fire("dragend",{event:t,p:e,m:this.m,handler:this}),SVG.off(window,"mousemove.drag"),SVG.off(window,"touchmove.drag"),SVG.off(window,"mouseup.drag"),SVG.off(window,"touchend.drag")},SVG.extend(SVG.Element,{draggable:function(e,n){"function"!=typeof e&&"object"!=typeof e||(n=e,e=!0);var i=this.remember("_draggable")||new t(this);return(e=void 0===e||e)?i.init(n||{},e):(this.off("mousedown.drag"),this.off("touchstart.drag")),this}})}).call(void 0),function(){function t(t){this.el=t,t.remember("_selectHandler",this),this.pointSelection={isSelected:!1},this.rectSelection={isSelected:!1},this.pointsList={lt:[0,0],rt:["width",0],rb:["width","height"],lb:[0,"height"],t:["width",0],r:["width","height"],b:["width","height"],l:[0,"height"]},this.pointCoord=function(t,e,n){var i="string"!=typeof t?t:e[t];return n?i/2:i},this.pointCoords=function(t,e){var n=this.pointsList[t];return{x:this.pointCoord(n[0],e,"t"===t||"b"===t),y:this.pointCoord(n[1],e,"r"===t||"l"===t)}}}t.prototype.init=function(t,e){var n=this.el.bbox();this.options={};var i=this.el.selectize.defaults.points;for(var r in this.el.selectize.defaults)this.options[r]=this.el.selectize.defaults[r],void 0!==e[r]&&(this.options[r]=e[r]);var o=["points","pointsExclude"];for(var r in o){var s=this.options[o[r]];"string"==typeof s?s=s.length>0?s.split(/\s*,\s*/i):[]:"boolean"==typeof s&&"points"===o[r]&&(s=s?i:[]),this.options[o[r]]=s}this.options.points=[i,this.options.points].reduce((function(t,e){return t.filter((function(t){return e.indexOf(t)>-1}))})),this.options.points=[this.options.points,this.options.pointsExclude].reduce((function(t,e){return t.filter((function(t){return e.indexOf(t)<0}))})),this.parent=this.el.parent(),this.nested=this.nested||this.parent.group(),this.nested.matrix(new SVG.Matrix(this.el).translate(n.x,n.y)),this.options.deepSelect&&-1!==["line","polyline","polygon"].indexOf(this.el.type)?this.selectPoints(t):this.selectRect(t),this.observe(),this.cleanup()},t.prototype.selectPoints=function(t){return this.pointSelection.isSelected=t,this.pointSelection.set?this:(this.pointSelection.set=this.parent.set(),this.drawPoints(),this)},t.prototype.getPointArray=function(){var t=this.el.bbox();return this.el.array().valueOf().map((function(e){return[e[0]-t.x,e[1]-t.y]}))},t.prototype.drawPoints=function(){for(var t=this,e=this.getPointArray(),n=0,i=e.length;n<i;++n){var r=function(e){return function(n){(n=n||window.event).preventDefault?n.preventDefault():n.returnValue=!1,n.stopPropagation(),t.el.fire("point",{x:n.pageX||n.touches[0].pageX,y:n.pageY||n.touches[0].pageY,i:e,event:n})}}(n),o=this.drawPoint(e[n][0],e[n][1]).addClass(this.options.classPoints).addClass(this.options.classPoints+"_point").on("touchstart",r).on("mousedown",r);this.pointSelection.set.add(o)}},t.prototype.drawPoint=function(t,e){var n=this.options.pointType;switch(n){case"circle":return this.drawCircle(t,e);case"rect":return this.drawRect(t,e);default:if("function"==typeof n)return n.call(this,t,e);throw new Error("Unknown "+n+" point type!")}},t.prototype.drawCircle=function(t,e){return this.nested.circle(this.options.pointSize).center(t,e)},t.prototype.drawRect=function(t,e){return this.nested.rect(this.options.pointSize,this.options.pointSize).center(t,e)},t.prototype.updatePointSelection=function(){var t=this.getPointArray();this.pointSelection.set.each((function(e){this.cx()===t[e][0]&&this.cy()===t[e][1]||this.center(t[e][0],t[e][1])}))},t.prototype.updateRectSelection=function(){var t=this,e=this.el.bbox();if(this.rectSelection.set.get(0).attr({width:e.width,height:e.height}),this.options.points.length&&this.options.points.map((function(n,i){var r=t.pointCoords(n,e);t.rectSelection.set.get(i+1).center(r.x,r.y)})),this.options.rotationPoint){var n=this.rectSelection.set.length();this.rectSelection.set.get(n-1).center(e.width/2,20)}},t.prototype.selectRect=function(t){var e=this,n=this.el.bbox();function i(t){return function(n){(n=n||window.event).preventDefault?n.preventDefault():n.returnValue=!1,n.stopPropagation(),e.el.fire(t,{x:n.pageX||n.touches[0].pageX,y:n.pageY||n.touches[0].pageY,event:n})}}if(this.rectSelection.isSelected=t,this.rectSelection.set=this.rectSelection.set||this.parent.set(),this.rectSelection.set.get(0)||this.rectSelection.set.add(this.nested.rect(n.width,n.height).addClass(this.options.classRect)),this.options.points.length&&this.rectSelection.set.length()<2&&(this.options.points.map((function(t,r){var o=e.pointCoords(t,n),s=e.drawPoint(o.x,o.y).attr("class",e.options.classPoints+"_"+t).on("mousedown",i(t)).on("touchstart",i(t));e.rectSelection.set.add(s)})),this.rectSelection.set.each((function(){this.addClass(e.options.classPoints)}))),this.options.rotationPoint&&(this.options.points&&!this.rectSelection.set.get(9)||!this.options.points&&!this.rectSelection.set.get(1))){var r=function(t){(t=t||window.event).preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation(),e.el.fire("rot",{x:t.pageX||t.touches[0].pageX,y:t.pageY||t.touches[0].pageY,event:t})},o=this.drawPoint(n.width/2,20).attr("class",this.options.classPoints+"_rot").on("touchstart",r).on("mousedown",r);this.rectSelection.set.add(o)}},t.prototype.handler=function(){var t=this.el.bbox();this.nested.matrix(new SVG.Matrix(this.el).translate(t.x,t.y)),this.rectSelection.isSelected&&this.updateRectSelection(),this.pointSelection.isSelected&&this.updatePointSelection()},t.prototype.observe=function(){var t=this;if(MutationObserver)if(this.rectSelection.isSelected||this.pointSelection.isSelected)this.observerInst=this.observerInst||new MutationObserver((function(){t.handler()})),this.observerInst.observe(this.el.node,{attributes:!0});else try{this.observerInst.disconnect(),delete this.observerInst}catch(t){}else this.el.off("DOMAttrModified.select"),(this.rectSelection.isSelected||this.pointSelection.isSelected)&&this.el.on("DOMAttrModified.select",(function(){t.handler()}))},t.prototype.cleanup=function(){!this.rectSelection.isSelected&&this.rectSelection.set&&(this.rectSelection.set.each((function(){this.remove()})),this.rectSelection.set.clear(),delete this.rectSelection.set),!this.pointSelection.isSelected&&this.pointSelection.set&&(this.pointSelection.set.each((function(){this.remove()})),this.pointSelection.set.clear(),delete this.pointSelection.set),this.pointSelection.isSelected||this.rectSelection.isSelected||(this.nested.remove(),delete this.nested)},SVG.extend(SVG.Element,{selectize:function(e,n){return"object"==typeof e&&(n=e,e=!0),(this.remember("_selectHandler")||new t(this)).init(void 0===e||e,n||{}),this}}),SVG.Element.prototype.selectize.defaults={points:["lt","rt","rb","lb","t","r","b","l"],pointsExclude:[],classRect:"svg_select_boundingRect",classPoints:"svg_select_points",pointSize:7,rotationPoint:!0,deepSelect:!1,pointType:"circle"}}(),function(){(function(){function t(t){t.remember("_resizeHandler",this),this.el=t,this.parameters={},this.lastUpdateCall=null,this.p=t.doc().node.createSVGPoint()}t.prototype.transformPoint=function(t,e,n){return this.p.x=t-(this.offset.x-window.pageXOffset),this.p.y=e-(this.offset.y-window.pageYOffset),this.p.matrixTransform(n||this.m)},t.prototype._extractPosition=function(t){return{x:null!=t.clientX?t.clientX:t.touches[0].clientX,y:null!=t.clientY?t.clientY:t.touches[0].clientY}},t.prototype.init=function(t){var e=this;if(this.stop(),"stop"!==t){for(var n in this.options={},this.el.resize.defaults)this.options[n]=this.el.resize.defaults[n],void 0!==t[n]&&(this.options[n]=t[n]);this.el.on("lt.resize",(function(t){e.resize(t||window.event)})),this.el.on("rt.resize",(function(t){e.resize(t||window.event)})),this.el.on("rb.resize",(function(t){e.resize(t||window.event)})),this.el.on("lb.resize",(function(t){e.resize(t||window.event)})),this.el.on("t.resize",(function(t){e.resize(t||window.event)})),this.el.on("r.resize",(function(t){e.resize(t||window.event)})),this.el.on("b.resize",(function(t){e.resize(t||window.event)})),this.el.on("l.resize",(function(t){e.resize(t||window.event)})),this.el.on("rot.resize",(function(t){e.resize(t||window.event)})),this.el.on("point.resize",(function(t){e.resize(t||window.event)})),this.update()}},t.prototype.stop=function(){return this.el.off("lt.resize"),this.el.off("rt.resize"),this.el.off("rb.resize"),this.el.off("lb.resize"),this.el.off("t.resize"),this.el.off("r.resize"),this.el.off("b.resize"),this.el.off("l.resize"),this.el.off("rot.resize"),this.el.off("point.resize"),this},t.prototype.resize=function(t){var e=this;this.m=this.el.node.getScreenCTM().inverse(),this.offset={x:window.pageXOffset,y:window.pageYOffset};var n=this._extractPosition(t.detail.event);if(this.parameters={type:this.el.type,p:this.transformPoint(n.x,n.y),x:t.detail.x,y:t.detail.y,box:this.el.bbox(),rotation:this.el.transform().rotation},"text"===this.el.type&&(this.parameters.fontSize=this.el.attr()["font-size"]),void 0!==t.detail.i){var i=this.el.array().valueOf();this.parameters.i=t.detail.i,this.parameters.pointCoords=[i[t.detail.i][0],i[t.detail.i][1]]}switch(t.type){case"lt":this.calc=function(t,e){var n=this.snapToGrid(t,e);if(this.parameters.box.width-n[0]>0&&this.parameters.box.height-n[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+n[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-n[0]);n=this.checkAspectRatio(n),this.el.move(this.parameters.box.x+n[0],this.parameters.box.y+n[1]).size(this.parameters.box.width-n[0],this.parameters.box.height-n[1])}};break;case"rt":this.calc=function(t,e){var n=this.snapToGrid(t,e,2);if(this.parameters.box.width+n[0]>0&&this.parameters.box.height-n[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-n[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+n[0]);n=this.checkAspectRatio(n,!0),this.el.move(this.parameters.box.x,this.parameters.box.y+n[1]).size(this.parameters.box.width+n[0],this.parameters.box.height-n[1])}};break;case"rb":this.calc=function(t,e){var n=this.snapToGrid(t,e,0);if(this.parameters.box.width+n[0]>0&&this.parameters.box.height+n[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-n[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+n[0]);n=this.checkAspectRatio(n),this.el.move(this.parameters.box.x,this.parameters.box.y).size(this.parameters.box.width+n[0],this.parameters.box.height+n[1])}};break;case"lb":this.calc=function(t,e){var n=this.snapToGrid(t,e,1);if(this.parameters.box.width-n[0]>0&&this.parameters.box.height+n[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+n[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-n[0]);n=this.checkAspectRatio(n,!0),this.el.move(this.parameters.box.x+n[0],this.parameters.box.y).size(this.parameters.box.width-n[0],this.parameters.box.height+n[1])}};break;case"t":this.calc=function(t,e){var n=this.snapToGrid(t,e,2);if(this.parameters.box.height-n[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y+n[1]).height(this.parameters.box.height-n[1])}};break;case"r":this.calc=function(t,e){var n=this.snapToGrid(t,e,0);if(this.parameters.box.width+n[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).width(this.parameters.box.width+n[0])}};break;case"b":this.calc=function(t,e){var n=this.snapToGrid(t,e,0);if(this.parameters.box.height+n[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).height(this.parameters.box.height+n[1])}};break;case"l":this.calc=function(t,e){var n=this.snapToGrid(t,e,1);if(this.parameters.box.width-n[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x+n[0],this.parameters.box.y).width(this.parameters.box.width-n[0])}};break;case"rot":this.calc=function(t,e){var n=t+this.parameters.p.x,i=e+this.parameters.p.y,r=Math.atan2(this.parameters.p.y-this.parameters.box.y-this.parameters.box.height/2,this.parameters.p.x-this.parameters.box.x-this.parameters.box.width/2),o=Math.atan2(i-this.parameters.box.y-this.parameters.box.height/2,n-this.parameters.box.x-this.parameters.box.width/2),s=this.parameters.rotation+180*(o-r)/Math.PI+this.options.snapToAngle/2;this.el.center(this.parameters.box.cx,this.parameters.box.cy).rotate(s-s%this.options.snapToAngle,this.parameters.box.cx,this.parameters.box.cy)};break;case"point":this.calc=function(t,e){var n=this.snapToGrid(t,e,this.parameters.pointCoords[0],this.parameters.pointCoords[1]),i=this.el.array().valueOf();i[this.parameters.i][0]=this.parameters.pointCoords[0]+n[0],i[this.parameters.i][1]=this.parameters.pointCoords[1]+n[1],this.el.plot(i)}}this.el.fire("resizestart",{dx:this.parameters.x,dy:this.parameters.y,event:t}),SVG.on(window,"touchmove.resize",(function(t){e.update(t||window.event)})),SVG.on(window,"touchend.resize",(function(){e.done()})),SVG.on(window,"mousemove.resize",(function(t){e.update(t||window.event)})),SVG.on(window,"mouseup.resize",(function(){e.done()}))},t.prototype.update=function(t){if(t){var e=this._extractPosition(t),n=this.transformPoint(e.x,e.y),i=n.x-this.parameters.p.x,r=n.y-this.parameters.p.y;this.lastUpdateCall=[i,r],this.calc(i,r),this.el.fire("resizing",{dx:i,dy:r,event:t})}else this.lastUpdateCall&&this.calc(this.lastUpdateCall[0],this.lastUpdateCall[1])},t.prototype.done=function(){this.lastUpdateCall=null,SVG.off(window,"mousemove.resize"),SVG.off(window,"mouseup.resize"),SVG.off(window,"touchmove.resize"),SVG.off(window,"touchend.resize"),this.el.fire("resizedone")},t.prototype.snapToGrid=function(t,e,n,i){var r;return r=void 0!==i?[(n+t)%this.options.snapToGrid,(i+e)%this.options.snapToGrid]:[(this.parameters.box.x+t+(1&(n=null==n?3:n)?0:this.parameters.box.width))%this.options.snapToGrid,(this.parameters.box.y+e+(2&n?0:this.parameters.box.height))%this.options.snapToGrid],t<0&&(r[0]-=this.options.snapToGrid),e<0&&(r[1]-=this.options.snapToGrid),t-=Math.abs(r[0])<this.options.snapToGrid/2?r[0]:r[0]-(t<0?-this.options.snapToGrid:this.options.snapToGrid),e-=Math.abs(r[1])<this.options.snapToGrid/2?r[1]:r[1]-(e<0?-this.options.snapToGrid:this.options.snapToGrid),this.constraintToBox(t,e,n,i)},t.prototype.constraintToBox=function(t,e,n,i){var r,o,s=this.options.constraint||{};return void 0!==i?(r=n,o=i):(r=this.parameters.box.x+(1&n?0:this.parameters.box.width),o=this.parameters.box.y+(2&n?0:this.parameters.box.height)),void 0!==s.minX&&r+t<s.minX&&(t=s.minX-r),void 0!==s.maxX&&r+t>s.maxX&&(t=s.maxX-r),void 0!==s.minY&&o+e<s.minY&&(e=s.minY-o),void 0!==s.maxY&&o+e>s.maxY&&(e=s.maxY-o),[t,e]},t.prototype.checkAspectRatio=function(t,e){if(!this.options.saveAspectRatio)return t;var n=t.slice(),i=this.parameters.box.width/this.parameters.box.height,r=this.parameters.box.width+t[0],o=this.parameters.box.height-t[1],s=r/o;return s<i?(n[1]=r/i-this.parameters.box.height,e&&(n[1]=-n[1])):s>i&&(n[0]=this.parameters.box.width-o*i,e&&(n[0]=-n[0])),n},SVG.extend(SVG.Element,{resize:function(e){return(this.remember("_resizeHandler")||new t(this)).init(e||{}),this}}),SVG.Element.prototype.resize.defaults={snapToAngle:.1,snapToGrid:1,constraint:{},saveAspectRatio:!1}}).call(this)}(),function(t,e){void 0===e&&(e={});var n=e.insertAt;if("undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===n&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}}('.apexcharts-canvas {\n  position: relative;\n  user-select: none;\n  /* cannot give overflow: hidden as it will crop tooltips which overflow outside chart area */\n}\n\n\n/* scrollbar is not visible by default for legend, hence forcing the visibility */\n.apexcharts-canvas ::-webkit-scrollbar {\n  -webkit-appearance: none;\n  width: 6px;\n}\n\n.apexcharts-canvas ::-webkit-scrollbar-thumb {\n  border-radius: 4px;\n  background-color: rgba(0, 0, 0, .5);\n  box-shadow: 0 0 1px rgba(255, 255, 255, .5);\n  -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, .5);\n}\n\n.apexcharts-canvas.apexcharts-theme-dark {\n  background: #424242;\n}\n\n.apexcharts-inner {\n  position: relative;\n}\n\n.apexcharts-text tspan {\n  font-family: inherit;\n}\n\n.legend-mouseover-inactive {\n  transition: 0.15s ease all;\n  opacity: 0.20;\n}\n\n.apexcharts-series-collapsed {\n  opacity: 0;\n}\n\n.apexcharts-tooltip {\n  border-radius: 5px;\n  box-shadow: 2px 2px 6px -4px #999;\n  cursor: default;\n  font-size: 14px;\n  left: 62px;\n  opacity: 0;\n  pointer-events: none;\n  position: absolute;\n  top: 20px;\n  overflow: hidden;\n  white-space: nowrap;\n  z-index: 12;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-tooltip.apexcharts-active {\n  opacity: 1;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-tooltip.apexcharts-theme-light {\n  border: 1px solid #e3e3e3;\n  background: rgba(255, 255, 255, 0.96);\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark {\n  color: #fff;\n  background: rgba(30, 30, 30, 0.8);\n}\n\n.apexcharts-tooltip * {\n  font-family: inherit;\n}\n\n\n.apexcharts-tooltip-title {\n  padding: 6px;\n  font-size: 15px;\n  margin-bottom: 4px;\n}\n\n.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {\n  background: #ECEFF1;\n  border-bottom: 1px solid #ddd;\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {\n  background: rgba(0, 0, 0, 0.7);\n  border-bottom: 1px solid #333;\n}\n\n.apexcharts-tooltip-text-value,\n.apexcharts-tooltip-text-z-value {\n  display: inline-block;\n  font-weight: 600;\n  margin-left: 5px;\n}\n\n.apexcharts-tooltip-text-z-label:empty,\n.apexcharts-tooltip-text-z-value:empty {\n  display: none;\n}\n\n.apexcharts-tooltip-text-value,\n.apexcharts-tooltip-text-z-value {\n  font-weight: 600;\n}\n\n.apexcharts-tooltip-marker {\n  width: 12px;\n  height: 12px;\n  position: relative;\n  top: 0px;\n  margin-right: 10px;\n  border-radius: 50%;\n}\n\n.apexcharts-tooltip-series-group {\n  padding: 0 10px;\n  display: none;\n  text-align: left;\n  justify-content: left;\n  align-items: center;\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {\n  opacity: 1;\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active,\n.apexcharts-tooltip-series-group:last-child {\n  padding-bottom: 4px;\n}\n\n.apexcharts-tooltip-series-group-hidden {\n  opacity: 0;\n  height: 0;\n  line-height: 0;\n  padding: 0 !important;\n}\n\n.apexcharts-tooltip-y-group {\n  padding: 6px 0 5px;\n}\n\n.apexcharts-tooltip-candlestick {\n  padding: 4px 8px;\n}\n\n.apexcharts-tooltip-candlestick>div {\n  margin: 4px 0;\n}\n\n.apexcharts-tooltip-candlestick span.value {\n  font-weight: bold;\n}\n\n.apexcharts-tooltip-rangebar {\n  padding: 5px 8px;\n}\n\n.apexcharts-tooltip-rangebar .category {\n  font-weight: 600;\n  color: #777;\n}\n\n.apexcharts-tooltip-rangebar .series-name {\n  font-weight: bold;\n  display: block;\n  margin-bottom: 5px;\n}\n\n.apexcharts-xaxistooltip {\n  opacity: 0;\n  padding: 9px 10px;\n  pointer-events: none;\n  color: #373d3f;\n  font-size: 13px;\n  text-align: center;\n  border-radius: 2px;\n  position: absolute;\n  z-index: 10;\n  background: #ECEFF1;\n  border: 1px solid #90A4AE;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-xaxistooltip.apexcharts-theme-dark {\n  background: rgba(0, 0, 0, 0.7);\n  border: 1px solid rgba(0, 0, 0, 0.5);\n  color: #fff;\n}\n\n.apexcharts-xaxistooltip:after,\n.apexcharts-xaxistooltip:before {\n  left: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none;\n}\n\n.apexcharts-xaxistooltip:after {\n  border-color: rgba(236, 239, 241, 0);\n  border-width: 6px;\n  margin-left: -6px;\n}\n\n.apexcharts-xaxistooltip:before {\n  border-color: rgba(144, 164, 174, 0);\n  border-width: 7px;\n  margin-left: -7px;\n}\n\n.apexcharts-xaxistooltip-bottom:after,\n.apexcharts-xaxistooltip-bottom:before {\n  bottom: 100%;\n}\n\n.apexcharts-xaxistooltip-top:after,\n.apexcharts-xaxistooltip-top:before {\n  top: 100%;\n}\n\n.apexcharts-xaxistooltip-bottom:after {\n  border-bottom-color: #ECEFF1;\n}\n\n.apexcharts-xaxistooltip-bottom:before {\n  border-bottom-color: #90A4AE;\n}\n\n.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after {\n  border-bottom-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {\n  border-bottom-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-xaxistooltip-top:after {\n  border-top-color: #ECEFF1\n}\n\n.apexcharts-xaxistooltip-top:before {\n  border-top-color: #90A4AE;\n}\n\n.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after {\n  border-top-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {\n  border-top-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-xaxistooltip.apexcharts-active {\n  opacity: 1;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-yaxistooltip {\n  opacity: 0;\n  padding: 4px 10px;\n  pointer-events: none;\n  color: #373d3f;\n  font-size: 13px;\n  text-align: center;\n  border-radius: 2px;\n  position: absolute;\n  z-index: 10;\n  background: #ECEFF1;\n  border: 1px solid #90A4AE;\n}\n\n.apexcharts-yaxistooltip.apexcharts-theme-dark {\n  background: rgba(0, 0, 0, 0.7);\n  border: 1px solid rgba(0, 0, 0, 0.5);\n  color: #fff;\n}\n\n.apexcharts-yaxistooltip:after,\n.apexcharts-yaxistooltip:before {\n  top: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none;\n}\n\n.apexcharts-yaxistooltip:after {\n  border-color: rgba(236, 239, 241, 0);\n  border-width: 6px;\n  margin-top: -6px;\n}\n\n.apexcharts-yaxistooltip:before {\n  border-color: rgba(144, 164, 174, 0);\n  border-width: 7px;\n  margin-top: -7px;\n}\n\n.apexcharts-yaxistooltip-left:after,\n.apexcharts-yaxistooltip-left:before {\n  left: 100%;\n}\n\n.apexcharts-yaxistooltip-right:after,\n.apexcharts-yaxistooltip-right:before {\n  right: 100%;\n}\n\n.apexcharts-yaxistooltip-left:after {\n  border-left-color: #ECEFF1;\n}\n\n.apexcharts-yaxistooltip-left:before {\n  border-left-color: #90A4AE;\n}\n\n.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after {\n  border-left-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {\n  border-left-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-yaxistooltip-right:after {\n  border-right-color: #ECEFF1;\n}\n\n.apexcharts-yaxistooltip-right:before {\n  border-right-color: #90A4AE;\n}\n\n.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after {\n  border-right-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {\n  border-right-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-yaxistooltip.apexcharts-active {\n  opacity: 1;\n}\n\n.apexcharts-yaxistooltip-hidden {\n  display: none;\n}\n\n.apexcharts-xcrosshairs,\n.apexcharts-ycrosshairs {\n  pointer-events: none;\n  opacity: 0;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-xcrosshairs.apexcharts-active,\n.apexcharts-ycrosshairs.apexcharts-active {\n  opacity: 1;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-ycrosshairs-hidden {\n  opacity: 0;\n}\n\n.apexcharts-selection-rect {\n  cursor: move;\n}\n\n.svg_select_boundingRect, .svg_select_points_rot {\n  pointer-events: none;\n  opacity: 0;\n  visibility: hidden;\n}\n.apexcharts-selection-rect + g .svg_select_boundingRect,\n.apexcharts-selection-rect + g .svg_select_points_rot {\n  opacity: 0;\n  visibility: hidden;\n}\n\n.apexcharts-selection-rect + g .svg_select_points_l,\n.apexcharts-selection-rect + g .svg_select_points_r {\n  cursor: ew-resize;\n  opacity: 1;\n  visibility: visible;\n}\n\n.svg_select_points {\n  fill: #efefef;\n  stroke: #333;\n  rx: 2;\n}\n\n.apexcharts-canvas.apexcharts-zoomable .hovering-zoom {\n  cursor: crosshair\n}\n\n.apexcharts-canvas.apexcharts-zoomable .hovering-pan {\n  cursor: move\n}\n\n.apexcharts-zoom-icon,\n.apexcharts-zoomin-icon,\n.apexcharts-zoomout-icon,\n.apexcharts-reset-icon,\n.apexcharts-pan-icon,\n.apexcharts-selection-icon,\n.apexcharts-menu-icon,\n.apexcharts-toolbar-custom-icon {\n  cursor: pointer;\n  width: 20px;\n  height: 20px;\n  line-height: 24px;\n  color: #6E8192;\n  text-align: center;\n}\n\n.apexcharts-zoom-icon svg,\n.apexcharts-zoomin-icon svg,\n.apexcharts-zoomout-icon svg,\n.apexcharts-reset-icon svg,\n.apexcharts-menu-icon svg {\n  fill: #6E8192;\n}\n\n.apexcharts-selection-icon svg {\n  fill: #444;\n  transform: scale(0.76)\n}\n\n.apexcharts-theme-dark .apexcharts-zoom-icon svg,\n.apexcharts-theme-dark .apexcharts-zoomin-icon svg,\n.apexcharts-theme-dark .apexcharts-zoomout-icon svg,\n.apexcharts-theme-dark .apexcharts-reset-icon svg,\n.apexcharts-theme-dark .apexcharts-pan-icon svg,\n.apexcharts-theme-dark .apexcharts-selection-icon svg,\n.apexcharts-theme-dark .apexcharts-menu-icon svg,\n.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg {\n  fill: #f3f4f5;\n}\n\n.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg,\n.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,\n.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg {\n  fill: #008FFB;\n}\n\n.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,\n.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,\n.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,\n.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg,\n.apexcharts-theme-light .apexcharts-reset-icon:hover svg,\n.apexcharts-theme-light .apexcharts-menu-icon:hover svg {\n  fill: #333;\n}\n\n.apexcharts-selection-icon,\n.apexcharts-menu-icon {\n  position: relative;\n}\n\n.apexcharts-reset-icon {\n  margin-left: 5px;\n}\n\n.apexcharts-zoom-icon,\n.apexcharts-reset-icon,\n.apexcharts-menu-icon {\n  transform: scale(0.85);\n}\n\n.apexcharts-zoomin-icon,\n.apexcharts-zoomout-icon {\n  transform: scale(0.7)\n}\n\n.apexcharts-zoomout-icon {\n  margin-right: 3px;\n}\n\n.apexcharts-pan-icon {\n  transform: scale(0.62);\n  position: relative;\n  left: 1px;\n  top: 0px;\n}\n\n.apexcharts-pan-icon svg {\n  fill: #fff;\n  stroke: #6E8192;\n  stroke-width: 2;\n}\n\n.apexcharts-pan-icon.apexcharts-selected svg {\n  stroke: #008FFB;\n}\n\n.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {\n  stroke: #333;\n}\n\n.apexcharts-toolbar {\n  position: absolute;\n  z-index: 11;\n  max-width: 176px;\n  text-align: right;\n  border-radius: 3px;\n  padding: 0px 6px 2px 6px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.apexcharts-menu {\n  background: #fff;\n  position: absolute;\n  top: 100%;\n  border: 1px solid #ddd;\n  border-radius: 3px;\n  padding: 3px;\n  right: 10px;\n  opacity: 0;\n  min-width: 110px;\n  transition: 0.15s ease all;\n  pointer-events: none;\n}\n\n.apexcharts-menu.apexcharts-menu-open {\n  opacity: 1;\n  pointer-events: all;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-menu-item {\n  padding: 6px 7px;\n  font-size: 12px;\n  cursor: pointer;\n}\n\n.apexcharts-theme-light .apexcharts-menu-item:hover {\n  background: #eee;\n}\n\n.apexcharts-theme-dark .apexcharts-menu {\n  background: rgba(0, 0, 0, 0.7);\n  color: #fff;\n}\n\n@media screen and (min-width: 768px) {\n  .apexcharts-canvas:hover .apexcharts-toolbar {\n    opacity: 1;\n  }\n}\n\n.apexcharts-datalabel.apexcharts-element-hidden {\n  opacity: 0;\n}\n\n.apexcharts-pie-label,\n.apexcharts-datalabels,\n.apexcharts-datalabel,\n.apexcharts-datalabel-label,\n.apexcharts-datalabel-value {\n  cursor: default;\n  pointer-events: none;\n}\n\n.apexcharts-pie-label-delay {\n  opacity: 0;\n  animation-name: opaque;\n  animation-duration: 0.3s;\n  animation-fill-mode: forwards;\n  animation-timing-function: ease;\n}\n\n.apexcharts-canvas .apexcharts-element-hidden {\n  opacity: 0;\n}\n\n.apexcharts-hide .apexcharts-series-points {\n  opacity: 0;\n}\n\n.apexcharts-gridline,\n.apexcharts-annotation-rect,\n.apexcharts-tooltip .apexcharts-marker,\n.apexcharts-area-series .apexcharts-area,\n.apexcharts-line,\n.apexcharts-zoom-rect,\n.apexcharts-toolbar svg,\n.apexcharts-area-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,\n.apexcharts-line-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,\n.apexcharts-radar-series path,\n.apexcharts-radar-series polygon {\n  pointer-events: none;\n}\n\n\n/* markers */\n\n.apexcharts-marker {\n  transition: 0.15s ease all;\n}\n\n@keyframes opaque {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n\n\n/* Resize generated styles */\n\n@keyframes resizeanim {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 0;\n  }\n}\n\n.resize-triggers {\n  animation: 1ms resizeanim;\n  visibility: hidden;\n  opacity: 0;\n}\n\n.resize-triggers,\n.resize-triggers>div,\n.contract-trigger:before {\n  content: " ";\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  overflow: hidden;\n}\n\n.resize-triggers>div {\n  background: #eee;\n  overflow: auto;\n}\n\n.contract-trigger:before {\n  width: 200%;\n  height: 200%;\n}'),function(){function t(t){var e=t.__resizeTriggers__,n=e.firstElementChild,i=e.lastElementChild,r=n?n.firstElementChild:null;i&&(i.scrollLeft=i.scrollWidth,i.scrollTop=i.scrollHeight),r&&(r.style.width=n.offsetWidth+1+"px",r.style.height=n.offsetHeight+1+"px"),n&&(n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight)}function e(e){var n=this;t(this),this.__resizeRAF__&&o(this.__resizeRAF__),this.__resizeRAF__=r((function(){(function(t){return t.offsetWidth!=t.__resizeLast__.width||t.offsetHeight!=t.__resizeLast__.height})(n)&&(n.__resizeLast__.width=n.offsetWidth,n.__resizeLast__.height=n.offsetHeight,n.__resizeListeners__.forEach((function(t){t.call(e)})))}))}var n,i,r=(n=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(t){return window.setTimeout(t,20)},function(t){return n(t)}),o=(i=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout,function(t){return i(t)}),s=!1,a="animationstart",l="Webkit Moz O ms".split(" "),c="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),u=document.createElement("fakeelement");if(void 0!==u.style.animationName&&(s=!0),!1===s)for(var h=0;h<l.length;h++)if(void 0!==u.style[l[h]+"AnimationName"]){a=c[h];break}window.addResizeListener=function(n,i){n.__resizeTriggers__||("static"==getComputedStyle(n).position&&(n.style.position="relative"),n.__resizeLast__={},n.__resizeListeners__=[],(n.__resizeTriggers__=document.createElement("div")).className="resize-triggers",n.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',n.appendChild(n.__resizeTriggers__),t(n),n.addEventListener("scroll",e,!0),a&&n.__resizeTriggers__.addEventListener(a,(function(e){"resizeanim"==e.animationName&&t(n)}))),n.__resizeListeners__.push(i)},window.removeResizeListener=function(t,n){t&&(t.__resizeListeners__.splice(t.__resizeListeners__.indexOf(n),1),t.__resizeListeners__.length||(t.removeEventListener("scroll",e),t.__resizeTriggers__.parentNode&&(t.__resizeTriggers__=!t.removeChild(t.__resizeTriggers__))))}}(),window.Apex={};var Lt=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w}return s(t,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","touchstart","touchmove","mouseup","touchend"],this.ctx.animations=new y(this.ctx),this.ctx.axes=new J(this.ctx),this.ctx.core=new Nt(this.ctx.el,this.ctx),this.ctx.config=new V({}),this.ctx.data=new H(this.ctx),this.ctx.grid=new G(this.ctx),this.ctx.graphics=new b(this.ctx),this.ctx.coreUtils=new S(this.ctx),this.ctx.crosshairs=new tt(this.ctx),this.ctx.events=new Z(this.ctx),this.ctx.exports=new Y(this.ctx),this.ctx.localization=new Q(this.ctx),this.ctx.options=new _,this.ctx.responsive=new et(this.ctx),this.ctx.series=new O(this.ctx),this.ctx.theme=new nt(this.ctx),this.ctx.formatters=new B(this.ctx),this.ctx.titleSubtitle=new it(this.ctx),this.ctx.legend=new ut(this.ctx),this.ctx.toolbar=new ht(this.ctx),this.ctx.dimensions=new lt(this.ctx),this.ctx.updateHelpers=new Pt(this.ctx),this.ctx.zoomPanSelection=new dt(this.ctx),this.ctx.w.globals.tooltip=new bt(this.ctx)}}]),t}(),Ot=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w}return s(t,[{key:"clear",value:function(){this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements()}},{key:"killSVG",value:function(t){t.each((function(t,e){this.removeClass("*"),this.off(),this.stop()}),!0),t.ungroup(),t.clear()}},{key:"clearDomElements",value:function(){var t=this;this.ctx.eventList.forEach((function(e){document.removeEventListener(e,t.ctx.events.documentEvent)}));var e=this.w.globals.dom;if(null!==this.ctx.el)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(e.Paper),e.Paper.remove(),e.elWrap=null,e.elGraphical=null,e.elAnnotations=null,e.elLegendWrap=null,e.baseEl=null,e.elGridRect=null,e.elGridRectMask=null,e.elGridRectMarkerMask=null,e.elDefs=null}}]),t}(),Dt=function(){function t(e,n){r(this,t),this.opts=n,this.ctx=this,this.w=new U(n).init(),this.el=e,this.w.globals.cuid=v.randomId(),this.w.globals.chartID=this.w.config.chart.id?this.w.config.chart.id:this.w.globals.cuid,new Lt(this).initModules(),this.create=v.bind(this.create,this),this.windowResizeHandler=this._windowResize.bind(this)}return s(t,[{key:"render",value:function(){var t=this;return new Promise((function(e,n){if(null!==t.el){void 0===Apex._chartInstances&&(Apex._chartInstances=[]),t.w.config.chart.id&&Apex._chartInstances.push({id:t.w.globals.chartID,group:t.w.config.chart.group,chart:t}),t.setLocale(t.w.config.chart.defaultLocale);var i=t.w.config.chart.events.beforeMount;"function"==typeof i&&i(t,t.w),t.events.fireEvent("beforeMount",[t,t.w]),window.addEventListener("resize",t.windowResizeHandler),window.addResizeListener(t.el.parentNode,t._parentResizeCallback.bind(t));var r=t.create(t.w.config.series,{});if(!r)return e(t);t.mount(r).then((function(){"function"==typeof t.w.config.chart.events.mounted&&t.w.config.chart.events.mounted(t,t.w),t.events.fireEvent("mounted",[t,t.w]),e(r)})).catch((function(t){n(t)}))}else n(new Error("Element not found"))}))}},{key:"create",value:function(t,e){var n=this.w;new Lt(this).initModules();var i=this.w.globals;if(i.noData=!1,i.animationEnded=!1,this.responsive.checkResponsiveConfig(e),n.config.xaxis.convertedCatToNumeric&&new z(n.config).convertCatToNumericXaxis(n.config,this.ctx),null===this.el)return i.animationEnded=!0,null;if(this.core.setupElements(),0===i.svgWidth)return i.animationEnded=!0,null;var r=S.checkComboSeries(t);i.comboCharts=r.comboCharts,i.comboBarCount=r.comboBarCount;var o=t.every((function(t){return t.data&&0===t.data.length}));(0===t.length||o)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(t),this.theme.init(),new I(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),i.noData&&i.collapsedSeries.length!==i.series.length&&!n.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),i.axisCharts&&(this.core.coreCalculations(),"category"!==n.config.xaxis.type&&this.formatters.setLabelFormatters()),this.formatters.heatmapLabelFormatters(),this.dimensions.plotCoords();var s=this.core.xySettings();this.grid.createGridMask();var a=this.core.plotChartType(t,s),l=new P(this);return l.bringForward(),n.config.dataLabels.background.enabled&&l.dataLabelsBackground(),this.core.shiftGraphPosition(),{elGraph:a,xyRatios:s,elInner:n.globals.dom.elGraphical,dimensions:{plot:{left:n.globals.translateX,top:n.globals.translateY,width:n.globals.gridWidth,height:n.globals.gridHeight}}}}},{key:"mount",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=this,i=n.w;return new Promise((function(r,o){if(null===n.el)return o(new Error("Not enough data to display or target element not found"));(null===e||i.globals.allSeriesCollapsed)&&n.series.handleNoData(),n.axes.drawAxis(i.config.chart.type,e.xyRatios),n.grid=new G(n);var s=n.grid.drawGrid();n.annotations=new C(n),n.annotations.drawShapeAnnos(),n.annotations.drawImageAnnos(),n.annotations.drawTextAnnos(),"back"===i.config.grid.position&&s&&i.globals.dom.elGraphical.add(s.el);var a=new W(t.ctx),l=new K(t.ctx);if(null!==s&&(a.xAxisLabelCorrections(s.xAxisTickWidth),l.setYAxisTextAlignments()),"back"===i.config.annotations.position&&(i.globals.dom.Paper.add(i.globals.dom.elAnnotations),n.annotations.drawAxesAnnotations()),e.elGraph instanceof Array)for(var c=0;c<e.elGraph.length;c++)i.globals.dom.elGraphical.add(e.elGraph[c]);else i.globals.dom.elGraphical.add(e.elGraph);if("front"===i.config.grid.position&&s&&i.globals.dom.elGraphical.add(s.el),"front"===i.config.xaxis.crosshairs.position&&n.crosshairs.drawXCrosshairs(),"front"===i.config.yaxis[0].crosshairs.position&&n.crosshairs.drawYCrosshairs(),"front"===i.config.annotations.position&&(i.globals.dom.Paper.add(i.globals.dom.elAnnotations),n.annotations.drawAxesAnnotations()),!i.globals.noData){if(i.config.tooltip.enabled&&!i.globals.noData&&n.w.globals.tooltip.drawTooltip(e.xyRatios),i.globals.axisCharts&&(i.globals.isXNumeric||i.config.xaxis.convertedCatToNumeric))(i.config.chart.zoom.enabled||i.config.chart.selection&&i.config.chart.selection.enabled||i.config.chart.pan&&i.config.chart.pan.enabled)&&n.zoomPanSelection.init({xyRatios:e.xyRatios});else{var u=i.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach((function(t){u[t]=!1}))}i.config.chart.toolbar.show&&!i.globals.allSeriesCollapsed&&n.toolbar.createToolbar()}i.globals.memory.methodsToExec.length>0&&i.globals.memory.methodsToExec.forEach((function(t){t.method(t.params,!1,t.context)})),i.globals.axisCharts||i.globals.noData||n.core.resizeNonAxisCharts(),r(n)}))}},{key:"destroy",value:function(){window.removeEventListener("resize",this.windowResizeHandler),window.removeResizeListener(this.el.parentNode,this._parentResizeCallback.bind(this));var t=this.w.config.chart.id;t&&Apex._chartInstances.forEach((function(e,n){e.id===t&&Apex._chartInstances.splice(n,1)})),new Ot(this.ctx).clear()}},{key:"updateOptions",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=this.w;return s.globals.selection=void 0,t.series&&(this.series.resetSeries(!1,!0,!1),t.series.length&&t.series[0].data&&(t.series=t.series.map((function(t,n){return e.updateHelpers._extendSeries(t,n)}))),this.updateHelpers.revertDefaultAxisMinMax()),t.xaxis&&(t=this.updateHelpers.forceXAxisUpdate(t)),t.yaxis&&(t=this.updateHelpers.forceYAxisUpdate(t)),s.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),t.theme&&(t=this.theme.updateThemeOptions(t)),this.updateHelpers._updateOptions(t,n,i,r,o)}},{key:"updateSeries",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(t,e,n)}},{key:"appendSeries",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this.w.config.series.slice();return i.push(t),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(i,e,n)}},{key:"appendData",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this;n.w.globals.dataChanged=!0,n.series.getPreviousPaths();for(var i=n.w.config.series.slice(),r=0;r<i.length;r++)if(null!=t[r])for(var o=0;o<t[r].data.length;o++)i[r].data.push(t[r].data[o]);return n.w.config.series=i,e&&(n.w.globals.initialSeries=JSON.parse(JSON.stringify(n.w.config.series))),this.update()}},{key:"update",value:function(t){var e=this;return new Promise((function(n,i){new Ot(e.ctx).clear();var r=e.create(e.w.config.series,t);if(!r)return n(e);e.mount(r).then((function(){"function"==typeof e.w.config.chart.events.updated&&e.w.config.chart.events.updated(e,e.w),e.events.fireEvent("updated",[e,e.w]),e.w.globals.isDirty=!0,n(e)})).catch((function(t){i(t)}))}))}},{key:"getSyncedCharts",value:function(){var t=this.getGroupedCharts(),e=[this];return t.length&&(e=[],t.forEach((function(t){e.push(t)}))),e}},{key:"getGroupedCharts",value:function(){var t=this;return Apex._chartInstances.filter((function(t){if(t.group)return!0})).map((function(e){return t.w.config.chart.group===e.group?e.chart:t}))}},{key:"toggleSeries",value:function(t){return this.series.toggleSeries(t)}},{key:"showSeries",value:function(t){this.series.showSeries(t)}},{key:"hideSeries",value:function(t){this.series.hideSeries(t)}},{key:"resetSeries",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.series.resetSeries(t,e)}},{key:"addEventListener",value:function(t,e){this.events.addEventListener(t,e)}},{key:"removeEventListener",value:function(t,e){this.events.removeEventListener(t,e)}},{key:"addXaxisAnnotation",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=this;n&&(i=n),i.annotations.addXaxisAnnotationExternal(t,e,i)}},{key:"addYaxisAnnotation",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=this;n&&(i=n),i.annotations.addYaxisAnnotationExternal(t,e,i)}},{key:"addPointAnnotation",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=this;n&&(i=n),i.annotations.addPointAnnotationExternal(t,e,i)}},{key:"clearAnnotations",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,e=this;t&&(e=t),e.annotations.clearAnnotations(e)}},{key:"removeAnnotation",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=this;e&&(n=e),n.annotations.removeAnnotation(n,t)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(t,e){return this.coreUtils.getSeriesTotalsXRange(t,e)}},{key:"getHighestValueInSeries",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=new $(this.ctx);return e.getMinYMaxY(t).highestY}},{key:"getLowestValueInSeries",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=new $(this.ctx);return e.getMinYMaxY(t).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(t,e){return this.updateHelpers.toggleDataPointSelection(t,e)}},{key:"zoomX",value:function(t,e){this.ctx.toolbar.zoomUpdateOptions(t,e)}},{key:"setLocale",value:function(t){this.localization.setCurrentLocaleValues(t)}},{key:"dataURI",value:function(){return new Y(this.ctx).dataURI()}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){!this.w.globals.noData&&this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var t=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout((function(){t.w.globals.resized=!0,t.w.globals.dataChanged=!1,t.ctx.update()}),150)}}],[{key:"getChartByID",value:function(t){var e=Apex._chartInstances.filter((function(e){return e.id===t}))[0];return e&&e.chart}},{key:"initOnLoad",value:function(){for(var e=document.querySelectorAll("[data-apexcharts]"),n=0;n<e.length;n++)new t(e[n],JSON.parse(e[n].getAttribute("data-options"))).render()}},{key:"exec",value:function(t,e){var n=this.getChartByID(t);if(n){n.w.globals.isExecCalled=!0;var i=null;if(-1!==n.publicMethods.indexOf(e)){for(var r=arguments.length,o=new Array(r>2?r-2:0),s=2;s<r;s++)o[s-2]=arguments[s];i=n[e].apply(n,o)}return i}}},{key:"merge",value:function(t,e){return v.extend(t,e)}}]),t}();e.a=Dt}).call(this,n("3UD+")(t))},"6Joi":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n("os0x"),o=(i=n("wj3C"))&&"object"==typeof i&&"default"in i?i.default:i,s=n("q/0M"),a=n("zVF4"),l=n("S+S0"),c=n("x7I3"),u=o.SDK_VERSION,h=function(){function t(t){this.uid=t}return t.prototype.t=function(){return null!=this.uid},t.prototype.s=function(){return this.t()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();h.UNAUTHENTICATED=new h(null),h.i=new h("google-credentials-uid"),h.h=new h("first-party-uid");var d={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},f=function(t){function e(e,n){var i=this;return(i=t.call(this,n)||this).code=e,i.message=n,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return r.__extends(e,t),e}(Error),p=function(t,e){this.user=e,this.type="OAuth",this.o={},this.o.Authorization="Bearer "+t},g=function(){function t(){this.u=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype._=function(){},t.prototype.l=function(t){this.u=t,t(h.UNAUTHENTICATED)},t.prototype.T=function(){this.u=null},t}(),v=function(){function t(t){var e=this;this.I=null,this.currentUser=h.UNAUTHENTICATED,this.R=!1,this.A=0,this.u=null,this.forceRefresh=!1,this.I=function(){e.A++,e.currentUser=e.m(),e.R=!0,e.u&&e.u(e.currentUser)},this.A=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.I):(this.I(null),t.get().then((function(t){e.auth=t,e.I&&e.auth.addAuthTokenListener(e.I)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.A,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){if(t.A!==e)throw new f(d.ABORTED,"getToken aborted due to token change.");return n?(we("string"==typeof n.accessToken),new p(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype._=function(){this.forceRefresh=!0},t.prototype.l=function(t){this.u=t,this.R&&t(this.currentUser)},t.prototype.T=function(){this.auth&&this.auth.removeAuthTokenListener(this.I),this.I=null,this.u=null},t.prototype.m=function(){var t=this.auth&&this.auth.getUid();return we(null===t||"string"==typeof t),new h(t)},t}(),m=function(){function t(t,e){this.P=t,this.V=e,this.type="FirstParty",this.user=h.h}return Object.defineProperty(t.prototype,"o",{get:function(){var t={"X-Goog-AuthUser":this.V},e=this.P.auth.g([]);return e&&(t.Authorization=e),t},enumerable:!0,configurable:!0}),t}(),y=function(){function t(t,e){this.P=t,this.V=e}return t.prototype.getToken=function(){return Promise.resolve(new m(this.P,this.V))},t.prototype.l=function(t){t(h.h)},t.prototype.T=function(){},t.prototype._=function(){},t}(),b=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new f(d.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new f(d.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new f(d.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new f(d.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.p=function(t){return this.seconds===t.seconds?Ee(this.nanoseconds,t.nanoseconds):Ee(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),x=function(){function t(t){this.timestamp=t}return t.v=function(e){return new t(e)},t.min=function(){return new t(new b(0,0))},t.prototype.S=function(t){return this.timestamp.p(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.D=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.C=function(){return this.timestamp},t}(),w=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&xe(),void 0===n?n=t.length-e:n>t.length-e&&xe(),this.segments=t,this.offset=e,this.F=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.F},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.N(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.$(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.k=function(t){return this.$(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.L=function(){return this.$(this.segments,this.offset,this.length-1)},t.prototype.M=function(){return this.segments[this.offset]},t.prototype.O=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.B=function(){return 0===this.length},t.prototype.q=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.U=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.W=function(){return this.segments.slice(this.offset,this.limit())},t.N=function(t,e){for(var n=Math.min(t.length,e.length),i=0;i<n;i++){var r=t.get(i),o=e.get(i);if(r<o)return-1;if(r>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),S=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.$=function(t,n,i){return new e(t,n,i)},e.prototype.j=function(){return this.W().join("/")},e.prototype.toString=function(){return this.j()},e.K=function(t){if(t.indexOf("//")>=0)throw new f(d.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter((function(t){return t.length>0})))},e}(w);S.G=new S([]);var A=/^[_a-zA-Z][_a-zA-Z0-9]*$/,E=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.$=function(t,n,i){return new e(t,n,i)},e.H=function(t){return A.test(t)},e.prototype.j=function(){return this.W().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.H(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.j()},e.prototype.Y=function(){return 1===this.length&&"__name__"===this.get(0)},e.J=function(){return new e(["__name__"])},e.X=function(t){for(var n=[],i="",r=0,o=function(){if(0===i.length)throw new f(d.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(i),i=""},s=!1;r<t.length;){var a=t[r];if("\\"===a){if(r+1===t.length)throw new f(d.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var l=t[r+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new f(d.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=l,r+=2}else"`"===a?(s=!s,r++):"."!==a||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new f(d.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e}(w);E.G=new E([]);var k=function(){function t(t){this.path=t}return t.Z=function(e){return new t(S.K(e).k(5))},t.prototype.tt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===S.N(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.N=function(t,e){return S.N(t.path,e.path)},t.et=function(t){return t.length%2==0},t.st=function(e){return new t(new S(e.slice()))},t}();function _(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function C(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function T(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}k.EMPTY=new k(new S([]));var I=function(){function t(t){this.it=t}return t.fromBase64String=function(e){return new t(fe.nt().atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return fe.nt().btoa(this.it)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.it)},t.prototype.rt=function(){return 2*this.it.length},t.prototype.S=function(t){return Ee(this.it,t.it)},t.prototype.isEqual=function(t){return this.it===t.it},t}();function N(t){return null==t}function P(t){return-0===t&&1/t==-1/0}function L(t){return"number"==typeof t&&Number.isInteger(t)&&!P(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function O(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function D(t){var e=H(t.mapValue.fields.__local_write_time__.timestampValue);return new b(e.seconds,e.nanos)}I.ht=new I("");var R=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function M(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?O(t)?4:10:xe()}function F(t,e){var n=M(t);if(n!==M(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return D(t).isEqual(D(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=H(t.timestampValue),i=H(e.timestampValue);return n.seconds===i.seconds&&n.nanos===i.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return X(t.bytesValue).isEqual(X(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return B(t.geoPointValue.latitude)===B(e.geoPointValue.latitude)&&B(t.geoPointValue.longitude)===B(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return B(t.integerValue)===B(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=B(t.doubleValue),i=B(e.doubleValue);return n===i?P(n)===P(i):isNaN(n)&&isNaN(i)}return!1}(t,e);case 9:return ke(t.arrayValue.values||[],e.arrayValue.values||[],F);case 10:return function(t,e){var n=t.mapValue.fields||{},i=e.mapValue.fields||{};if(_(n)!==_(i))return!1;for(var r in n)if(n.hasOwnProperty(r)&&(void 0===i[r]||!F(n[r],i[r])))return!1;return!0}(t,e);default:return xe()}}function z(t,e){return void 0!==(t.values||[]).find((function(t){return F(t,e)}))}function V(t,e){var n=M(t),i=M(e);if(n!==i)return Ee(n,i);switch(n){case 0:return 0;case 1:return Ee(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=B(t.integerValue||t.doubleValue),i=B(e.integerValue||e.doubleValue);return n<i?-1:n>i?1:n===i?0:isNaN(n)?isNaN(i)?0:-1:1}(t,e);case 3:return j(t.timestampValue,e.timestampValue);case 4:return j(D(t),D(e));case 5:return Ee(t.stringValue,e.stringValue);case 6:return function(t,e){var n=X(t),i=X(e);return n.S(i)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),i=e.split("/"),r=0;r<n.length&&r<i.length;r++){var o=Ee(n[r],i[r]);if(0!==o)return o}return Ee(n.length,i.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Ee(B(t.latitude),B(e.latitude));return 0!==n?n:Ee(B(t.longitude),B(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],i=e.values||[],r=0;r<n.length&&r<i.length;++r){var o=V(n[r],i[r]);if(o)return o}return Ee(n.length,i.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},i=Object.keys(n),r=e.fields||{},o=Object.keys(r);i.sort(),o.sort();for(var s=0;s<i.length&&s<o.length;++s){var a=Ee(i[s],o[s]);if(0!==a)return a;var l=V(n[i[s]],r[o[s]]);if(0!==l)return l}return Ee(i.length,o.length)}(t.mapValue,e.mapValue);default:throw xe()}}function j(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Ee(t,e);var n=H(t),i=H(e),r=Ee(n.seconds,i.seconds);return 0!==r?r:Ee(n.nanos,i.nanos)}function U(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=H(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?X(e.bytesValue).toBase64():"referenceValue"in e?k.Z(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",i=!0,r=0,o=e.values||[];r<o.length;r++)i?i=!1:n+=",",n+=t(o[r]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",i=!0,r=0,o=Object.keys(e.fields||{}).sort();r<o.length;r++){var s=o[r];i?i=!1:n+=",",n+=s+":"+t(e.fields[s])}return n+"}"}(e.mapValue):xe();var n}(t)}function H(t){if(we(!!t),"string"==typeof t){var e=0,n=R.exec(t);if(we(!!n),n[1]){var i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}var r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:B(t.seconds),nanos:B(t.nanos)}}function B(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function X(t){return"string"==typeof t?I.fromBase64String(t):I.fromUint8Array(t)}function Y(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.j()}}function W(t){return!!t&&"integerValue"in t}function G(t){return!!t&&"arrayValue"in t}function q(t){return!!t&&"nullValue"in t}function $(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function K(t){return!!t&&"mapValue"in t}var Z=function(){function t(){}return t.prototype.ot=function(t,e){return function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(e,t)},t.prototype.at=function(t,e){return e},t.prototype.ut=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t},t}();Z.instance=new Z;var Q=function(){function t(t){this.elements=t}return t.prototype.ot=function(t,e){return this.apply(t)},t.prototype.at=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=et(t),n=function(t){e.some((function(e){return F(e,t)}))||e.push(t)},i=0,r=this.elements;i<r.length;i++)n(r[i]);return{arrayValue:{values:e}}},t.prototype.ut=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&ke(this.elements,e.elements,F)},t}(),J=function(){function t(t){this.elements=t}return t.prototype.ot=function(t,e){return this.apply(t)},t.prototype.at=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=et(t),n=function(t){e=e.filter((function(e){return!F(e,t)}))},i=0,r=this.elements;i<r.length;i++)n(r[i]);return{arrayValue:{values:e}}},t.prototype.ut=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&ke(this.elements,e.elements,F)},t}(),tt=function(){function t(t,e){this.serializer=t,this.ct=e}return t.prototype.ot=function(t,e){var n=this.ut(t),i=this.asNumber(n)+this.asNumber(this.ct);return W(n)&&W(this.ct)?this.serializer._t(i):this.serializer.lt(i)},t.prototype.at=function(t,e){return e},t.prototype.ut=function(t){return W(e=t)||function(t){return!!t&&"doubleValue"in t}(e)?t:{integerValue:0};var e},t.prototype.isEqual=function(e){return e instanceof t&&F(this.ct,e.ct)},t.prototype.asNumber=function(t){return B(t.integerValue||t.doubleValue)},t}();function et(t){return G(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var nt=function(){function t(t){this.fields=t,t.sort(E.N)}return t.prototype.dt=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].q(t))return!0;return!1},t.prototype.isEqual=function(t){return ke(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),it=function(){function t(t,e){this.field=t,this.transform=e}return t.prototype.isEqual=function(t){return this.field.isEqual(t.field)&&this.transform.isEqual(t.transform)},t}(),rt=function(t,e){this.version=t,this.transformResults=e},ot=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.ft=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Tt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),t.prototype.Et=function(t){return void 0!==this.updateTime?t instanceof yt&&t.version.isEqual(this.updateTime):void 0===this.exists||this.exists===t instanceof yt},t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}(),st=function(){function t(){}return t.prototype.It=function(t){},t.wt=function(t){return t instanceof yt?t.version:x.min()},t}(),at=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).key=e,r.value=n,r.Rt=i,r.type=0,r}return r.__extends(e,t),e.prototype.at=function(t,e){return this.It(t),new yt(this.key,e.version,this.value,{hasCommittedMutations:!0})},e.prototype.ot=function(t,e,n){if(this.It(t),!this.Rt.Et(t))return t;var i=st.wt(t);return new yt(this.key,i,this.value,{At:!0})},e.prototype.Pt=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.value.isEqual(t.value)&&this.Rt.isEqual(t.Rt)},e}(st),lt=function(t){function e(e,n,i,r){var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.Vt=i,o.Rt=r,o.type=1,o}return r.__extends(e,t),e.prototype.at=function(t,e){if(this.It(t),!this.Rt.Et(t))return new xt(this.key,e.version);var n=this.gt(t);return new yt(this.key,e.version,n,{hasCommittedMutations:!0})},e.prototype.ot=function(t,e,n){if(this.It(t),!this.Rt.Et(t))return t;var i=st.wt(t),r=this.gt(t);return new yt(this.key,i,r,{At:!0})},e.prototype.Pt=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.Vt.isEqual(t.Vt)&&this.Rt.isEqual(t.Rt)},e.prototype.gt=function(t){var e;return e=t instanceof yt?t.data():dt.empty(),this.pt(e)},e.prototype.pt=function(t){var e=this,n=new ft(t);return this.Vt.fields.forEach((function(t){if(!t.B()){var i=e.data.field(t);null!==i?n.set(t,i):n.delete(t)}})),n.yt()},e}(st),ct=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).key=e,i.fieldTransforms=n,i.type=2,i.Rt=ot.exists(!0),i}return r.__extends(e,t),e.prototype.at=function(t,e){if(this.It(t),we(null!=e.transformResults),!this.Rt.Et(t))return new xt(this.key,e.version);var n=this.bt(t),i=this.vt(t,e.transformResults),r=e.version,o=this.St(n.data(),i);return new yt(this.key,r,o,{hasCommittedMutations:!0})},e.prototype.ot=function(t,e,n){if(this.It(t),!this.Rt.Et(t))return t;var i=this.bt(t),r=this.Dt(n,t,e),o=this.St(i.data(),r);return new yt(this.key,i.version,o,{At:!0})},e.prototype.Pt=function(t){for(var e=null,n=0,i=this.fieldTransforms;n<i.length;n++){var r=i[n],o=t instanceof yt?t.field(r.field):void 0,s=r.transform.ut(o||null);null!=s&&(e=null==e?(new ft).set(r.field,s):e.set(r.field,s))}return e?e.yt():null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&ke(this.fieldTransforms,t.fieldTransforms,(function(t,e){return t.isEqual(e)}))&&this.Rt.isEqual(t.Rt)},e.prototype.bt=function(t){return t},e.prototype.vt=function(t,e){var n=[];we(this.fieldTransforms.length===e.length);for(var i=0;i<e.length;i++){var r=this.fieldTransforms[i],o=r.transform,s=null;t instanceof yt&&(s=t.field(r.field)),n.push(o.at(s,e[i]))}return n},e.prototype.Dt=function(t,e,n){for(var i=[],r=0,o=this.fieldTransforms;r<o.length;r++){var s=o[r],a=s.transform,l=null;e instanceof yt&&(l=e.field(s.field)),null===l&&n instanceof yt&&(l=n.field(s.field)),i.push(a.ot(l,t))}return i},e.prototype.St=function(t,e){for(var n=new ft(t),i=0;i<this.fieldTransforms.length;i++)n.set(this.fieldTransforms[i].field,e[i]);return n.yt()},e}(st),ut=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).key=e,i.Rt=n,i.type=3,i}return r.__extends(e,t),e.prototype.at=function(t,e){return this.It(t),new bt(this.key,e.version,{hasCommittedMutations:!0})},e.prototype.ot=function(t,e,n){return this.It(t),this.Rt.Et(t)?new bt(this.key,x.min()):t},e.prototype.Pt=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.Rt.isEqual(t.Rt)},e}(st),ht=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).key=e,i.Rt=n,i.type=4,i}return r.__extends(e,t),e.prototype.at=function(t,e){xe()},e.prototype.ot=function(t,e,n){xe()},e.prototype.Pt=function(t){xe()},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.Rt.isEqual(t.Rt)},e}(st),dt=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.B())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!K(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.O()])||null},t.prototype.isEqual=function(t){return F(this.proto,t.proto)},t}(),ft=function(){function t(t){void 0===t&&(t=dt.empty()),this.Ct=t,this.Ft=new Map}return t.prototype.set=function(t,e){return this.Nt(t,e),this},t.prototype.delete=function(t){return this.Nt(t,null),this},t.prototype.Nt=function(t,e){for(var n=this.Ft,i=0;i<t.length-1;++i){var r=t.get(i),o=n.get(r);o instanceof Map?n=o:o&&10===M(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(r,o),n=o):(o=new Map,n.set(r,o),n=o)}n.set(t.O(),e)},t.prototype.yt=function(){var t=this.$t(E.G,this.Ft);return null!=t?new dt(t):this.Ct},t.prototype.$t=function(t,e){var n=this,i=!1,r=this.Ct.field(t),o=K(r)?Object.assign({},r.mapValue.fields):{};return e.forEach((function(e,r){if(e instanceof Map){var s=n.$t(t.child(r),e);null!=s&&(o[r]=s,i=!0)}else null!==e?(o[r]=e,i=!0):o.hasOwnProperty(r)&&(delete o[r],i=!0)})),i?{mapValue:{fields:o}}:null},t}();function pt(t){var e=[];return C(t.fields||{},(function(t,n){var i=new E([t]);if(K(n)){var r=pt(n.mapValue).fields;if(0===r.length)e.push(i);else for(var o=0,s=r;o<s.length;o++)e.push(i.child(s[o]))}else e.push(i)})),new nt(e)}var gt,vt,mt=function(t,e){this.key=t,this.version=e},yt=function(t){function e(e,n,i,r){var o=this;return(o=t.call(this,e,n)||this).kt=i,o.At=!!r.At,o.hasCommittedMutations=!!r.hasCommittedMutations,o}return r.__extends(e,t),e.prototype.field=function(t){return this.kt.field(t)},e.prototype.data=function(){return this.kt},e.prototype.Lt=function(){return this.kt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.At===t.At&&this.hasCommittedMutations===t.hasCommittedMutations&&this.kt.isEqual(t.kt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.kt.toString()+", {hasLocalMutations: "+this.At+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.At||this.hasCommittedMutations},enumerable:!0,configurable:!0}),e}(mt),bt=function(t){function e(e,n,i){var r=this;return(r=t.call(this,e,n)||this).hasCommittedMutations=!(!i||!i.hasCommittedMutations),r}return r.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(mt),xt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(mt),wt=function(){function t(t,e,n,i,r,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===r&&(r=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=i,this.limit=r,this.startAt=o,this.endAt=s,this.Mt=null}return t.prototype.canonicalId=function(){if(null===this.Mt){var t=this.path.j();null!==this.collectionGroup&&(t+="|cg:"+this.collectionGroup),t+="|f:",t+=this.filters.map((function(t){return t.canonicalId()})).join(","),t+="|ob:",t+=this.orderBy.map((function(t){return t.canonicalId()})).join(","),N(this.limit)||(t+="|l:",t+=this.limit),this.startAt&&(t+="|lb:",t+=this.startAt.canonicalId()),this.endAt&&(t+="|ub:",t+=this.endAt.canonicalId()),this.Mt=t}return this.Mt},t.prototype.toString=function(){var t=this.path.j();return null!==this.collectionGroup&&(t+=" collectionGroup="+this.collectionGroup),this.filters.length>0&&(t+=", filters: ["+this.filters.join(", ")+"]"),N(this.limit)||(t+=", limit: "+this.limit),this.orderBy.length>0&&(t+=", orderBy: ["+this.orderBy.join(", ")+"]"),this.startAt&&(t+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(t+=", endAt: "+this.endAt.canonicalId()),"Target("+t+")"},t.prototype.isEqual=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<this.orderBy.length;e++)if(!this.orderBy[e].isEqual(t.orderBy[e]))return!1;if(this.filters.length!==t.filters.length)return!1;for(var n=0;n<this.filters.length;n++)if(!this.filters[n].isEqual(t.filters[n]))return!1;return this.collectionGroup===t.collectionGroup&&!!this.path.isEqual(t.path)&&!!(null!==this.startAt?this.startAt.isEqual(t.startAt):null===t.startAt)&&(null!==this.endAt?this.endAt.isEqual(t.endAt):null===t.endAt)},t.prototype.Ot=function(){return k.et(this.path)&&null===this.collectionGroup&&0===this.filters.length},t}(),St=function(){function t(t,e,n,i,r,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===r&&(r=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.xt=n,this.filters=i,this.limit=r,this.Bt=o,this.startAt=s,this.endAt=a,this.qt=null,this.Ut=null,this.startAt&&this.Qt(this.startAt),this.endAt&&this.Qt(this.endAt)}return t.Wt=function(e){return new t(e)},Object.defineProperty(t.prototype,"orderBy",{get:function(){if(null===this.qt){this.qt=[];var t=this.jt(),e=this.Kt();if(null!==t&&null===e)t.Y()||this.qt.push(new Nt(t)),this.qt.push(new Nt(E.J(),"asc"));else{for(var n=!1,i=0,r=this.xt;i<r.length;i++){var o=r[i];this.qt.push(o),o.field.Y()&&(n=!0)}if(!n){var s=this.xt.length>0?this.xt[this.xt.length-1].dir:"asc";this.qt.push(new Nt(E.J(),s))}}}return this.qt},enumerable:!0,configurable:!0}),t.prototype.Gt=function(e){var n=this.filters.concat([e]);return new t(this.path,this.collectionGroup,this.xt.slice(),n,this.limit,this.Bt,this.startAt,this.endAt)},t.prototype.zt=function(e){var n=this.xt.concat([e]);return new t(this.path,this.collectionGroup,n,this.filters.slice(),this.limit,this.Bt,this.startAt,this.endAt)},t.prototype.Ht=function(e){return new t(this.path,this.collectionGroup,this.xt.slice(),this.filters.slice(),e,"F",this.startAt,this.endAt)},t.prototype.Yt=function(e){return new t(this.path,this.collectionGroup,this.xt.slice(),this.filters.slice(),e,"L",this.startAt,this.endAt)},t.prototype.Jt=function(e){return new t(this.path,this.collectionGroup,this.xt.slice(),this.filters.slice(),this.limit,this.Bt,e,this.endAt)},t.prototype.Xt=function(e){return new t(this.path,this.collectionGroup,this.xt.slice(),this.filters.slice(),this.limit,this.Bt,this.startAt,e)},t.prototype.Zt=function(e){return new t(e,null,this.xt.slice(),this.filters.slice(),this.limit,this.Bt,this.startAt,this.endAt)},t.prototype.te=function(){return 0===this.filters.length&&null===this.limit&&null==this.startAt&&null==this.endAt&&(0===this.xt.length||1===this.xt.length&&this.xt[0].field.Y())},t.prototype.canonicalId=function(){return this.ee().canonicalId()+"|lt:"+this.Bt},t.prototype.toString=function(){return"Query(target="+this.ee().toString()+"; limitType="+this.Bt+")"},t.prototype.isEqual=function(t){return this.ee().isEqual(t.ee())&&this.Bt===t.Bt},t.prototype.se=function(t,e){for(var n=!1,i=0,r=this.orderBy;i<r.length;i++){var o=r[i],s=o.compare(t,e);if(0!==s)return s;n=n||o.field.Y()}return 0},t.prototype.matches=function(t){return this.ie(t)&&this.ne(t)&&this.re(t)&&this.he(t)},t.prototype.oe=function(){return!N(this.limit)&&"F"===this.Bt},t.prototype.ae=function(){return!N(this.limit)&&"L"===this.Bt},t.prototype.Kt=function(){return this.xt.length>0?this.xt[0].field:null},t.prototype.jt=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof At&&n.ue())return n.field}return null},t.prototype.ce=function(t){for(var e=0,n=this.filters;e<n.length;e++){var i=n[e];if(i instanceof At&&t.indexOf(i.op)>=0)return i.op}return null},t.prototype.Ot=function(){return this.ee().Ot()},t.prototype._e=function(){return null!==this.collectionGroup},t.prototype.ee=function(){if(!this.Ut)if("F"===this.Bt)this.Ut=new wt(this.path,this.collectionGroup,this.orderBy,this.filters,this.limit,this.startAt,this.endAt);else{for(var t=[],e=0,n=this.orderBy;e<n.length;e++){var i=n[e];t.push(new Nt(i.field,"desc"===i.dir?"asc":"desc"))}var r=this.endAt?new It(this.endAt.position,!this.endAt.before):null,o=this.startAt?new It(this.startAt.position,!this.startAt.before):null;this.Ut=new wt(this.path,this.collectionGroup,t,this.filters,this.limit,r,o)}return this.Ut},t.prototype.ie=function(t){var e=t.key.path;return null!==this.collectionGroup?t.key.tt(this.collectionGroup)&&this.path.q(e):k.et(this.path)?this.path.isEqual(e):this.path.U(e)},t.prototype.ne=function(t){for(var e=0,n=this.xt;e<n.length;e++){var i=n[e];if(!i.field.Y()&&null===t.field(i.field))return!1}return!0},t.prototype.re=function(t){for(var e=0,n=this.filters;e<n.length;e++)if(!n[e].matches(t))return!1;return!0},t.prototype.he=function(t){return!(this.startAt&&!this.startAt.le(this.orderBy,t)||this.endAt&&this.endAt.le(this.orderBy,t))},t.prototype.Qt=function(t){},t}(),At=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).field=e,r.op=n,r.value=i,r}return r.__extends(e,t),e.create=function(t,n,i){if(t.Y())return"in"===n?new kt(t,i):new Et(t,n,i);if(q(i)){if("=="!==n)throw new f(d.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new e(t,n,i)}if($(i)){if("=="!==n)throw new f(d.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new e(t,n,i)}return"array-contains"===n?new _t(t,i):"in"===n?new Ct(t,i):"array-contains-any"===n?new Tt(t,i):new e(t,n,i)},e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&M(this.value)===M(e)&&this.de(V(e,this.value))},e.prototype.de=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case">":return t>0;case">=":return t>=0;default:return xe()}},e.prototype.ue=function(){return["<","<=",">",">="].indexOf(this.op)>=0},e.prototype.canonicalId=function(){return this.field.j()+this.op.toString()+U(this.value)},e.prototype.isEqual=function(t){return t instanceof e&&this.op===t.op&&this.field.isEqual(t.field)&&F(this.value,t.value)},e.prototype.toString=function(){return this.field.j()+" "+this.op+" "+U(this.value)},e}((function(){})),Et=function(t){function e(e,n,i){var r=this;return(r=t.call(this,e,n,i)||this).key=k.Z(i.referenceValue),r}return r.__extends(e,t),e.prototype.matches=function(t){var e=k.N(t.key,this.key);return this.de(e)},e}(At),kt=function(t){function e(e,n){var i=this;return(i=t.call(this,e,"in",n)||this).keys=(n.arrayValue.values||[]).map((function(t){return k.Z(t.referenceValue)})),i}return r.__extends(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(At),_t=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return r.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return G(e)&&z(e.arrayValue,this.value)},e}(At),Ct=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return r.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&z(this.value.arrayValue,e)},e}(At),Tt=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return r.__extends(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!G(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return z(e.value.arrayValue,t)}))},e}(At),It=function(){function t(t,e){this.position=t,this.before=e}return t.prototype.canonicalId=function(){return(this.before?"b":"a")+":"+this.position.map((function(t){return U(t)})).join(",")},t.prototype.le=function(t,e){for(var n=0,i=0;i<this.position.length;i++){var r=t[i],o=this.position[i];if(n=r.field.Y()?k.N(k.Z(o.referenceValue),e.key):V(o,e.field(r.field)),"desc"===r.dir&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},t.prototype.isEqual=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var e=0;e<this.position.length;e++)if(!F(this.position[e],t.position[e]))return!1;return!0},t}(),Nt=function(){function t(t,e){this.field=t,void 0===e&&(e="asc"),this.dir=e,this.fe=t.Y()}return t.prototype.compare=function(t,e){var n=this.fe?k.N(t.key,e.key):function(t,e,n){var i=e.field(t),r=n.field(t);return null!==i&&null!==r?V(i,r):xe()}(this.field,t,e);switch(this.dir){case"asc":return n;case"desc":return-1*n;default:return xe()}},t.prototype.canonicalId=function(){return this.field.j()+this.dir.toString()},t.prototype.toString=function(){return this.field.j()+" ("+this.dir+")"},t.prototype.isEqual=function(t){return this.dir===t.dir&&this.field.isEqual(t.field)},t}(),Pt=function(){function t(t,e,n,i,r,o,s){void 0===r&&(r=x.min()),void 0===o&&(o=x.min()),void 0===s&&(s=I.ht),this.target=t,this.targetId=e,this.Te=n,this.sequenceNumber=i,this.Ee=r,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.Ie=function(e){return new t(this.target,this.targetId,this.Te,e,this.Ee,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.we=function(e,n){return new t(this.target,this.targetId,this.Te,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Re=function(e){return new t(this.target,this.targetId,this.Te,this.sequenceNumber,this.Ee,e,this.resumeToken)},t}(),Lt=function(t){this.count=t};function Ot(t){switch(t){case d.OK:return xe();case d.CANCELLED:case d.UNKNOWN:case d.DEADLINE_EXCEEDED:case d.RESOURCE_EXHAUSTED:case d.INTERNAL:case d.UNAVAILABLE:case d.UNAUTHENTICATED:return!1;case d.INVALID_ARGUMENT:case d.NOT_FOUND:case d.ALREADY_EXISTS:case d.PERMISSION_DENIED:case d.FAILED_PRECONDITION:case d.ABORTED:case d.OUT_OF_RANGE:case d.UNIMPLEMENTED:case d.DATA_LOSS:return!0;default:return xe()}}function Dt(t){if(void 0===t)return ye("GRPC error has no .code"),d.UNKNOWN;switch(t){case gt.OK:return d.OK;case gt.CANCELLED:return d.CANCELLED;case gt.UNKNOWN:return d.UNKNOWN;case gt.DEADLINE_EXCEEDED:return d.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return d.RESOURCE_EXHAUSTED;case gt.INTERNAL:return d.INTERNAL;case gt.UNAVAILABLE:return d.UNAVAILABLE;case gt.UNAUTHENTICATED:return d.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return d.INVALID_ARGUMENT;case gt.NOT_FOUND:return d.NOT_FOUND;case gt.ALREADY_EXISTS:return d.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return d.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return d.FAILED_PRECONDITION;case gt.ABORTED:return d.ABORTED;case gt.OUT_OF_RANGE:return d.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return d.UNIMPLEMENTED;case gt.DATA_LOSS:return d.DATA_LOSS;default:return xe()}}(vt=gt||(gt={}))[vt.OK=0]="OK",vt[vt.CANCELLED=1]="CANCELLED",vt[vt.UNKNOWN=2]="UNKNOWN",vt[vt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vt[vt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vt[vt.NOT_FOUND=5]="NOT_FOUND",vt[vt.ALREADY_EXISTS=6]="ALREADY_EXISTS",vt[vt.PERMISSION_DENIED=7]="PERMISSION_DENIED",vt[vt.UNAUTHENTICATED=16]="UNAUTHENTICATED",vt[vt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vt[vt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vt[vt.ABORTED=10]="ABORTED",vt[vt.OUT_OF_RANGE=11]="OUT_OF_RANGE",vt[vt.UNIMPLEMENTED=12]="UNIMPLEMENTED",vt[vt.INTERNAL=13]="INTERNAL",vt[vt.UNAVAILABLE=14]="UNAVAILABLE",vt[vt.DATA_LOSS=15]="DATA_LOSS";var Rt=function(){function t(t,e){this.N=t,this.root=e||Ft.EMPTY}return t.prototype.Ae=function(e,n){return new t(this.N,this.root.Ae(e,n,this.N).me(null,null,Ft.Pe,null,null))},t.prototype.remove=function(e){return new t(this.N,this.root.remove(e,this.N).me(null,null,Ft.Pe,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.B();){var n=this.N(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.B();){var i=this.N(t,n.key);if(0===i)return e+n.left.size;i<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.B=function(){return this.root.B()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),t.prototype.Ve=function(){return this.root.Ve()},t.prototype.ge=function(){return this.root.ge()},t.prototype.pe=function(t){return this.root.pe(t)},t.prototype.forEach=function(t){this.pe((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.pe((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.ye=function(t){return this.root.ye(t)},t.prototype.be=function(){return new Mt(this.root,null,this.N,!1)},t.prototype.ve=function(t){return new Mt(this.root,t,this.N,!1)},t.prototype.Se=function(){return new Mt(this.root,null,this.N,!0)},t.prototype.De=function(t){return new Mt(this.root,t,this.N,!0)},t}(),Mt=function(){function t(t,e,n,i){this.Ce=i,this.Fe=[];for(var r=1;!t.B();)if(r=e?n(t.key,e):1,i&&(r*=-1),r<0)t=this.Ce?t.left:t.right;else{if(0===r){this.Fe.push(t);break}this.Fe.push(t),t=this.Ce?t.right:t.left}}return t.prototype.Ne=function(){var t=this.Fe.pop(),e={key:t.key,value:t.value};if(this.Ce)for(t=t.left;!t.B();)this.Fe.push(t),t=t.right;else for(t=t.right;!t.B();)this.Fe.push(t),t=t.left;return e},t.prototype.$e=function(){return this.Fe.length>0},t.prototype.ke=function(){if(0===this.Fe.length)return null;var t=this.Fe[this.Fe.length-1];return{key:t.key,value:t.value}},t}(),Ft=function(){function t(e,n,i,r,o){this.key=e,this.value=n,this.color=null!=i?i:t.RED,this.left=null!=r?r:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.me=function(e,n,i,r,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=o?o:this.right)},t.prototype.B=function(){return!1},t.prototype.pe=function(t){return this.left.pe(t)||t(this.key,this.value)||this.right.pe(t)},t.prototype.ye=function(t){return this.right.ye(t)||t(this.key,this.value)||this.left.ye(t)},t.prototype.min=function(){return this.left.B()?this:this.left.min()},t.prototype.Ve=function(){return this.min().key},t.prototype.ge=function(){return this.right.B()?this.key:this.right.ge()},t.prototype.Ae=function(t,e,n){var i=this,r=n(t,i.key);return(i=r<0?i.me(null,null,null,i.left.Ae(t,e,n),null):0===r?i.me(null,e,null,null,null):i.me(null,null,null,null,i.right.Ae(t,e,n))).Le()},t.prototype.Me=function(){if(this.left.B())return t.EMPTY;var e=this;return e.left.Oe()||e.left.left.Oe()||(e=e.xe()),(e=e.me(null,null,null,e.left.Me(),null)).Le()},t.prototype.remove=function(e,n){var i,r=this;if(n(e,r.key)<0)r.left.B()||r.left.Oe()||r.left.left.Oe()||(r=r.xe()),r=r.me(null,null,null,r.left.remove(e,n),null);else{if(r.left.Oe()&&(r=r.Be()),r.right.B()||r.right.Oe()||r.right.left.Oe()||(r=r.qe()),0===n(e,r.key)){if(r.right.B())return t.EMPTY;i=r.right.min(),r=r.me(i.key,i.value,null,null,r.right.Me())}r=r.me(null,null,null,null,r.right.remove(e,n))}return r.Le()},t.prototype.Oe=function(){return this.color},t.prototype.Le=function(){var t=this;return t.right.Oe()&&!t.left.Oe()&&(t=t.Ue()),t.left.Oe()&&t.left.left.Oe()&&(t=t.Be()),t.left.Oe()&&t.right.Oe()&&(t=t.Qe()),t},t.prototype.xe=function(){var t=this.Qe();return t.right.left.Oe()&&(t=(t=(t=t.me(null,null,null,null,t.right.Be())).Ue()).Qe()),t},t.prototype.qe=function(){var t=this.Qe();return t.left.left.Oe()&&(t=(t=t.Be()).Qe()),t},t.prototype.Ue=function(){var e=this.me(null,null,t.RED,null,this.right.left);return this.right.me(null,null,this.color,e,null)},t.prototype.Be=function(){var e=this.me(null,null,t.RED,this.left.right,null);return this.left.me(null,null,this.color,null,e)},t.prototype.Qe=function(){var t=this.left.me(null,null,!this.left.color,null,null),e=this.right.me(null,null,!this.right.color,null,null);return this.me(null,null,!this.color,t,e)},t.prototype.We=function(){var t=this.je();return Math.pow(2,t)<=this.size+1},t.prototype.je=function(){if(this.Oe()&&this.left.Oe())throw xe();if(this.right.Oe())throw xe();var t=this.left.je();if(t!==this.right.je())throw xe();return t+(this.Oe()?0:1)},t}();Ft.EMPTY=null,Ft.RED=!0,Ft.Pe=!1,Ft.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw xe()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw xe()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw xe()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw xe()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw xe()},enumerable:!0,configurable:!0}),t.prototype.me=function(t,e,n,i,r){return this},t.prototype.Ae=function(t,e,n){return new Ft(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.B=function(){return!0},t.prototype.pe=function(t){return!1},t.prototype.ye=function(t){return!1},t.prototype.Ve=function(){return null},t.prototype.ge=function(){return null},t.prototype.Oe=function(){return!1},t.prototype.We=function(){return!0},t.prototype.je=function(){return 0},t}());var zt=function(){function t(t){this.N=t,this.data=new Rt(this.N)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Ve()},t.prototype.last=function(){return this.data.ge()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.pe((function(e,n){return t(e),!1}))},t.prototype.Ke=function(t,e){for(var n=this.data.ve(t[0]);n.$e();){var i=n.Ne();if(this.N(i.key,t[1])>=0)return;e(i.key)}},t.prototype.Ge=function(t,e){var n;for(n=void 0!==e?this.data.ve(e):this.data.be();n.$e();)if(!t(n.Ne().key))return},t.prototype.ze=function(t){var e=this.data.ve(t);return e.$e()?e.Ne().key:null},t.prototype.be=function(){return new Vt(this.data.be())},t.prototype.ve=function(t){return new Vt(this.data.ve(t))},t.prototype.add=function(t){return this.me(this.data.remove(t).Ae(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.me(this.data.remove(t)):this},t.prototype.B=function(){return this.data.B()},t.prototype.He=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.be(),i=e.data.be();n.$e();){var r=n.Ne().key,o=i.Ne().key;if(0!==this.N(r,o))return!1}return!0},t.prototype.W=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.me=function(e){var n=new t(this.N);return n.data=e,n},t}(),Vt=function(){function t(t){this.Ye=t}return t.prototype.Ne=function(){return this.Ye.Ne().key},t.prototype.$e=function(){return this.Ye.$e()},t}(),jt=new Rt(k.N);function Ut(){return jt}function Ht(){return Ut()}var Bt=new Rt(k.N);function Xt(){return Bt}var Yt=new Rt(k.N);function Wt(){return Yt}var Gt=new zt(k.N);function qt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Gt,i=0,r=t;i<r.length;i++){var o=r[i];n=n.add(o)}return n}var $t=new zt(Ee);function Kt(){return $t}var Zt=function(){function t(t){this.N=t?function(e,n){return t(e,n)||k.N(e.key,n.key)}:function(t,e){return k.N(t.key,e.key)},this.Je=Xt(),this.Xe=new Rt(this.N)}return t.Ze=function(e){return new t(e.N)},t.prototype.has=function(t){return null!=this.Je.get(t)},t.prototype.get=function(t){return this.Je.get(t)},t.prototype.first=function(){return this.Xe.Ve()},t.prototype.last=function(){return this.Xe.ge()},t.prototype.B=function(){return this.Xe.B()},t.prototype.indexOf=function(t){var e=this.Je.get(t);return e?this.Xe.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Xe.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.Xe.pe((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.me(e.Je.Ae(t.key,t),e.Xe.Ae(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.me(this.Je.remove(t),this.Xe.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Xe.be(),i=e.Xe.be();n.$e();){var r=n.Ne().key,o=i.Ne().key;if(!r.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.me=function(e,n){var i=new t;return i.N=this.N,i.Je=e,i.Xe=n,i},t}(),Qt=function(){function t(){this.ts=new Rt(k.N)}return t.prototype.track=function(t){var e=t.doc.key,n=this.ts.get(e);n?0!==t.type&&3===n.type?this.ts=this.ts.Ae(e,t):3===t.type&&1!==n.type?this.ts=this.ts.Ae(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.ts=this.ts.Ae(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.ts=this.ts.Ae(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.ts=this.ts.remove(e):1===t.type&&2===n.type?this.ts=this.ts.Ae(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.ts=this.ts.Ae(e,{type:2,doc:t.doc}):xe():this.ts=this.ts.Ae(e,t)},t.prototype.es=function(){var t=[];return this.ts.pe((function(e,n){t.push(n)})),t},t}(),Jt=function(){function t(t,e,n,i,r,o,s,a){this.query=t,this.docs=e,this.ss=n,this.docChanges=i,this.ns=r,this.fromCache=o,this.rs=s,this.hs=a}return t.os=function(e,n,i,r){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,Zt.Ze(n),o,i,r,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.ns.B()},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.rs===t.rs&&this.ns.isEqual(t.ns)&&this.query.isEqual(t.query)&&this.docs.isEqual(t.docs)&&this.ss.isEqual(t.ss)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var i=0;i<e.length;i++)if(e[i].type!==n[i].type||!e[i].doc.isEqual(n[i].doc))return!1;return!0},t}(),te=function(){function t(t,e,n,i,r){this.Ee=t,this.as=e,this.us=n,this.cs=i,this._s=r}return t.ls=function(e,n){var i=new Map;return i.set(e,ee.ds(e,n)),new t(x.min(),i,Kt(),Ut(),qt())},t}(),ee=function(){function t(t,e,n,i,r){this.resumeToken=t,this.fs=e,this.Ts=n,this.Es=i,this.Is=r}return t.ds=function(e,n){return new t(I.ht,n,qt(),qt(),qt())},t}(),ne=function(t,e,n,i){this.ws=t,this.removedTargetIds=e,this.key=n,this.Rs=i},ie=function(t,e){this.targetId=t,this.As=e},re=function(t,e,n,i){void 0===n&&(n=I.ht),void 0===i&&(i=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=i},oe=function(){function t(){this.ms=0,this.Ps=le(),this.Vs=I.ht,this.gs=!1,this.ps=!0}return Object.defineProperty(t.prototype,"fs",{get:function(){return this.gs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Vs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ys",{get:function(){return 0!==this.ms},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bs",{get:function(){return this.ps},enumerable:!0,configurable:!0}),t.prototype.vs=function(t){t.rt()>0&&(this.ps=!0,this.Vs=t)},t.prototype.Ss=function(){var t=qt(),e=qt(),n=qt();return this.Ps.forEach((function(i,r){switch(r){case 0:t=t.add(i);break;case 2:e=e.add(i);break;case 1:n=n.add(i);break;default:xe()}})),new ee(this.Vs,this.gs,t,e,n)},t.prototype.Ds=function(){this.ps=!1,this.Ps=le()},t.prototype.Cs=function(t,e){this.ps=!0,this.Ps=this.Ps.Ae(t,e)},t.prototype.Fs=function(t){this.ps=!0,this.Ps=this.Ps.remove(t)},t.prototype.Ns=function(){this.ms+=1},t.prototype.$s=function(){this.ms-=1},t.prototype.ks=function(){this.ps=!0,this.gs=!0},t}(),se=function(){function t(t){this.Ls=t,this.Ms=new Map,this.Os=Ut(),this.xs=ae(),this.Bs=new zt(Ee)}return t.prototype.qs=function(t){for(var e=0,n=t.ws;e<n.length;e++){var i=n[e];t.Rs instanceof yt?this.Us(i,t.Rs):t.Rs instanceof bt&&this.Qs(i,t.key,t.Rs)}for(var r=0,o=t.removedTargetIds;r<o.length;r++)this.Qs(o[r],t.key,t.Rs)},t.prototype.Ws=function(t){var e=this;this.js(t,(function(n){var i=e.Ks(n);switch(t.state){case 0:e.Gs(n)&&i.vs(t.resumeToken);break;case 1:i.$s(),i.ys||i.Ds(),i.vs(t.resumeToken);break;case 2:i.$s(),i.ys||e.removeTarget(n);break;case 3:e.Gs(n)&&(i.ks(),i.vs(t.resumeToken));break;case 4:e.Gs(n)&&(e.zs(n),i.vs(t.resumeToken));break;default:xe()}}))},t.prototype.js=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Ms.forEach((function(t,i){n.Gs(i)&&e(i)}))},t.prototype.Hs=function(t){var e=t.targetId,n=t.As.count,i=this.Ys(e);if(i){var r=i.target;if(r.Ot())if(0===n){var o=new k(r.path);this.Qs(e,o,new bt(o,x.min()))}else we(1===n);else this.Js(e)!==n&&(this.zs(e),this.Bs=this.Bs.add(e))}},t.prototype.Xs=function(t){var e=this,n=new Map;this.Ms.forEach((function(i,r){var o=e.Ys(r);if(o){if(i.fs&&o.target.Ot()){var s=new k(o.target.path);null!==e.Os.get(s)||e.Zs(r,s)||e.Qs(r,s,new bt(s,t))}i.bs&&(n.set(r,i.Ss()),i.Ds())}}));var i=qt();this.xs.forEach((function(t,n){var r=!0;n.Ge((function(t){var n=e.Ys(t);return!n||2===n.Te||(r=!1,!1)})),r&&(i=i.add(t))}));var r=new te(t,n,this.Bs,this.Os,i);return this.Os=Ut(),this.xs=ae(),this.Bs=new zt(Ee),r},t.prototype.Us=function(t,e){if(this.Gs(t)){var n=this.Zs(t,e.key)?2:0;this.Ks(t).Cs(e.key,n),this.Os=this.Os.Ae(e.key,e),this.xs=this.xs.Ae(e.key,this.ti(e.key).add(t))}},t.prototype.Qs=function(t,e,n){if(this.Gs(t)){var i=this.Ks(t);this.Zs(t,e)?i.Cs(e,1):i.Fs(e),this.xs=this.xs.Ae(e,this.ti(e).delete(t)),n&&(this.Os=this.Os.Ae(e,n))}},t.prototype.removeTarget=function(t){this.Ms.delete(t)},t.prototype.Js=function(t){var e=this.Ks(t).Ss();return this.Ls.ei(t).size+e.Ts.size-e.Is.size},t.prototype.Ns=function(t){this.Ks(t).Ns()},t.prototype.Ks=function(t){var e=this.Ms.get(t);return e||(e=new oe,this.Ms.set(t,e)),e},t.prototype.ti=function(t){var e=this.xs.get(t);return e||(e=new zt(Ee),this.xs=this.xs.Ae(t,e)),e},t.prototype.Gs=function(t){var e=null!==this.Ys(t);return e||me("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.Ys=function(t){var e=this.Ms.get(t);return e&&e.ys?null:this.Ls.si(t)},t.prototype.zs=function(t){var e=this;this.Ms.set(t,new oe),this.Ls.ei(t).forEach((function(n){e.Qs(t,n,null)}))},t.prototype.Zs=function(t,e){return this.Ls.ei(t).has(e)},t}();function ae(){return new Rt(k.N)}function le(){return new Rt(k.N)}var ce={asc:"ASCENDING",desc:"DESCENDING"},ue={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","array-contains-any":"ARRAY_CONTAINS_ANY"},he=function(){function t(t,e){this.ii=t,this.options=e}return t.prototype.ni=function(t){var e=void 0===t.code?d.UNKNOWN:Dt(t.code);return new f(e,t.message||"")},t.prototype.ri=function(t){return this.options.hi||N(t)?t:{value:t}},t.prototype.oi=function(t){var e;return N(e="object"==typeof t?t.value:t)?null:e},t.prototype._t=function(t){return{integerValue:""+t}},t.prototype.lt=function(t){if(this.options.hi){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:P(t)?"-0":t}},t.prototype.ai=function(t){return L(t)?this._t(t):this.lt(t)},t.prototype.C=function(t){return this.options.hi?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}},t.prototype.v=function(t){var e=H(t);return new b(e.seconds,e.nanos)},t.prototype.ui=function(t){return this.options.hi?t.toBase64():t.toUint8Array()},t.prototype.ci=function(t){return this.options.hi?(we(void 0===t||"string"==typeof t),I.fromBase64String(t||"")):(we(void 0===t||t instanceof Uint8Array),I.fromUint8Array(t||new Uint8Array))},t.prototype.toVersion=function(t){return this.C(t.C())},t.prototype.fromVersion=function(t){return we(!!t),x.v(this.v(t))},t.prototype._i=function(t,e){return this.li(e||this.ii).child("documents").child(t).j()},t.prototype.di=function(t){var e=S.K(t);return we(de(e)),e},t.prototype.fi=function(t){return this._i(t.path)},t.prototype.Z=function(t){var e=this.di(t);return we(e.get(1)===this.ii.projectId),we(!e.get(3)&&!this.ii.database||e.get(3)===this.ii.database),new k(this.Ti(e))},t.prototype.Ei=function(t){return this._i(t)},t.prototype.Ii=function(t){var e=this.di(t);return 4===e.length?S.G:this.Ti(e)},Object.defineProperty(t.prototype,"wi",{get:function(){return new S(["projects",this.ii.projectId,"databases",this.ii.database]).j()},enumerable:!0,configurable:!0}),t.prototype.li=function(t){return new S(["projects",t.projectId,"databases",t.database])},t.prototype.Ti=function(t){return we(t.length>4&&"documents"===t.get(4)),t.k(5)},t.prototype.Ri=function(t,e){return{name:this.fi(t),fields:e.proto.mapValue.fields}},t.prototype.Ai=function(t){return{name:this.fi(t.key),fields:t.Lt().mapValue.fields,updateTime:this.C(t.version.C())}},t.prototype.mi=function(t,e){var n=this.Z(t.name),i=this.fromVersion(t.updateTime),r=new dt({mapValue:{fields:t.fields}});return new yt(n,i,r,{hasCommittedMutations:!!e})},t.prototype.Pi=function(t){we(!!t.found);var e=this.Z(t.found.name),n=this.fromVersion(t.found.updateTime),i=new dt({mapValue:{fields:t.found.fields}});return new yt(e,n,i,{})},t.prototype.Vi=function(t){we(!!t.missing),we(!!t.readTime);var e=this.Z(t.missing),n=this.fromVersion(t.readTime);return new bt(e,n)},t.prototype.gi=function(t){return"found"in t?this.Pi(t):"missing"in t?this.Vi(t):xe()},t.prototype.pi=function(t){var e;if("targetChange"in t){var n=this.yi(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],r=this.ci(t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&this.ni(o);e=new re(n,i,r,s||null)}else if("documentChange"in t){var a=t.documentChange,l=this.Z(a.document.name),c=this.fromVersion(a.document.updateTime),u=new dt({mapValue:{fields:a.document.fields}}),h=new yt(l,c,u,{});e=new ne(a.targetIds||[],a.removedTargetIds||[],h.key,h)}else if("documentDelete"in t){var d=t.documentDelete,f=this.Z(d.document),p=d.readTime?this.fromVersion(d.readTime):x.min(),g=new bt(f,p);e=new ne([],d.removedTargetIds||[],g.key,g)}else if("documentRemove"in t){var v=t.documentRemove,m=this.Z(v.document);e=new ne([],v.removedTargetIds||[],m,null)}else{if(!("filter"in t))return xe();var y=t.filter,b=new Lt(y.count||0);e=new ie(y.targetId,b)}return e},t.prototype.yi=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:xe()},t.prototype.bi=function(t){if(!("targetChange"in t))return x.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?x.min():e.readTime?this.fromVersion(e.readTime):x.min()},t.prototype.vi=function(t){var e,n=this;if(t instanceof at)e={update:this.Ri(t.key,t.value)};else if(t instanceof ut)e={delete:this.fi(t.key)};else if(t instanceof lt)e={update:this.Ri(t.key,t.data),updateMask:this.Si(t.Vt)};else if(t instanceof ct)e={transform:{document:this.fi(t.key),fieldTransforms:t.fieldTransforms.map((function(t){return n.Di(t)}))}};else{if(!(t instanceof ht))return xe();e={verify:this.fi(t.key)}}return t.Rt.Tt||(e.currentDocument=this.Ci(t.Rt)),e},t.prototype.Fi=function(t){var e=this,n=t.currentDocument?this.Ni(t.currentDocument):ot.ft();if(t.update){var i=this.Z(t.update.name),r=new dt({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=this.$i(t.updateMask);return new lt(i,r,o,n)}return new at(i,r,n)}if(t.delete){var s=this.Z(t.delete);return new ut(s,n)}if(t.transform){var a=this.Z(t.transform.document),l=t.transform.fieldTransforms.map((function(t){return e.ki(t)}));return we(!0===n.exists),new ct(a,l)}if(t.verify){var c=this.Z(t.verify);return new ht(c,n)}return xe()},t.prototype.Ci=function(t){return void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:xe()},t.prototype.Ni=function(t){return void 0!==t.updateTime?ot.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?ot.exists(t.exists):ot.ft()},t.prototype.Li=function(t,e){var n=this.fromVersion(t.updateTime?t.updateTime:e);n.isEqual(x.min())&&(n=this.fromVersion(e));var i=null;return t.transformResults&&t.transformResults.length>0&&(i=t.transformResults),new rt(n,i)},t.prototype.Mi=function(t,e){var n=this;return t&&t.length>0?(we(void 0!==e),t.map((function(t){return n.Li(t,e)}))):[]},t.prototype.Di=function(t){var e=t.transform;if(e instanceof Z)return{fieldPath:t.field.j(),setToServerValue:"REQUEST_TIME"};if(e instanceof Q)return{fieldPath:t.field.j(),appendMissingElements:{values:e.elements}};if(e instanceof J)return{fieldPath:t.field.j(),removeAllFromArray:{values:e.elements}};if(e instanceof tt)return{fieldPath:t.field.j(),increment:e.ct};throw xe()},t.prototype.ki=function(t){var e=null;"setToServerValue"in t?(we("REQUEST_TIME"===t.setToServerValue),e=Z.instance):"appendMissingElements"in t?e=new Q(t.appendMissingElements.values||[]):"removeAllFromArray"in t?e=new J(t.removeAllFromArray.values||[]):"increment"in t?e=new tt(this,t.increment):xe();var n=E.X(t.fieldPath);return new it(n,e)},t.prototype.Oi=function(t){return{documents:[this.Ei(t.path)]}},t.prototype.xi=function(t){return we(1===t.documents.length),St.Wt(this.Ii(t.documents[0])).ee()},t.prototype.Bi=function(t){var e={structuredQuery:{}},n=t.path;null!==t.collectionGroup?(e.parent=this.Ei(n),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=this.Ei(n.L()),e.structuredQuery.from=[{collectionId:n.O()}]);var i=this.qi(t.filters);i&&(e.structuredQuery.where=i);var r=this.Ui(t.orderBy);r&&(e.structuredQuery.orderBy=r);var o=this.ri(t.limit);return null!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt=this.Qi(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.Qi(t.endAt)),e},t.prototype.Wi=function(t){var e=this.Ii(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,r=null;if(i>0){we(1===i);var o=n.from[0];o.allDescendants?r=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=this.ji(n.where));var a=[];n.orderBy&&(a=this.Ki(n.orderBy));var l=null;n.limit&&(l=this.oi(n.limit));var c=null;n.startAt&&(c=this.Gi(n.startAt));var u=null;return n.endAt&&(u=this.Gi(n.endAt)),new St(e,r,a,s,l,"F",c,u).ee()},t.prototype.zi=function(t){var e=this.Hi(t.Te);return null==e?null:{"goog-listen-tags":e}},t.prototype.Hi=function(t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return xe()}},t.prototype.ee=function(t){var e,n=t.target;return(e=n.Ot()?{documents:this.Oi(n)}:{query:this.Bi(n)}).targetId=t.targetId,t.resumeToken.rt()>0&&(e.resumeToken=this.ui(t.resumeToken)),e},t.prototype.qi=function(t){var e=this;if(0!==t.length){var n=t.map((function(t){return t instanceof At?e.Yi(t):xe()}));return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},t.prototype.ji=function(t){var e=this;return t?void 0!==t.unaryFilter?[this.Ji(t)]:void 0!==t.fieldFilter?[this.Xi(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return e.ji(t)})).reduce((function(t,e){return t.concat(e)})):xe():[]},t.prototype.Ui=function(t){var e=this;if(0!==t.length)return t.map((function(t){return e.Zi(t)}))},t.prototype.Ki=function(t){var e=this;return t.map((function(t){return e.tn(t)}))},t.prototype.Qi=function(t){return{before:t.before,values:t.position}},t.prototype.Gi=function(t){return new It(t.values||[],!!t.before)},t.prototype.en=function(t){return ce[t]},t.prototype.sn=function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}},t.prototype.nn=function(t){return ue[t]},t.prototype.rn=function(t){switch(t){case"EQUAL":return"==";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return xe()}},t.prototype.hn=function(t){return{fieldPath:t.j()}},t.prototype.on=function(t){return E.X(t.fieldPath)},t.prototype.Zi=function(t){return{field:this.hn(t.field),direction:this.en(t.dir)}},t.prototype.tn=function(t){return new Nt(this.on(t.field),this.sn(t.direction))},t.prototype.Xi=function(t){return At.create(this.on(t.fieldFilter.field),this.rn(t.fieldFilter.op),t.fieldFilter.value)},t.prototype.Yi=function(t){if("=="===t.op){if($(t.value))return{unaryFilter:{field:this.hn(t.field),op:"IS_NAN"}};if(q(t.value))return{unaryFilter:{field:this.hn(t.field),op:"IS_NULL"}}}return{fieldFilter:{field:this.hn(t.field),op:this.nn(t.op),value:t.value}}},t.prototype.Ji=function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=this.on(t.unaryFilter.field);return At.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=this.on(t.unaryFilter.field);return At.create(n,"==",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return xe()}},t.prototype.Si=function(t){var e=[];return t.fields.forEach((function(t){return e.push(t.j())})),{fieldPaths:e}},t.prototype.$i=function(t){return new nt((t.fieldPaths||[]).map((function(t){return E.X(t)})))},t}();function de(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var fe=function(){function t(){}return t.an=function(e){t.platform&&xe(),t.platform=e},t.nt=function(){return t.platform||xe(),t.platform},t}(),pe=new s.Logger("@firebase/firestore");function ge(){return pe.logLevel}function ve(t){pe.logLevel=t}function me(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(pe.logLevel<=s.LogLevel.DEBUG){var i=e.map(be);pe.debug.apply(pe,r.__spreadArrays(["Firestore ("+u+"): "+t],i))}}function ye(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(pe.logLevel<=s.LogLevel.ERROR){var i=e.map(be);pe.error.apply(pe,r.__spreadArrays(["Firestore ("+u+"): "+t],i))}}function be(t){if("string"==typeof t)return t;var e=fe.nt();try{return e.un(t)}catch(e){return t}}function xe(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE ("+u+") INTERNAL ASSERTION FAILED: "+t;throw ye(e),new Error(e)}function we(t,e){t||xe()}function Se(t,e){return t}var Ae=function(){function t(){}return t.cn=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var i=fe.nt()._n(40),r=0;r<i.length;++r)n.length<20&&i[r]<e&&(n+=t.charAt(i[r]%t.length));return n},t}();function Ee(t,e){return t<e?-1:t>e?1:0}function ke(t,e,n){return t.length===e.length&&t.every((function(t,i){return n(t,e[i])}))}function _e(t){return t+"\0"}var Ce=function(t,e,n,i,r){this.ii=t,this.persistenceKey=e,this.host=n,this.ssl=i,this.forceLongPolling=r},Te=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"ln",{get:function(){return"(default)"===this.database},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.S=function(t){return Ee(this.projectId,t.projectId)||Ee(this.database,t.database)},t}(),Ie=function(){function t(t){this.dn=t,this.fn={}}return t.prototype.get=function(t){var e=this.dn(t),n=this.fn[e];if(void 0!==n)for(var i=0,r=n;i<r.length;i++){var o=r[i],s=o[1];if(o[0].isEqual(t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.dn(t),i=this.fn[n];if(void 0!==i){for(var r=0;r<i.length;r++)if(i[r][0].isEqual(t))return void(i[r]=[t,e]);i.push([t,e])}else this.fn[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.dn(t),n=this.fn[e];if(void 0===n)return!1;for(var i=0;i<n.length;i++)if(n[i][0].isEqual(t))return 1===n.length?delete this.fn[e]:n.splice(i,1),!0;return!1},t.prototype.forEach=function(t){C(this.fn,(function(e,n){for(var i=0,r=n;i<r.length;i++){var o=r[i];t(o[0],o[1])}}))},t.prototype.B=function(){return T(this.fn)},t}(),Ne=function(){function t(t,e,n,i){this.batchId=t,this.Tn=e,this.baseMutations=n,this.mutations=i}return t.prototype.at=function(t,e,n){for(var i=n.En,r=0;r<this.mutations.length;r++){var o=this.mutations[r];o.key.isEqual(t)&&(e=o.at(e,i[r]))}return e},t.prototype.ot=function(t,e){for(var n=0,i=this.baseMutations;n<i.length;n++){var r=i[n];r.key.isEqual(t)&&(e=r.ot(e,e,this.Tn))}for(var o=e,s=0,a=this.mutations;s<a.length;s++){var l=a[s];l.key.isEqual(t)&&(e=l.ot(e,o,this.Tn))}return e},t.prototype.In=function(t){var e=this,n=t;return this.mutations.forEach((function(i){var r=e.ot(i.key,t.get(i.key));r&&(n=n.Ae(i.key,r))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),qt())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&ke(this.mutations,t.mutations,(function(t,e){return t.isEqual(e)}))&&ke(this.baseMutations,t.baseMutations,(function(t,e){return t.isEqual(e)}))},t}(),Pe=function(){function t(t,e,n,i,r){this.batch=t,this.wn=e,this.En=n,this.streamToken=i,this.Rn=r}return t.from=function(e,n,i,r){we(e.mutations.length===i.length);for(var o=Wt(),s=e.mutations,a=0;a<s.length;a++)o=o.Ae(s[a].key,i[a].version);return new t(e,n,i,r,o)},t}(),Le=function(){function t(t){var e=this;this.An=null,this.mn=null,this.result=void 0,this.error=void 0,this.Pn=!1,this.Vn=!1,t((function(t){e.Pn=!0,e.result=t,e.An&&e.An(t)}),(function(t){e.Pn=!0,e.error=t,e.mn&&e.mn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var i=this;return this.Vn&&xe(),this.Vn=!0,this.Pn?this.error?this.gn(n,this.error):this.pn(e,this.result):new t((function(t,r){i.An=function(n){i.pn(e,n).next(t,r)},i.mn=function(e){i.gn(n,e).next(t,r)}}))},t.prototype.yn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.bn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.pn=function(e,n){return e?this.bn((function(){return e(n)})):t.resolve(n)},t.prototype.gn=function(e,n){return e?this.bn((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.vn=function(e){return new t((function(t,n){var i=0,r=0,o=!1;e.forEach((function(e){++i,e.next((function(){++r,o&&r===i&&t()}),(function(t){return n(t)}))})),o=!0,r===i&&t()}))},t.Sn=function(e){for(var n=t.resolve(!1),i=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},r=0,o=e;r<o.length;r++)i(o[r]);return n},t.forEach=function(t,e){var n=this,i=[];return t.forEach((function(t,r){i.push(e.call(n,t,r))})),this.vn(i)},t}(),Oe=function(){function t(){this.Dn=new Ie((function(t){return t.toString()})),this.Cn=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return this.Fn},set:function(t){this.Fn=t},enumerable:!0,configurable:!0}),t.prototype.Nn=function(t,e){this.$n(),this.readTime=e,this.Dn.set(t.key,t)},t.prototype.kn=function(t,e){this.$n(),e&&(this.readTime=e),this.Dn.set(t,null)},t.prototype.Ln=function(t,e){this.$n();var n=this.Dn.get(e);return void 0!==n?Le.resolve(n):this.Mn(t,e)},t.prototype.getEntries=function(t,e){return this.On(t,e)},t.prototype.apply=function(t){return this.$n(),this.Cn=!0,this.xn(t)},t.prototype.$n=function(){},t}(),De="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Re=function(){function t(){this.Bn=[]}return t.prototype.qn=function(t){this.Bn.push(t)},t.prototype.Un=function(){this.Bn.forEach((function(t){return t()}))},t}(),Me=function(){function t(t,e,n){this.Qn=t,this.Wn=e,this.jn=n}return t.prototype.Kn=function(t,e){var n=this;return this.Wn.Gn(t,e).next((function(i){return n.zn(t,e,i)}))},t.prototype.zn=function(t,e,n){return this.Qn.Ln(t,e).next((function(t){for(var i=0,r=n;i<r.length;i++)t=r[i].ot(e,t);return t}))},t.prototype.Hn=function(t,e,n){var i=Ht();return e.forEach((function(t,e){for(var r=0,o=n;r<o.length;r++)e=o[r].ot(t,e);i=i.Ae(t,e)})),i},t.prototype.Yn=function(t,e){var n=this;return this.Qn.getEntries(t,e).next((function(e){return n.Jn(t,e)}))},t.prototype.Jn=function(t,e){var n=this;return this.Wn.Xn(t,e).next((function(i){var r=n.Hn(t,e,i),o=Ut();return r.forEach((function(t,e){e||(e=new bt(t,x.min())),o=o.Ae(t,e)})),o}))},t.prototype.Zn=function(t,e,n){return e.Ot()?this.tr(t,e.path):e._e()?this.er(t,e,n):this.sr(t,e,n)},t.prototype.tr=function(t,e){return this.Kn(t,new k(e)).next((function(t){var e=Xt();return t instanceof yt&&(e=e.Ae(t.key,t)),e}))},t.prototype.er=function(t,e,n){var i=this,r=e.collectionGroup,o=Xt();return this.jn.ir(t,r).next((function(s){return Le.forEach(s,(function(s){var a=e.Zt(s.child(r));return i.sr(t,a,n).next((function(t){t.forEach((function(t,e){o=o.Ae(t,e)}))}))})).next((function(){return o}))}))},t.prototype.sr=function(t,e,n){var i,r,o=this;return this.Qn.Zn(t,e,n).next((function(n){return i=n,o.Wn.nr(t,e)})).next((function(e){return o.rr(t,r=e,i).next((function(t){i=t;for(var e=0,n=r;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var l=a[s],c=l.key,u=i.get(c),h=l.ot(u,u,o.Tn);i=h instanceof yt?i.Ae(c,h):i.remove(c)}}))})).next((function(){return i.forEach((function(t,n){e.matches(n)||(i=i.remove(t))})),i}))},t.prototype.rr=function(t,e,n){for(var i=qt(),r=0,o=e;r<o.length;r++)for(var s=0,a=o[r].mutations;s<a.length;s++){var l=a[s];l instanceof lt&&null===n.get(l.key)&&(i=i.add(l.key))}var c=n;return this.Qn.getEntries(t,i).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof yt&&(c=c.Ae(t,e))})),c}))},t}(),Fe=function(){function t(t,e,n,i){this.targetId=t,this.fromCache=e,this.hr=n,this.or=i}return t.ar=function(e,n){for(var i=qt(),r=qt(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}}return new t(e,n.fromCache,i,r)},t}(),ze=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.ur=function(t){return n.cr(t)},this._r=function(t){return e.lr(t)})}return t.prototype.cr=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this._r&&this._r(t),t},t}();ze.dr=-1;var Ve=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},je=function(){function t(t,e,n,i,r){void 0===n&&(n=1e3),void 0===i&&(i=1.5),void 0===r&&(r=6e4),this.Tr=t,this.Er=e,this.Ir=n,this.wr=i,this.Rr=r,this.Ar=0,this.mr=null,this.Pr=Date.now(),this.reset()}return t.prototype.reset=function(){this.Ar=0},t.prototype.Vr=function(){this.Ar=this.Rr},t.prototype.gr=function(t){var e=this;this.cancel();var n=Math.floor(this.Ar+this.pr()),i=Math.max(0,Date.now()-this.Pr),r=Math.max(0,n-i);r>0&&me("ExponentialBackoff","Backing off for "+r+" ms (base delay: "+this.Ar+" ms, delay with jitter: "+n+" ms, last attempt: "+i+" ms ago)"),this.mr=this.Tr.yr(this.Er,r,(function(){return e.Pr=Date.now(),t()})),this.Ar*=this.wr,this.Ar<this.Ir&&(this.Ar=this.Ir),this.Ar>this.Rr&&(this.Ar=this.Rr)},t.prototype.br=function(){null!==this.mr&&(this.mr.vr(),this.mr=null)},t.prototype.cancel=function(){null!==this.mr&&(this.mr.cancel(),this.mr=null)},t.prototype.pr=function(){return(Math.random()-.5)*this.Ar},t}();function Ue(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Be(e)),e=He(t.get(n),e);return Be(e)}function He(t,e){for(var n=e,i=t.length,r=0;r<i;r++){var o=t.charAt(r);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Be(t){return t+"\x01\x01"}function Xe(t){var e=t.length;if(we(e>=2),2===e)return we("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),S.G;for(var n=e-2,i=[],r="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&xe(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),l=void 0;0===r.length?l=a:(l=r+=a,r=""),i.push(l);break;case"\x10":r+=t.substring(o,s),r+="\0";break;case"\x11":r+=t.substring(o,s+1);break;default:xe()}o=s+2}return new S(i)}var Ye=function(){function t(){this.Sr=new We}return t.prototype.Dr=function(t,e){return this.Sr.add(e),Le.resolve()},t.prototype.ir=function(t,e){return Le.resolve(this.Sr.getEntries(e))},t}(),We=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.O(),n=t.L(),i=this.index[e]||new zt(S.N),r=!i.has(n);return this.index[e]=i.add(n),r},t.prototype.has=function(t){var e=t.O(),n=t.L(),i=this.index[e];return i&&i.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new zt(S.N)).W()},t}(),Ge=function(){function t(){this.Cr=new We}return t.prototype.Dr=function(t,e){var n=this;if(!this.Cr.has(e)){var i=e.O(),r=e.L();t.qn((function(){n.Cr.add(e)}));var o={collectionId:i,parent:Ue(r)};return qe(t).put(o)}return Le.resolve()},t.prototype.ir=function(t,e){var n=[],i=IDBKeyRange.bound([e,""],[_e(e),""],!1,!0);return qe(t).Fr(i).next((function(t){for(var i=0,r=t;i<r.length;i++){var o=r[i];if(o.collectionId!==e)break;n.push(Xe(o.parent))}return n}))},t}();function qe(t){return cn.Nr(t,Dn.store)}var $e=function(){function t(t,e){this.serializer=t,this.jn=e}return t.prototype.Nn=function(t,e,n){return Ze(t).put(Qe(e),n)},t.prototype.kn=function(t,e){var n=Ze(t),i=Qe(e);return n.delete(i)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(i){return i.byteSize+=e,n.$r(t,i)}))},t.prototype.Ln=function(t,e){var n=this;return Ze(t).get(Qe(e)).next((function(t){return n.kr(t)}))},t.prototype.Lr=function(t,e){var n=this;return Ze(t).get(Qe(e)).next((function(t){var e=n.kr(t);return e?{Mr:e,size:Je(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,i=Ht();return this.Or(t,e,(function(t,e){var r=n.kr(e);i=i.Ae(t,r)})).next((function(){return i}))},t.prototype.xr=function(t,e){var n=this,i=Ht(),r=new Rt(k.N);return this.Or(t,e,(function(t,e){var o=n.kr(e);o?(i=i.Ae(t,o),r=r.Ae(t,Je(e))):(i=i.Ae(t,null),r=r.Ae(t,0))})).next((function(){return{Br:i,qr:r}}))},t.prototype.Or=function(t,e,n){if(e.B())return Le.resolve();var i=IDBKeyRange.bound(e.first().path.W(),e.last().path.W()),r=e.be(),o=r.Ne();return Ze(t).Ur({range:i},(function(t,e,i){for(var s=k.st(t);o&&k.N(o,s)<0;)n(o,null),o=r.Ne();o&&o.isEqual(s)&&(n(o,e),o=r.$e()?r.Ne():null),o?i.Qr(o.path.W()):i.done()})).next((function(){for(;o;)n(o,null),o=r.$e()?r.Ne():null}))},t.prototype.Zn=function(t,e,n){var i=this,r=Xt(),o=e.path.length+1,s={};if(n.isEqual(x.min())){var a=e.path.W();s.range=IDBKeyRange.lowerBound(a)}else{var l=e.path.W(),c=this.serializer.Wr(n);s.range=IDBKeyRange.lowerBound([l,c],!0),s.index=In.collectionReadTimeIndex}return Ze(t).Ur(s,(function(t,n,s){if(t.length===o){var a=i.serializer.jr(n);e.path.q(a.key.path)?a instanceof yt&&e.matches(a)&&(r=r.Ae(a.key,a)):s.done()}})).next((function(){return r}))},t.prototype.Kr=function(t,e){var n=this,i=Ut(),r=this.serializer.Wr(e),o=Ze(t),s=IDBKeyRange.lowerBound(r,!0);return o.Ur({index:In.readTimeIndex,range:s},(function(t,e){var o=n.serializer.jr(e);i=i.Ae(o.key,o),r=e.readTime})).next((function(){return{Gr:i,readTime:n.serializer.zr(r)}}))},t.prototype.Hr=function(t){var e=this,n=Ze(t),i=x.min();return n.Ur({index:In.readTimeIndex,reverse:!0},(function(t,n,r){n.readTime&&(i=e.serializer.zr(n.readTime)),r.done()})).next((function(){return i}))},t.prototype.Yr=function(e){return new t.Jr(this,!!e&&e.Xr)},t.prototype.Zr=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Ke(t).get(Nn.key).next((function(t){return we(!!t),t}))},t.prototype.$r=function(t,e){return Ke(t).put(Nn.key,e)},t.prototype.kr=function(t){if(t){var e=this.serializer.jr(t);return e instanceof bt&&e.version.isEqual(x.min())?null:e}return null},t}();function Ke(t){return cn.Nr(t,Nn.store)}function Ze(t){return cn.Nr(t,In.store)}function Qe(t){return t.path.W()}function Je(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw xe();e=t.noDocument}return JSON.stringify(e).length}$e.Jr=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).th=e,i.Xr=n,i.eh=new Ie((function(t){return t.toString()})),i}return r.__extends(e,t),e.prototype.xn=function(t){var e=this,n=[],i=0,r=new zt((function(t,e){return Ee(t.j(),e.j())}));return this.Dn.forEach((function(o,s){var a=e.eh.get(o);if(s){var l=e.th.serializer.sh(s,e.readTime);r=r.add(o.path.L());var c=Je(l);i+=c-a,n.push(e.th.Nn(t,o,l))}else if(i-=a,e.Xr){var u=e.th.serializer.sh(new bt(o,x.min()),e.readTime);n.push(e.th.Nn(t,o,u))}else n.push(e.th.kn(t,o))})),r.forEach((function(i){n.push(e.th.jn.Dr(t,i))})),n.push(this.th.updateMetadata(t,i)),Le.vn(n)},e.prototype.Mn=function(t,e){var n=this;return this.th.Lr(t,e).next((function(t){return null===t?(n.eh.set(e,0),null):(n.eh.set(e,t.size),t.Mr)}))},e.prototype.On=function(t,e){var n=this;return this.th.xr(t,e).next((function(t){var e=t.Br;return t.qr.forEach((function(t,e){n.eh.set(t,e)})),e}))},e}(Oe);var tn=function(){function t(t){this.ih=t}return t.prototype.next=function(){return this.ih+=2,this.ih},t.nh=function(){return new t(0)},t.rh=function(){return new t(-1)},t}(),en=function(){function t(t,e){this.hh=t,this.serializer=e}return t.prototype.oh=function(t){var e=this;return this.ah(t).next((function(n){var i=new tn(n.highestTargetId);return n.highestTargetId=i.next(),e.uh(t,n).next((function(){return n.highestTargetId}))}))},t.prototype._h=function(t){return this.ah(t).next((function(t){return x.v(new b(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.lh=function(t){return this.ah(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.dh=function(t,e,n){var i=this;return this.ah(t).next((function(r){return r.highestListenSequenceNumber=e,n&&(r.lastRemoteSnapshotVersion=n.C()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),i.uh(t,r)}))},t.prototype.fh=function(t,e){var n=this;return this.Th(t,e).next((function(){return n.ah(t).next((function(i){return i.targetCount+=1,n.Eh(e,i),n.uh(t,i)}))}))},t.prototype.Ih=function(t,e){return this.Th(t,e)},t.prototype.wh=function(t,e){var n=this;return this.Rh(t,e.targetId).next((function(){return nn(t).delete(e.targetId)})).next((function(){return n.ah(t)})).next((function(e){return we(e.targetCount>0),e.targetCount-=1,n.uh(t,e)}))},t.prototype.Ah=function(t,e,n){var i=this,r=0,o=[];return nn(t).Ur((function(s,a){var l=i.serializer.mh(a);l.sequenceNumber<=e&&null===n.get(l.targetId)&&(r++,o.push(i.wh(t,l)))})).next((function(){return Le.vn(o)})).next((function(){return r}))},t.prototype.js=function(t,e){var n=this;return nn(t).Ur((function(t,i){var r=n.serializer.mh(i);e(r)}))},t.prototype.ah=function(t){return rn(t).get(On.key).next((function(t){return we(null!==t),t}))},t.prototype.uh=function(t,e){return rn(t).put(On.key,e)},t.prototype.Th=function(t,e){return nn(t).put(this.serializer.Ph(e))},t.prototype.Eh=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.Vh=function(t){return this.ah(t).next((function(t){return t.targetCount}))},t.prototype.gh=function(t,e){var n=this,i=e.canonicalId(),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]),o=null;return nn(t).Ur({range:r,index:Pn.queryTargetsIndexName},(function(t,i,r){var s=n.serializer.mh(i);e.isEqual(s.target)&&(o=s,r.done())})).next((function(){return o}))},t.prototype.ph=function(t,e,n){var i=this,r=[],o=on(t);return e.forEach((function(e){var s=Ue(e.path);r.push(o.put(new Ln(n,s))),r.push(i.hh.yh(t,n,e))})),Le.vn(r)},t.prototype.bh=function(t,e,n){var i=this,r=on(t);return Le.forEach(e,(function(e){var o=Ue(e.path);return Le.vn([r.delete([n,o]),i.hh.vh(t,n,e)])}))},t.prototype.Rh=function(t,e){var n=on(t),i=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(i)},t.prototype.Sh=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),i=on(t),r=qt();return i.Ur({range:n,Dh:!0},(function(t,e,n){var i=Xe(t[1]),o=new k(i);r=r.add(o)})).next((function(){return r}))},t.prototype.Ch=function(t,e){var n=Ue(e.path),i=IDBKeyRange.bound([n],[_e(n)],!1,!0),r=0;return on(t).Ur({index:Ln.documentTargetsIndex,Dh:!0,range:i},(function(t,e,n){0!==t[0]&&(r++,n.done())})).next((function(){return r>0}))},t.prototype.si=function(t,e){var n=this;return nn(t).get(e).next((function(t){return t?n.serializer.mh(t):null}))},t}();function nn(t){return cn.Nr(t,Pn.store)}function rn(t){return cn.Nr(t,On.store)}function on(t){return cn.Nr(t,Ln.store)}var sn=function(){function t(t){this.Fh=t}return t.prototype.jr=function(t){if(t.document)return this.Fh.mi(t.document,!!t.hasCommittedMutations);if(t.noDocument){var e=k.st(t.noDocument.path),n=this.Nh(t.noDocument.readTime);return new bt(e,n,{hasCommittedMutations:!!t.hasCommittedMutations})}if(t.unknownDocument){var i=k.st(t.unknownDocument.path),r=this.Nh(t.unknownDocument.version);return new xt(i,r)}return xe()},t.prototype.sh=function(t,e){var n=this.Wr(e),i=t.key.path.L().W();if(t instanceof yt){var r=this.Fh.Ai(t);return new In(null,null,r,t.hasCommittedMutations,n,i)}if(t instanceof bt){var o=t.key.path.W(),s=this.$h(t.version),a=t.hasCommittedMutations;return new In(null,new Cn(o,s),null,a,n,i)}if(t instanceof xt){var l=t.key.path.W(),c=this.$h(t.version);return new In(new Tn(l,c),null,null,!0,n,i)}return xe()},t.prototype.Wr=function(t){var e=t.C();return[e.seconds,e.nanoseconds]},t.prototype.zr=function(t){var e=new b(t[0],t[1]);return x.v(e)},t.prototype.$h=function(t){var e=t.C();return new Sn(e.seconds,e.nanoseconds)},t.prototype.Nh=function(t){var e=new b(t.seconds,t.nanoseconds);return x.v(e)},t.prototype.kh=function(t,e){var n=this,i=e.baseMutations.map((function(t){return n.Fh.vi(t)})),r=e.mutations.map((function(t){return n.Fh.vi(t)}));return new kn(t,e.batchId,e.Tn.toMillis(),i,r)},t.prototype.Lh=function(t){var e=this,n=(t.baseMutations||[]).map((function(t){return e.Fh.Fi(t)})),i=t.mutations.map((function(t){return e.Fh.Fi(t)})),r=b.fromMillis(t.localWriteTimeMs);return new Ne(t.batchId,r,n,i)},t.prototype.mh=function(t){var e,n=this.Nh(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?this.Nh(t.lastLimboFreeSnapshotVersion):x.min();return e=void 0!==t.query.documents?this.Fh.xi(t.query):this.Fh.Wi(t.query),new Pt(e,t.targetId,0,t.lastListenSequenceNumber,n,i,I.fromBase64String(t.resumeToken))},t.prototype.Ph=function(t){var e,n=this.$h(t.Ee),i=this.$h(t.lastLimboFreeSnapshotVersion);e=t.target.Ot()?this.Fh.Oi(t.target):this.Fh.Bi(t.target);var r=t.resumeToken.toBase64();return new Pn(t.targetId,t.target.canonicalId(),n,r,t.sequenceNumber,i,e)},t}(),an="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs.",ln=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).Mh=e,i.Oh=n,i}return r.__extends(e,t),e}(Re),cn=function(){function t(e,n,i,r,o,s,a,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=i,this.Tr=s,this.xh=l,this.Bh=null,this.qh=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Uh=null,this.inForeground=!1,this.Qh=null,this.Wh=null,this.jh=Number.NEGATIVE_INFINITY,this.Kh=function(t){return Promise.resolve()},!t.Gh())throw new f(d.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");if(this.hh=new dn(this,o),this.zh=n+t.Hh,this.serializer=new sn(a),this.document=r.document,this.Yh=new en(this.hh,this.serializer),this.jn=new Ge,this.Qn=new $e(this.serializer,this.jn),!r.window||!r.window.localStorage)throw new f(d.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=r.window,this.Jh=this.window.localStorage}return t.Nr=function(t,e){if(t instanceof ln)return zn.Nr(t.Mh,e);throw xe()},t.prototype.start=function(){var t=this;return zn.Xh(this.zh,xn,new wn(this.serializer)).then((function(e){return t.Zh=e,t.to()})).then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new f(d.FAILED_PRECONDITION,an);return t.eo(),t.so(),t.io(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.Yh.lh(e)}))})).then((function(e){t.Bh=new ze(e,t.xh)})).then((function(){t.qh=!0})).catch((function(e){return t.Zh&&t.Zh.close(),Promise.reject(e)}))},t.prototype.no=function(t){var e=this;return this.Kh=function(n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.ro?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.ho=function(t){var e=this;this.Zh.oo((function(n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.ao=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Tr.uo((function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.ro?[4,this.to()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.to=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return hn(e).put(new Mn(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.co(e).next((function(e){e||(t.isPrimary=!1,t.Tr.uo((function(){return t.Kh(!1)})))}))})).next((function(){return t._o(e)})).next((function(n){return t.isPrimary&&!n?t.lo(e).next((function(){return!1})):!!n&&t.do(e).next((function(){return!0}))}))})).catch((function(e){if(!t.allowTabSynchronization){if(Un(e))return me("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;throw e}return me("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Tr.uo((function(){return t.Kh(e)})),t.isPrimary=e}))},t.prototype.co=function(t){var e=this;return un(t).get(An.key).next((function(t){return Le.resolve(e.fo(t))}))},t.prototype.To=function(t){return hn(t).delete(this.clientId)},t.prototype.Eo=function(){return r.__awaiter(this,void 0,void 0,(function(){var e=this;return r.__generator(this,(function(n){switch(n.label){case 0:return!this.isPrimary||this.Io(this.jh,18e5)?[3,2]:(this.jh=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(n){var i=t.Nr(n,Mn.store);return i.Fr().next((function(t){var n=e.wo(t,18e5),r=t.filter((function(t){return-1===n.indexOf(t)}));return Le.forEach(r,(function(t){return i.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:n.sent().forEach((function(t){e.window.localStorage.removeItem(e.Ro(t.clientId))})),n.label=2;case 2:return[2]}}))}))},t.prototype.io=function(){var t=this;this.Wh=this.Tr.yr("client_metadata_refresh",4e3,(function(){return t.to().then((function(){return t.Eo()})).then((function(){return t.io()}))}))},t.prototype.fo=function(t){return!!t&&t.ownerId===this.clientId},t.prototype._o=function(t){var e=this;return un(t).get(An.key).next((function(n){if(null!==n&&e.Io(n.leaseTimestampMs,5e3)&&!e.Ao(n.ownerId)){if(e.fo(n)&&e.networkEnabled)return!0;if(!e.fo(n)){if(!n.allowTabSynchronization)throw new f(d.FAILED_PRECONDITION,an);return!1}}return!(!e.networkEnabled||!e.inForeground)||hn(t).Fr().next((function(t){return void 0===e.wo(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&me("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.mo=function(){return r.__awaiter(this,void 0,void 0,(function(){var t=this;return r.__generator(this,(function(e){switch(e.label){case 0:return this.qh=!1,this.Po(),this.Wh&&(this.Wh.cancel(),this.Wh=null),this.Vo(),this.po(),[4,this.runTransaction("shutdown","readwrite",(function(e){return t.lo(e).next((function(){return t.To(e)}))})).catch((function(t){me("IndexedDbPersistence","Proceeding with shutdown despite failure: ",t)}))];case 1:return e.sent(),this.Zh.close(),this.yo(),[2]}}))}))},t.prototype.wo=function(t,e){var n=this;return t.filter((function(t){return n.Io(t.updateTimeMs,e)&&!n.Ao(t.clientId)}))},t.prototype.bo=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return hn(e).Fr().next((function(e){return t.wo(e,18e5).map((function(t){return t.clientId}))}))}))},t.clearPersistence=function(e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){switch(n.label){case 0:return t.Gh()?[4,zn.delete(e+t.Hh)]:[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))},Object.defineProperty(t.prototype,"ro",{get:function(){return this.qh},enumerable:!0,configurable:!0}),t.prototype.vo=function(t){return pn.So(t,this.serializer,this.jn,this.hh)},t.prototype.Do=function(){return this.Yh},t.prototype.Co=function(){return this.Qn},t.prototype.Fo=function(){return this.jn},t.prototype.runTransaction=function(t,e,n){var i,r=this;return me("IndexedDbPersistence","Starting transaction:",t),this.Zh.runTransaction("readonly"===e?"readonly":"readwrite",Fn,(function(o){return i=new ln(o,r.Bh?r.Bh.next():ze.dr),"readwrite-primary"===e?r.co(i).next((function(t){return!!t||r._o(i)})).next((function(e){if(!e)throw ye("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Tr.uo((function(){return r.Kh(!1)})),new f(d.FAILED_PRECONDITION,De);return n(i)})).next((function(t){return r.do(i).next((function(){return t}))})):r.No(i).next((function(){return n(i)}))})).then((function(t){return i.Un(),t}))},t.prototype.No=function(t){var e=this;return un(t).get(An.key).next((function(t){if(null!==t&&e.Io(t.leaseTimestampMs,5e3)&&!e.Ao(t.ownerId)&&!e.fo(t)&&(!e.allowTabSynchronization||!t.allowTabSynchronization))throw new f(d.FAILED_PRECONDITION,an)}))},t.prototype.do=function(t){var e=new An(this.clientId,this.allowTabSynchronization,Date.now());return un(t).put(An.key,e)},t.Gh=function(){return zn.Gh()},t.$o=function(t){var e=t.ii.projectId;return t.ii.ln||(e+="."+t.ii.database),"firestore/"+t.persistenceKey+"/"+e+"/"},t.prototype.lo=function(t){var e=this,n=un(t);return n.get(An.key).next((function(t){return e.fo(t)?(me("IndexedDbPersistence","Releasing primary lease."),n.delete(An.key)):Le.resolve()}))},t.prototype.Io=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(ye("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.eo=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Qh=function(){t.Tr.uo((function(){return t.inForeground="visible"===t.document.visibilityState,t.to()}))},this.document.addEventListener("visibilitychange",this.Qh),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Vo=function(){this.Qh&&(this.document.removeEventListener("visibilitychange",this.Qh),this.Qh=null)},t.prototype.so=function(){var t=this;"function"==typeof this.window.addEventListener&&(this.Uh=function(){t.Po(),t.Tr.uo((function(){return t.mo()}))},this.window.addEventListener("unload",this.Uh))},t.prototype.po=function(){this.Uh&&(this.window.removeEventListener("unload",this.Uh),this.Uh=null)},t.prototype.Ao=function(t){try{var e=null!==this.Jh.getItem(this.Ro(t));return me("IndexedDbPersistence","Client '"+t+"' "+(e?"is":"is not")+" zombied in LocalStorage"),e}catch(t){return ye("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.Po=function(){try{this.Jh.setItem(this.Ro(this.clientId),String(Date.now()))}catch(t){ye("Failed to set zombie client id.",t)}},t.prototype.yo=function(){try{this.Jh.removeItem(this.Ro(this.clientId))}catch(t){}},t.prototype.Ro=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function un(t){return cn.Nr(t,An.store)}function hn(t){return cn.Nr(t,Mn.store)}cn.Hh="main";var dn=function(){function t(t,e){this.db=t,this.ko=new ei(this,e)}return t.prototype.Lo=function(t){var e=this.Mo(t);return this.db.Do().Vh(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Mo=function(t){var e=0;return this.Oo(t,(function(t){e++})).next((function(){return e}))},t.prototype.js=function(t,e){return this.db.Do().js(t,e)},t.prototype.Oo=function(t,e){return this.xo(t,(function(t,n){return e(n)}))},t.prototype.yh=function(t,e,n){return fn(t,n)},t.prototype.vh=function(t,e,n){return fn(t,n)},t.prototype.Ah=function(t,e,n){return this.db.Do().Ah(t,e,n)},t.prototype.Bo=function(t,e){return fn(t,e)},t.prototype.qo=function(t,e){return function(t,e){var n=!1;return bn(t).Uo((function(i){return gn(t,i,e).next((function(t){return t&&(n=!0),Le.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.Qo=function(t,e){var n=this,i=this.db.Co().Yr(),r=[],o=0;return this.xo(t,(function(s,a){if(a<=e){var l=n.qo(t,s).next((function(e){if(!e)return o++,i.Ln(t,s).next((function(){return i.kn(s),on(t).delete([0,Ue(s.path)])}))}));r.push(l)}})).next((function(){return Le.vn(r)})).next((function(){return i.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.Ie(t.Oh);return this.db.Do().Ih(t,n)},t.prototype.Wo=function(t,e){return fn(t,e)},t.prototype.xo=function(t,e){var n,i=on(t),r=ze.dr;return i.Ur({index:Ln.documentTargetsIndex},(function(t,i){var o=i.path,s=i.sequenceNumber;0===t[0]?(r!==ze.dr&&e(new k(Xe(n)),r),r=s,n=o):r=ze.dr})).next((function(){r!==ze.dr&&e(new k(Xe(n)),r)}))},t.prototype.jo=function(t){return this.db.Co().Zr(t)},t}();function fn(t,e){return on(t).put(function(t,e){return new Ln(0,Ue(t.path),e)}(e,t.Oh))}var pn=function(){function t(t,e,n,i){this.userId=t,this.serializer=e,this.jn=n,this.hh=i,this.Ko={}}return t.So=function(e,n,i,r){return we(""!==e.uid),new t(e.t()?e.uid:"",n,i,r)},t.prototype.Go=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return mn(t).Ur({index:kn.userMutationsIndex,range:n},(function(t,n,i){e=!1,i.done()})).next((function(){return e}))},t.prototype.zo=function(t,e,n){return this.Ho(t).next((function(e){return e.lastStreamToken=n.toBase64(),bn(t).put(e)}))},t.prototype.Yo=function(t){return this.Ho(t).next((function(t){return I.fromBase64String(t.lastStreamToken)}))},t.prototype.Jo=function(t,e){return this.Ho(t).next((function(n){return n.lastStreamToken=e.toBase64(),bn(t).put(n)}))},t.prototype.Xo=function(t,e,n,i){var r=this,o=yn(t),s=mn(t);return s.add({}).next((function(a){we("number"==typeof a);for(var l=new Ne(a,e,n,i),c=r.serializer.kh(r.userId,l),u=[],h=new zt((function(t,e){return Ee(t.j(),e.j())})),d=0,f=i;d<f.length;d++){var p=f[d],g=_n.key(r.userId,p.key.path,a);h=h.add(p.key.path.L()),u.push(s.put(c)),u.push(o.put(g,_n.PLACEHOLDER))}return h.forEach((function(e){u.push(r.jn.Dr(t,e))})),t.qn((function(){r.Ko[a]=l.keys()})),Le.vn(u).next((function(){return l}))}))},t.prototype.Zo=function(t,e){var n=this;return mn(t).get(e).next((function(t){return t?(we(t.userId===n.userId),n.serializer.Lh(t)):null}))},t.prototype.ta=function(t,e){var n=this;return this.Ko[e]?Le.resolve(this.Ko[e]):this.Zo(t,e).next((function(t){if(t){var i=t.keys();return n.Ko[e]=i,i}return null}))},t.prototype.ea=function(t,e){var n=this,i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]),o=null;return mn(t).Ur({index:kn.userMutationsIndex,range:r},(function(t,e,r){e.userId===n.userId&&(we(e.batchId>=i),o=n.serializer.Lh(e)),r.done()})).next((function(){return o}))},t.prototype.sa=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return mn(t).Ur({index:kn.userMutationsIndex,range:e,reverse:!0},(function(t,e,i){n=e.batchId,i.done()})).next((function(){return n}))},t.prototype.ia=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return mn(t).Fr(kn.userMutationsIndex,n).next((function(t){return t.map((function(t){return e.serializer.Lh(t)}))}))},t.prototype.Gn=function(t,e){var n=this,i=_n.prefixForPath(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return yn(t).Ur({range:r},(function(i,r,s){var a=i[0],l=i[2],c=Xe(i[1]);if(a===n.userId&&e.path.isEqual(c))return mn(t).get(l).next((function(t){if(!t)throw xe();we(t.userId===n.userId),o.push(n.serializer.Lh(t))}));s.done()})).next((function(){return o}))},t.prototype.Xn=function(t,e){var n=this,i=new zt(Ee),r=[];return e.forEach((function(e){var o=_n.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=yn(t).Ur({range:s},(function(t,r,o){var s=t[0],a=t[2],l=Xe(t[1]);s===n.userId&&e.path.isEqual(l)?i=i.add(a):o.done()}));r.push(a)})),Le.vn(r).next((function(){return n.na(t,i)}))},t.prototype.nr=function(t,e){var n=this,i=e.path,r=i.length+1,o=_n.prefixForPath(this.userId,i),s=IDBKeyRange.lowerBound(o),a=new zt(Ee);return yn(t).Ur({range:s},(function(t,e,o){var s=t[0],l=t[2],c=Xe(t[1]);s===n.userId&&i.q(c)?c.length===r&&(a=a.add(l)):o.done()})).next((function(){return n.na(t,a)}))},t.prototype.na=function(t,e){var n=this,i=[],r=[];return e.forEach((function(e){r.push(mn(t).get(e).next((function(t){if(null===t)throw xe();we(t.userId===n.userId),i.push(n.serializer.Lh(t))})))})),Le.vn(r).next((function(){return i}))},t.prototype.ra=function(t,e){var n=this;return vn(t.Mh,this.userId,e).next((function(i){return t.qn((function(){n.ha(e.batchId)})),Le.forEach(i,(function(e){return n.hh.Bo(t,e)}))}))},t.prototype.ha=function(t){delete this.Ko[t]},t.prototype.oa=function(t){var e=this;return this.Go(t).next((function(n){if(!n)return Le.resolve();var i=IDBKeyRange.lowerBound(_n.prefixForUser(e.userId)),r=[];return yn(t).Ur({range:i},(function(t,n,i){if(t[0]===e.userId){var o=Xe(t[1]);r.push(o)}else i.done()})).next((function(){we(0===r.length)}))}))},t.prototype.Ch=function(t,e){return gn(t,this.userId,e)},t.prototype.Ho=function(t){var e=this;return bn(t).get(this.userId).next((function(t){return t||new En(e.userId,-1,"")}))},t}();function gn(t,e,n){var i=_n.prefixForPath(e,n.path),r=i[1],o=IDBKeyRange.lowerBound(i),s=!1;return yn(t).Ur({range:o,Dh:!0},(function(t,n,i){t[0]===e&&t[1]===r&&(s=!0),i.done()})).next((function(){return s}))}function vn(t,e,n){var i=t.store(kn.store),r=t.store(_n.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,l=i.Ur({range:s},(function(t,e,n){return a++,n.delete()}));o.push(l.next((function(){we(1===a)})));for(var c=[],u=0,h=n.mutations;u<h.length;u++){var d=h[u],f=_n.key(e,d.key.path,n.batchId);o.push(r.delete(f)),c.push(d.key)}return Le.vn(o).next((function(){return c}))}function mn(t){return cn.Nr(t,kn.store)}function yn(t){return cn.Nr(t,_n.store)}function bn(t){return cn.Nr(t,En.store)}var xn=10,wn=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,i){var r=this;we(n<i&&n>=0&&i<=xn);var o=new Hn(e);n<1&&i>=1&&(function(t){t.createObjectStore(An.store)}(t),function(t){t.createObjectStore(En.store,{keyPath:En.keyPath}),t.createObjectStore(kn.store,{keyPath:kn.keyPath,autoIncrement:!0}).createIndex(kn.userMutationsIndex,kn.userMutationsKeyPath,{unique:!0}),t.createObjectStore(_n.store)}(t),Rn(t),function(t){t.createObjectStore(In.store)}(t));var s=Le.resolve();return n<3&&i>=3&&(0!==n&&(function(t){t.deleteObjectStore(Ln.store),t.deleteObjectStore(Pn.store),t.deleteObjectStore(On.store)}(t),Rn(t)),s=s.next((function(){return function(t){var e=t.store(On.store),n=new On(0,0,x.min().C(),0);return e.put(On.key,n)}(o)}))),n<4&&i>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(kn.store).Fr().next((function(n){t.deleteObjectStore(kn.store),t.createObjectStore(kn.store,{keyPath:kn.keyPath,autoIncrement:!0}).createIndex(kn.userMutationsIndex,kn.userMutationsKeyPath,{unique:!0});var i=e.store(kn.store),r=n.map((function(t){return i.put(t)}));return Le.vn(r)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(Mn.store,{keyPath:Mn.keyPath})}(t)}))),n<5&&i>=5&&(s=s.next((function(){return r.removeAcknowledgedMutations(o)}))),n<6&&i>=6&&(s=s.next((function(){return function(t){t.createObjectStore(Nn.store)}(t),r.addDocumentGlobal(o)}))),n<7&&i>=7&&(s=s.next((function(){return r.ensureSequenceNumbers(o)}))),n<8&&i>=8&&(s=s.next((function(){return r.createCollectionParentIndex(t,o)}))),n<9&&i>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(In.store);e.createIndex(In.readTimeIndex,In.readTimeIndexPath,{unique:!1}),e.createIndex(In.collectionReadTimeIndex,In.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&i>=10&&(s=s.next((function(){return r.rewriteCanonicalIds(o)}))),s},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(In.store).Ur((function(t,n){e+=Je(n)})).next((function(){var n=new Nn(e);return t.store(Nn.store).put(Nn.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(En.store),i=t.store(kn.store);return n.Fr().next((function(n){return Le.forEach(n,(function(n){var r=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return i.Fr(kn.userMutationsIndex,r).next((function(i){return Le.forEach(i,(function(i){we(i.userId===n.userId);var r=e.serializer.Lh(i);return vn(t,n.userId,r).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(Ln.store),n=t.store(In.store);return t.store(On.store).get(On.key).next((function(t){var i=[];return n.Ur((function(n,r){var o=new S(n),s=function(t){return[0,Ue(t)]}(o);i.push(e.get(s).next((function(n){return n?Le.resolve():function(n){return e.put(new Ln(0,Ue(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return Le.vn(i)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(Dn.store,{keyPath:Dn.keyPath});var n=e.store(Dn.store),i=new We,r=function(t){if(i.add(t)){var e=t.O(),r=t.L();return n.put({collectionId:e,parent:Ue(r)})}};return e.store(In.store).Ur({Dh:!0},(function(t,e){var n=new S(t);return r(n.L())})).next((function(){return e.store(_n.store).Ur({Dh:!0},(function(t,e){var n=Xe(t[1]);return r(n.L())}))}))},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(Pn.store);return n.Ur((function(t,i){var r=e.serializer.mh(i),o=e.serializer.Ph(r);return n.put(o)}))},t}(),Sn=function(t,e){this.seconds=t,this.nanoseconds=e},An=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};An.store="owner",An.key="owner";var En=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};En.store="mutationQueues",En.keyPath="userId";var kn=function(t,e,n,i,r){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=i,this.mutations=r};kn.store="mutations",kn.keyPath="batchId",kn.userMutationsIndex="userMutationsIndex",kn.userMutationsKeyPath=["userId","batchId"];var _n=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Ue(e)]},t.key=function(t,e,n){return[t,Ue(e),n]},t}();_n.store="documentMutations",_n.PLACEHOLDER=new _n;var Cn=function(t,e){this.path=t,this.readTime=e},Tn=function(t,e){this.path=t,this.version=e},In=function(t,e,n,i,r,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=i,this.readTime=r,this.parentPath=o};In.store="remoteDocuments",In.readTimeIndex="readTimeIndex",In.readTimeIndexPath="readTime",In.collectionReadTimeIndex="collectionReadTimeIndex",In.collectionReadTimeIndexPath=["parentPath","readTime"];var Nn=function(t){this.byteSize=t};Nn.store="remoteDocumentGlobal",Nn.key="remoteDocumentGlobalKey";var Pn=function(t,e,n,i,r,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=i,this.lastListenSequenceNumber=r,this.lastLimboFreeSnapshotVersion=o,this.query=s};Pn.store="targets",Pn.keyPath="targetId",Pn.queryTargetsIndexName="queryTargetsIndex",Pn.queryTargetsKeyPath=["canonicalId","targetId"];var Ln=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Ln.store="targetDocuments",Ln.keyPath=["targetId","path"],Ln.documentTargetsIndex="documentTargetsIndex",Ln.documentTargetsKeyPath=["path","targetId"];var On=function(t,e,n,i){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=i};On.key="targetGlobalKey",On.store="targetGlobal";var Dn=function(t,e){this.collectionId=t,this.parent=e};function Rn(t){t.createObjectStore(Ln.store,{keyPath:Ln.keyPath}).createIndex(Ln.documentTargetsIndex,Ln.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Pn.store,{keyPath:Pn.keyPath}).createIndex(Pn.queryTargetsIndexName,Pn.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(On.store)}Dn.store="collectionParents",Dn.keyPath=["collectionId","parent"];var Mn=function(t,e,n,i){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=i};Mn.store="clientMetadata",Mn.keyPath="clientId";var Fn=r.__spreadArrays(r.__spreadArrays(r.__spreadArrays([En.store,kn.store,_n.store,In.store,Pn.store,An.store,On.store,Ln.store],[Mn.store]),[Nn.store]),[Dn.store]),zn=function(){function t(e){this.db=e,12.2===t.aa(a.getUA())&&ye("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.Xh=function(e,n,i){return me("SimpleDb","Opening database:",e),new Le((function(r,o){var s=window.indexedDB.open(e,n);s.onsuccess=function(e){r(new t(e.target.result))},s.onblocked=function(){o(new f(d.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=function(t){var e=t.target.error;o("VersionError"===e.name?new f(d.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):e)},s.onupgradeneeded=function(t){me("SimpleDb",'Database "'+e+'" requires upgrade from version:',t.oldVersion),i.createOrUpgrade(t.target.result,s.transaction,t.oldVersion,xn).next((function(){me("SimpleDb","Database upgrade to version "+xn+" complete")}))}})).yn()},t.delete=function(t){return me("SimpleDb","Removing database:",t),Xn(window.indexedDB.deleteDatabase(t)).yn()},t.Gh=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(t.ua())return!0;if(void 0===window.navigator)return!1;var e=a.getUA(),n=t.aa(e),i=0<n&&n<10,r=t.ca(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)},t.ua=function(){var t;return"undefined"!=typeof __PRIVATE_process&&"YES"===(null===(t=__PRIVATE_process.__PRIVATE_env)||void 0===t?void 0:t._a)},t.Nr=function(t,e){return t.store(e)},t.aa=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.ca=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.oo=function(t){this.db.onversionchange=function(e){return t(e)}},t.prototype.runTransaction=function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,s,a,l;return r.__generator(this,(function(c){switch(c.label){case 0:i="readonly"===t,o=0,s=function(){var t,s,l,c,u;return r.__generator(this,(function(r){switch(r.label){case 0:++o,t=Hn.open(a.db,i?"readonly":"readwrite",e),r.label=1;case 1:return r.trys.push([1,3,,4]),s=n(t).catch((function(e){return t.abort(e),Le.reject(e)})).yn(),l={},s.catch((function(){})),[4,t.la];case 2:return[2,(l.value=(r.sent(),s),l)];case 3:return me("SimpleDb","Transaction failed with error: %s. Retrying: %s.",(c=r.sent()).message,u="FirebaseError"!==c.name&&o<3),u?[3,4]:[2,{value:Promise.reject(c)}];case 4:return[2]}}))},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(l=c.sent()))return[2,l.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db.close()},t}(),Vn=function(){function t(t){this.da=t,this.fa=!1,this.Ta=null}return Object.defineProperty(t.prototype,"Pn",{get:function(){return this.fa},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Ea",{get:function(){return this.Ta},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.da=t},enumerable:!0,configurable:!0}),t.prototype.done=function(){this.fa=!0},t.prototype.Qr=function(t){this.Ta=t},t.prototype.delete=function(){return Xn(this.da.delete())},t}(),jn=function(t){function e(e){var n=this;return(n=t.call(this,d.UNAVAILABLE,"IndexedDB transaction failed: "+e)||this).name="IndexedDbTransactionError",n}return r.__extends(e,t),e}(f);function Un(t){return"IndexedDbTransactionError"===t.name}var Hn=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.Ia=new Ve,this.transaction.oncomplete=function(){e.Ia.resolve()},this.transaction.onabort=function(){t.error?e.Ia.reject(new jn(t.error)):e.Ia.resolve()},this.transaction.onerror=function(t){var n=Wn(t.target.error);e.Ia.reject(new jn(n))}}return t.open=function(e,n,i){return new t(e.transaction(i,n))},Object.defineProperty(t.prototype,"la",{get:function(){return this.Ia.promise},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){t&&this.Ia.reject(t),this.aborted||(me("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Bn(e)},t}(),Bn=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(me("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(me("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Xn(n)},t.prototype.add=function(t){return me("SimpleDb","ADD",this.store.name,t,t),Xn(this.store.add(t))},t.prototype.get=function(t){var e=this;return Xn(this.store.get(t)).next((function(n){return void 0===n&&(n=null),me("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return me("SimpleDb","DELETE",this.store.name,t),Xn(this.store.delete(t))},t.prototype.count=function(){return me("SimpleDb","COUNT",this.store.name),Xn(this.store.count())},t.prototype.Fr=function(t,e){var n=this.cursor(this.options(t,e)),i=[];return this.wa(n,(function(t,e){i.push(e)})).next((function(){return i}))},t.prototype.Ra=function(t,e){me("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Dh=!1;var i=this.cursor(n);return this.wa(i,(function(t,e,n){return n.delete()}))},t.prototype.Ur=function(t,e){var n;e?n=t:(n={},e=t);var i=this.cursor(n);return this.wa(i,e)},t.prototype.Uo=function(t){var e=this.cursor({});return new Le((function(n,i){e.onerror=function(t){var e=Wn(t.target.error);i(e)},e.onsuccess=function(e){var i=e.target.result;i?t(i.primaryKey,i.value).next((function(t){t?i.continue():n()})):n()}}))},t.prototype.wa=function(t,e){var n=[];return new Le((function(i,r){t.onerror=function(t){r(t.target.error)},t.onsuccess=function(t){var r=t.target.result;if(r){var o=new Vn(r),s=e(r.primaryKey,r.value,o);if(s instanceof Le){var a=s.catch((function(t){return o.done(),Le.reject(t)}));n.push(a)}o.Pn?i():null===o.Ea?r.continue():r.continue(o.Ea)}else i()}})).next((function(){return Le.vn(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Dh?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Xn(t){return new Le((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Wn(t.target.error);n(e)}}))}var Yn=!1;function Wn(t){var e=zn.aa(a.getUA());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var i=new f("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Yn||(Yn=!0,setTimeout((function(){throw i}),0)),i}}return t}var Gn=function(){function t(t,e,n,i,r){this.Aa=t,this.Er=e,this.ma=n,this.op=i,this.Pa=r,this.Va=new Ve,this.then=this.Va.promise.then.bind(this.Va.promise),this.Va.promise.catch((function(t){}))}return t.ga=function(e,n,i,r,o){var s=new t(e,n,Date.now()+i,r,o);return s.start(i),s},t.prototype.start=function(t){var e=this;this.pa=setTimeout((function(){return e.ya()}),t)},t.prototype.vr=function(){return this.ya()},t.prototype.cancel=function(t){null!==this.pa&&(this.clearTimeout(),this.Va.reject(new f(d.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.ya=function(){var t=this;this.Aa.uo((function(){return null!==t.pa?(t.clearTimeout(),t.op().then((function(e){return t.Va.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.pa&&(this.Pa(this),clearTimeout(this.pa),this.pa=null)},t}(),qn=function(){function t(){var t=this;this.ba=Promise.resolve(),this.va=Promise.resolve(),this.Sa=!1,this.Da=[],this.Ca=null,this.Fa=!1,this.Na=[],this.$a=new je(this,"async_queue_retry"),this.ka=function(){return t.$a.br()};var e=fe.nt().window;e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.ka)}return Object.defineProperty(t.prototype,"La",{get:function(){return this.Sa},enumerable:!0,configurable:!0}),t.prototype.uo=function(t){this.enqueue(t)},t.prototype.Ma=function(t){this.Oa(),this.xa(t)},t.prototype.Ba=function(t){return this.Oa(),this.xa(t)},t.prototype.qa=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:return this.Oa(),this.Sa?[3,2]:(this.Sa=!0,(e=fe.nt().window)&&e.removeEventListener("visibilitychange",this.ka),[4,this.Ba(t)]);case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},t.prototype.enqueue=function(t){return this.Oa(),this.Sa?new Promise((function(t){})):this.xa(t)},t.prototype.Ua=function(t){var e=this;this.Oa(),this.Sa||(this.va=this.va.then((function(){var n=new Ve,i=function(){return r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,t()];case 1:return r.sent(),n.resolve(),this.$a.reset(),[3,3];case 2:if(!Un(e=r.sent()))throw n.resolve(),e;return me("AsyncQueue","Operation failed with retryable error: "+e),this.$a.gr(i),[3,3];case 3:return[2]}}))}))};return e.uo(i),n.promise})))},t.prototype.xa=function(t){var e=this,n=this.ba.then((function(){return e.Fa=!0,t().catch((function(t){throw e.Ca=t,e.Fa=!1,ye("INTERNAL UNHANDLED ERROR: ",t.stack||t.message||""),t})).then((function(t){return e.Fa=!1,t}))}));return this.ba=n,n},t.prototype.yr=function(t,e,n){var i=this;this.Oa(),this.Na.indexOf(t)>-1&&(e=0);var r=Gn.ga(this,t,e,n,(function(t){return i.Qa(t)}));return this.Da.push(r),r},t.prototype.Oa=function(){this.Ca&&xe()},t.prototype.Wa=function(){},t.prototype.ja=function(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(e){switch(e.label){case 0:return[4,t=this.ba];case 1:e.sent(),e.label=2;case 2:if(t!==this.ba)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Ka=function(t){for(var e=0,n=this.Da;e<n.length;e++)if(n[e].Er===t)return!0;return!1},t.prototype.Ga=function(t){var e=this;return this.ja().then((function(){e.Da.sort((function(t,e){return t.ma-e.ma}));for(var n=0,i=e.Da;n<i.length;n++){var r=i[n];if(r.vr(),"all"!==t&&r.Er===t)break}return e.ja()}))},t.prototype.za=function(t){this.Na.push(t)},t.prototype.Qa=function(t){var e=this.Da.indexOf(t);this.Da.splice(e,1)},t}();function $n(t,e){if(ye("AsyncQueue",e+": "+t),Un(t))return new f(d.UNAVAILABLE,e+": "+t);throw t}function Kn(t,e){var n=t[1],i=e[1],r=Ee(t[0],e[0]);return 0===r?Ee(n,i):r}var Zn=function(){function t(t){this.Ha=t,this.buffer=new zt(Kn),this.Ya=0}return t.prototype.Ja=function(){return++this.Ya},t.prototype.Xa=function(t){var e=[t,this.Ja()];if(this.buffer.size<this.Ha)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Kn(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),t}(),Qn={Za:!1,tu:0,eu:0,su:0},Jn=function(){function t(t,e,n){this.iu=t,this.nu=e,this.ru=n}return t.hu=function(e){return new t(e,t.ou,t.au)},t}();Jn.uu=-1,Jn.cu=1048576,Jn._u=41943040,Jn.ou=10,Jn.au=1e3,Jn.lu=new Jn(Jn._u,Jn.ou,Jn.au),Jn.DISABLED=new Jn(Jn.uu,0,0);var ti=function(){function t(t,e){this.ko=t,this.Aa=e,this.du=!1,this.fu=null}return t.prototype.start=function(t){this.ko.Tu.iu!==Jn.uu&&this.Eu(t)},t.prototype.stop=function(){this.fu&&(this.fu.cancel(),this.fu=null)},Object.defineProperty(t.prototype,"ro",{get:function(){return null!==this.fu},enumerable:!0,configurable:!0}),t.prototype.Eu=function(t){var e=this,n=this.du?3e5:6e4;me("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.fu=this.Aa.yr("lru_garbage_collection",n,(function(){return r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:this.fu=null,this.du=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Iu(this.ko)];case 2:return n.sent(),[3,7];case 3:return Un(e=n.sent())?(me("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,ri(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Eu(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),ei=function(){function t(t,e){this.wu=t,this.Tu=e}return t.prototype.Ru=function(t,e){return this.wu.Lo(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.Au=function(t,e){var n=this;if(0===e)return Le.resolve(ze.dr);var i=new Zn(e);return this.wu.js(t,(function(t){return i.Xa(t.sequenceNumber)})).next((function(){return n.wu.Oo(t,(function(t){return i.Xa(t)}))})).next((function(){return i.maxValue}))},t.prototype.Ah=function(t,e,n){return this.wu.Ah(t,e,n)},t.prototype.Qo=function(t,e){return this.wu.Qo(t,e)},t.prototype.mu=function(t,e){var n=this;return this.Tu.iu===Jn.uu?(me("LruGarbageCollector","Garbage collection skipped; disabled"),Le.resolve(Qn)):this.jo(t).next((function(i){return i<n.Tu.iu?(me("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+n.Tu.iu),Qn):n.Pu(t,e)}))},t.prototype.jo=function(t){return this.wu.jo(t)},t.prototype.Pu=function(t,e){var n,i,r,o,a,l,c,u=this,h=Date.now();return this.Ru(t,this.Tu.nu).next((function(e){return e>u.Tu.ru?(me("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+u.Tu.ru+" from "+e),i=u.Tu.ru):i=e,o=Date.now(),u.Au(t,i)})).next((function(i){return n=i,a=Date.now(),u.Ah(t,n,e)})).next((function(e){return r=e,l=Date.now(),u.Qo(t,n)})).next((function(t){return c=Date.now(),ge()<=s.LogLevel.DEBUG&&me("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-h)+"ms\n\tDetermined least recently used "+i+" in "+(a-o)+"ms\n\tRemoved "+r+" targets in "+(l-a)+"ms\n\tRemoved "+t+" documents in "+(c-l)+"ms\nTotal Duration: "+(c-h)+"ms"),Le.resolve({Za:!0,tu:i,eu:r,su:t})}))},t}(),ni=function(){function t(t,e,n){this.persistence=t,this.Vu=e,this.gu=new Rt(Ee),this.pu=new Ie((function(t){return t.canonicalId()})),this.yu=x.min(),this.Wn=t.vo(n),this.bu=t.Co(),this.Yh=t.Do(),this.vu=new Me(this.bu,this.Wn,this.persistence.Fo()),this.Vu.Su(this.vu)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Du=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,o=this;return r.__generator(this,(function(r){switch(r.label){case 0:return e=this.Wn,n=this.vu,[4,this.persistence.runTransaction("Handle user change","readonly",(function(i){var r;return o.Wn.ia(i).next((function(s){return r=s,e=o.persistence.vo(t),n=new Me(o.bu,e,o.persistence.Fo()),e.ia(i)})).next((function(t){for(var e=[],o=[],s=qt(),a=0,l=r;a<l.length;a++){var c=l[a];e.push(c.batchId);for(var u=0,h=c.mutations;u<h.length;u++)s=s.add(h[u].key)}for(var d=0,f=t;d<f.length;d++){var p=f[d];o.push(p.batchId);for(var g=0,v=p.mutations;g<v.length;g++)s=s.add(v[g].key)}return n.Yn(i,s).next((function(t){return{Cu:t,Fu:e,Nu:o}}))}))}))];case 1:return i=r.sent(),[2,(this.Wn=e,this.vu=n,this.Vu.Su(this.vu),i)]}}))}))},t.prototype.$u=function(t){var e,n=this,i=b.now(),r=t.reduce((function(t,e){return t.add(e.key)}),qt());return this.persistence.runTransaction("Locally write mutations","readwrite",(function(o){return n.vu.Yn(o,r).next((function(r){e=r;for(var s=[],a=0,l=t;a<l.length;a++){var c=l[a],u=c.Pt(e.get(c.key));null!=u&&s.push(new lt(c.key,u,pt(u.proto.mapValue),ot.exists(!0)))}return n.Wn.Xo(o,i,s,t)}))})).then((function(t){var n=t.In(e);return{batchId:t.batchId,Dn:n}}))},t.prototype.zo=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(n){var i=t.batch.keys(),r=e.bu.Yr({Xr:!0});return e.Wn.zo(n,t.batch,t.streamToken).next((function(){return e.ku(n,t,r)})).next((function(){return r.apply(n)})).next((function(){return e.Wn.oa(n)})).next((function(){return e.vu.Yn(n,i)}))}))},t.prototype.Lu=function(t){var e=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",(function(n){var i;return e.Wn.Zo(n,t).next((function(t){return we(null!==t),i=t.keys(),e.Wn.ra(n,t)})).next((function(){return e.Wn.oa(n)})).next((function(){return e.vu.Yn(n,i)}))}))},t.prototype.sa=function(){var t=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.Wn.sa(e)}))},t.prototype.Yo=function(){var t=this;return this.persistence.runTransaction("Get last stream token","readonly",(function(e){return t.Wn.Yo(e)}))},t.prototype.Jo=function(t){var e=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary",(function(n){return e.Wn.Jo(n,t)}))},t.prototype._h=function(){var t=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Yh._h(e)}))},t.prototype.Mu=function(e){var n=this,i=e.Ee,r=this.gu;return this.persistence.runTransaction("Apply remote event","readwrite-primary",(function(o){var s=n.bu.Yr({Xr:!0});r=n.gu;var a=[];e.as.forEach((function(e,s){var l=r.get(s);if(l){a.push(n.Yh.bh(o,e.Is,s).next((function(){return n.Yh.ph(o,e.Ts,s)})));var c=e.resumeToken;if(c.rt()>0){var u=l.we(c,i).Ie(o.Oh);r=r.Ae(s,u),t.Ou(l,u,e)&&a.push(n.Yh.Ih(o,u))}}}));var l=Ut(),c=qt();if(e.cs.forEach((function(t,e){c=c.add(t)})),a.push(s.getEntries(o,c).next((function(t){e.cs.forEach((function(r,c){var u=t.get(r);c instanceof bt&&c.version.isEqual(x.min())?(s.kn(r,i),l=l.Ae(r,c)):null==u||c.version.S(u.version)>0||0===c.version.S(u.version)&&u.hasPendingWrites?(s.Nn(c,i),l=l.Ae(r,c)):me("LocalStore","Ignoring outdated watch update for ",r,". Current version:",u.version," Watch version:",c.version),e._s.has(r)&&a.push(n.persistence.hh.Wo(o,r))}))}))),!i.isEqual(x.min())){var u=n.Yh._h(o).next((function(t){return n.Yh.dh(o,o.Oh,i)}));a.push(u)}return Le.vn(a).next((function(){return s.apply(o)})).next((function(){return n.vu.Jn(o,l)}))})).then((function(t){return n.gu=r,t}))},t.Ou=function(t,e,n){return we(e.resumeToken.rt()>0),0===t.resumeToken.rt()||e.Ee.D()-t.Ee.D()>=this.xu||n.Ts.size+n.Es.size+n.Is.size>0},t.prototype.Bu=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,o,s,a,l,c=this;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Le.forEach(t,(function(t){return Le.forEach(t.hr,(function(n){return c.persistence.hh.yh(e,t.targetId,n)})).next((function(){return Le.forEach(t.or,(function(n){return c.persistence.hh.vh(e,t.targetId,n)}))}))}))}))];case 1:return r.sent(),[3,3];case 2:if(!Un(e=r.sent()))throw e;return me("LocalStore","Failed to update sequence numbers: "+e),[3,3];case 3:for(n=0,i=t;n<i.length;n++)s=(o=i[n]).targetId,o.fromCache||(a=this.gu.get(s),l=a.Re(a.Ee),this.gu=this.gu.Ae(s,l));return[2]}}))}))},t.prototype.qu=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch","readonly",(function(n){return void 0===t&&(t=-1),e.Wn.ea(n,t)}))},t.prototype.Uu=function(t){var e=this;return this.persistence.runTransaction("read document","readonly",(function(n){return e.vu.Kn(n,t)}))},t.prototype.Qu=function(t){var e=this;return this.persistence.runTransaction("Allocate target","readwrite",(function(n){var i;return e.Yh.gh(n,t).next((function(r){return r?Le.resolve(i=r):e.Yh.oh(n).next((function(r){return i=new Pt(t,r,0,n.Oh),e.Yh.fh(n,i).next((function(){return i}))}))}))})).then((function(n){return null===e.gu.get(n.targetId)&&(e.gu=e.gu.Ae(n.targetId,n),e.pu.set(t,n.targetId)),n}))},t.prototype.gh=function(t,e){var n=this.pu.get(e);return void 0!==n?Le.resolve(this.gu.get(n)):this.Yh.gh(t,e)},t.prototype.Wu=function(t,e){var n=this,i=this.gu.get(t);return this.persistence.runTransaction("Release target",e?"readwrite":"readwrite-primary",(function(t){return e?Le.resolve():n.persistence.hh.removeTarget(t,i)})).then((function(){n.gu=n.gu.remove(t),n.pu.delete(i.target)}))},t.prototype.ju=function(t,e){var n=this,i=x.min(),r=qt();return this.persistence.runTransaction("Execute query","readonly",(function(o){return n.gh(o,t.ee()).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,n.Yh.Sh(o,t.targetId).next((function(t){r=t}))})).next((function(){return n.Vu.Zn(o,t,e?i:x.min(),e?r:qt())})).next((function(t){return{documents:t,Ku:r}}))}))},t.prototype.ku=function(t,e,n){var i=this,r=e.batch,o=r.keys(),s=Le.resolve();return o.forEach((function(i){s=s.next((function(){return n.Ln(t,i)})).next((function(t){var o=t,s=e.Rn.get(i);we(null!==s),(!o||o.version.S(s)<0)&&(o=r.at(i,o,e))&&n.Nn(o,e.wn)}))})),s.next((function(){return i.Wn.ra(t,r)}))},t.prototype.Iu=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.mu(n,e.gu)}))},t}();ni.xu=3e8;var ii=function(t){function e(e,n,i){var r=this;return(r=t.call(this,e,n,i)||this).persistence=e,r.Wn=e.vo(i),r.bu=e.Co(),r.Yh=e.Do(),r}return r.__extends(e,t),e.prototype.start=function(){return this.Gu()},e.prototype.zu=function(t){var e=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",(function(n){return e.Wn.ta(n,t).next((function(t){return t?e.vu.Yn(n,t):Le.resolve(null)}))}))},e.prototype.Hu=function(t){this.Wn.ha(t)},e.prototype.ao=function(t){this.persistence.ao(t)},e.prototype.bo=function(){return this.persistence.bo()},e.prototype.Yu=function(t){var e=this,n=this.gu.get(t);return n?Promise.resolve(n.target):this.persistence.runTransaction("Get target data","readonly",(function(n){return e.Yh.si(n,t).next((function(t){return t?t.target:null}))}))},e.prototype.Kr=function(){var t=this;return this.persistence.runTransaction("Get new document changes","readonly",(function(e){return t.bu.Kr(e,t.yu)})).then((function(e){var n=e.Gr;return t.yu=e.readTime,n}))},e.prototype.Gu=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e=this;return r.__generator(this,(function(n){switch(n.label){case 0:return t=this,[4,this.persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return e.bu.Hr(t)}))];case 1:return t.yu=n.sent(),[2]}}))}))},e}(ni);function ri(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){if(t.code!==d.FAILED_PRECONDITION||t.message!==De)throw t;return me("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}var oi=function(){function t(){this.Ju=new zt(si.Xu),this.Zu=new zt(si.tc)}return t.prototype.B=function(){return this.Ju.B()},t.prototype.yh=function(t,e){var n=new si(t,e);this.Ju=this.Ju.add(n),this.Zu=this.Zu.add(n)},t.prototype.ec=function(t,e){var n=this;t.forEach((function(t){return n.yh(t,e)}))},t.prototype.vh=function(t,e){this.sc(new si(t,e))},t.prototype.ic=function(t,e){var n=this;t.forEach((function(t){return n.vh(t,e)}))},t.prototype.nc=function(t){var e=this,n=k.EMPTY,i=new si(n,t),r=new si(n,t+1),o=[];return this.Zu.Ke([i,r],(function(t){e.sc(t),o.push(t.key)})),o},t.prototype.rc=function(){var t=this;this.Ju.forEach((function(e){return t.sc(e)}))},t.prototype.sc=function(t){this.Ju=this.Ju.delete(t),this.Zu=this.Zu.delete(t)},t.prototype.hc=function(t){var e=k.EMPTY,n=new si(e,t),i=new si(e,t+1),r=qt();return this.Zu.Ke([n,i],(function(t){r=r.add(t.key)})),r},t.prototype.Ch=function(t){var e=new si(t,0),n=this.Ju.ze(e);return null!==n&&t.isEqual(n.key)},t}(),si=function(){function t(t,e){this.key=t,this.oc=e}return t.Xu=function(t,e){return k.N(t.key,e.key)||Ee(t.oc,e.oc)},t.tc=function(t,e){return Ee(t.oc,e.oc)||k.N(t.key,e.key)},t}();function ai(t,e){if(0!==e.length)throw new f(d.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+Ei(e.length,"argument")+".")}function li(t,e,n){if(e.length!==n)throw new f(d.INVALID_ARGUMENT,"Function "+t+"() requires "+Ei(n,"argument")+", but was called with "+Ei(e.length,"argument")+".")}function ci(t,e,n){if(e.length<n)throw new f(d.INVALID_ARGUMENT,"Function "+t+"() requires at least "+Ei(n,"argument")+", but was called with "+Ei(e.length,"argument")+".")}function ui(t,e,n,i){if(e.length<n||e.length>i)throw new f(d.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+i+" arguments, but was called with "+Ei(e.length,"argument")+".")}function hi(t,e,n,i){vi(t,e,Ai(n)+" argument",i)}function di(t,e,n,i){void 0!==i&&hi(t,e,n,i)}function fi(t,e,n,i){vi(t,e,n+" option",i)}function pi(t,e,n,i){void 0!==i&&fi(t,e,n,i)}function gi(t,e,n,i,r){void 0!==i&&function(t,e,n,i,r){for(var o=[],s=0,a=r;s<a.length;s++){var l=a[s];if(l===i)return;o.push(yi(l))}var c=yi(i);throw new f(d.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(t,0,n,i,r)}function vi(t,e,n,i){if(!("object"===e?mi(i):"non-empty string"===e?"string"==typeof i&&""!==i:typeof i===e)){var r=yi(i);throw new f(d.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+r)}}function mi(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function yi(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":xe()}function bi(t,e,n){if(void 0===n)throw new f(d.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+Ai(e)+" argument, but it was undefined.")}function xi(t,e,n){C(e,(function(e,i){if(n.indexOf(e)<0)throw new f(d.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))}))}function wi(t,e,n,i){var r=yi(i);return new f(d.INVALID_ARGUMENT,"Function "+t+"() requires its "+Ai(n)+" argument to be a "+e+", but it was: "+r)}function Si(t,e,n){if(n<=0)throw new f(d.INVALID_ARGUMENT,"Function "+t+"() requires its "+Ai(e)+" argument to be a positive number, but it was: "+n+".")}function Ai(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function Ei(t,e){return t+" "+e+(1===t?"":"s")}function ki(){if("undefined"==typeof Uint8Array)throw new f(d.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function _i(){if(!fe.nt().ac)throw new f(d.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Ci=function(){function t(t){_i(),this.uc=t}return t.fromBase64String=function(e){li("Blob.fromBase64String",arguments,1),hi("Blob.fromBase64String","string",1,e),_i();try{return new t(I.fromBase64String(e))}catch(e){throw new f(d.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+e)}},t.fromUint8Array=function(e){if(li("Blob.fromUint8Array",arguments,1),ki(),!(e instanceof Uint8Array))throw wi("Blob.fromUint8Array","Uint8Array",1,e);return new t(I.fromUint8Array(e))},t.prototype.toBase64=function(){return li("Blob.toBase64",arguments,0),_i(),this.uc.toBase64()},t.prototype.toUint8Array=function(){return li("Blob.toUint8Array",arguments,0),ki(),this.uc.toUint8Array()},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.uc.isEqual(t.uc)},t}(),Ti=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];!function(t,e,n,i){if(!(e instanceof Array)||e.length<1)throw new f(d.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+Ei(1,"element")+".")}(0,t);for(var n=0;n<t.length;++n)if(hi("FieldPath","string",n,t[n]),0===t[n].length)throw new f(d.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.cc=new E(t)}return t.documentId=function(){return t._c},t.prototype.isEqual=function(e){if(!(e instanceof t))throw wi("isEqual","FieldPath",1,e);return this.cc.isEqual(e.cc)},t}();Ti._c=new Ti(E.J().j());var Ii=new RegExp("[~\\*/\\[\\]]"),Ni=function(t){this.lc=t},Pi=function(t){function e(){return t.call(this,"FieldValue.delete")||this}return r.__extends(e,t),e.prototype.Di=function(t){if(2!==t.dc)throw t.fc(1===t.dc?"FieldValue.delete() can only appear at the top level of your update data":"FieldValue.delete() cannot be used with set() unless you pass {merge:true}");return t.Vt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Ni),Li=function(t){function e(){return t.call(this,"FieldValue.serverTimestamp")||this}return r.__extends(e,t),e.prototype.Di=function(t){return new it(t.path,Z.instance)},e.prototype.isEqual=function(t){return t instanceof e},e}(Ni),Oi=function(t){function e(e){var n=this;return(n=t.call(this,"FieldValue.arrayUnion")||this).Tc=e,n}return r.__extends(e,t),e.prototype.Di=function(t){var e=new Ui({dc:3,methodName:this.lc,Ec:!0},t.ii,t.serializer,t.ignoreUndefinedProperties),n=this.Tc.map((function(t){return Bi(t,e)})),i=new Q(n);return new it(t.path,i)},e.prototype.isEqual=function(t){return this===t},e}(Ni),Di=function(t){function e(e){var n=this;return(n=t.call(this,"FieldValue.arrayRemove")||this).Tc=e,n}return r.__extends(e,t),e.prototype.Di=function(t){var e=new Ui({dc:3,methodName:this.lc,Ec:!0},t.ii,t.serializer,t.ignoreUndefinedProperties),n=this.Tc.map((function(t){return Bi(t,e)})),i=new J(n);return new it(t.path,i)},e.prototype.isEqual=function(t){return this===t},e}(Ni),Ri=function(t){function e(e){var n=this;return(n=t.call(this,"FieldValue.increment")||this).Ic=e,n}return r.__extends(e,t),e.prototype.Di=function(t){var e=new Ui({dc:3,methodName:this.lc},t.ii,t.serializer,t.ignoreUndefinedProperties),n=Bi(this.Ic,e),i=new tt(t.serializer,n);return new it(t.path,i)},e.prototype.isEqual=function(t){return this===t},e}(Ni),Mi=function(){function t(t,e){if(li("GeoPoint",arguments,2),hi("GeoPoint","number",1,t),hi("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new f(d.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new f(d.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.wc=t,this.Rc=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.wc},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.Rc},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this.wc===t.wc&&this.Rc===t.Rc},t.prototype.p=function(t){return Ee(this.wc,t.wc)||Ee(this.Rc,t.Rc)},t}(),Fi=/^__.*__$/,zi=function(){function t(t,e,n){this.data=t,this.Vt=e,this.fieldTransforms=n}return t.prototype.Ac=function(t,e){var n=[];return n.push(null!==this.Vt?new lt(t,this.data,this.Vt,e):new at(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new ct(t,this.fieldTransforms)),n},t}(),Vi=function(){function t(t,e,n){this.data=t,this.Vt=e,this.fieldTransforms=n}return t.prototype.Ac=function(t,e){var n=[new lt(t,this.data,this.Vt,e)];return this.fieldTransforms.length>0&&n.push(new ct(t,this.fieldTransforms)),n},t}();function ji(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe()}}var Ui=function(){function t(t,e,n,i,r,o){this.settings=t,this.ii=e,this.serializer=n,this.ignoreUndefinedProperties=i,void 0===r&&this.mc(),this.fieldTransforms=r||[],this.Vt=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dc",{get:function(){return this.settings.dc},enumerable:!0,configurable:!0}),t.prototype.Pc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.ii,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.Vt)},t.prototype.Vc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.Pc({path:n,Ec:!1});return i.gc(t),i},t.prototype.pc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.Pc({path:n,Ec:!1});return i.mc(),i},t.prototype.yc=function(t){return this.Pc({path:void 0,Ec:!0})},t.prototype.fc=function(t){var e=!this.path||this.path.B()?"":" (found in field "+this.path.toString()+")";return new f(d.INVALID_ARGUMENT,"Function "+this.settings.methodName+"() called with invalid data. "+t+e)},t.prototype.contains=function(t){return void 0!==this.Vt.find((function(e){return t.q(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.q(e.field)}))},t.prototype.mc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.gc(this.path.get(t))},t.prototype.gc=function(t){if(0===t.length)throw this.fc("Document fields must not be empty");if(ji(this.dc)&&Fi.test(t))throw this.fc('Document fields cannot begin and end with "__"')},t}(),Hi=function(){function t(t,e,n){this.ii=t,this.ignoreUndefinedProperties=e,this.serializer=n||fe.nt().bc(t)}return t.prototype.vc=function(t,e){var n=this.Sc(0,t);Wi("Data must be an object, but it was:",n,e);var i=Xi(e,n);return new zi(new dt(i),null,n.fieldTransforms)},t.prototype.Dc=function(t,e,n){var i=this.Sc(2,t);Wi("Data must be an object, but it was:",i,e);var r,o,s=Xi(e,i);if(n){for(var a=[],l=0,c=n;l<c.length;l++){var u=c[l],h=void 0;if(u instanceof Ti)h=u.cc;else{if("string"!=typeof u)throw xe();h=qi(t,u)}if(!i.contains(h))throw new f(d.INVALID_ARGUMENT,"Field '"+h+"' is specified in your field mask but missing from your input data.");$i(a,h)||a.push(h)}r=new nt(a),o=i.fieldTransforms.filter((function(t){return r.dt(t.field)}))}else r=new nt(i.Vt),o=i.fieldTransforms;return new zi(new dt(s),r,o)},t.prototype.Cc=function(t,e){var n=this.Sc(1,t);Wi("Data must be an object, but it was:",n,e);var i=[],r=new ft;C(e,(function(e,o){var s=qi(t,e),a=n.pc(s);if(o instanceof Pi)i.push(s);else{var l=Bi(o,a);null!=l&&(i.push(s),r.set(s,l))}}));var o=new nt(i);return new Vi(r.yt(),o,n.fieldTransforms)},t.prototype.Fc=function(t,e,n,i){var r=this.Sc(1,t),o=[Gi(t,e)],s=[n];if(i.length%2!=0)throw new f(d.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var a=0;a<i.length;a+=2)o.push(Gi(t,i[a])),s.push(i[a+1]);for(var l=[],c=new ft,u=o.length-1;u>=0;--u)if(!$i(l,o[u])){var h=o[u],p=s[u],g=r.pc(h);if(p instanceof Pi)l.push(h);else{var v=Bi(p,g);null!=v&&(l.push(h),c.set(h,v))}}var m=new nt(l);return new Vi(c.yt(),m,r.fieldTransforms)},t.prototype.Sc=function(t,e){return new Ui({dc:t,methodName:e,path:E.G,Ec:!1},this.ii,this.serializer,this.ignoreUndefinedProperties)},t.prototype.Nc=function(t,e,n){return void 0===n&&(n=!1),Bi(e,this.Sc(n?4:3,t))},t}();function Bi(t,e){if(Yi(t))return Wi("Unsupported field value:",e,t),Xi(t,e);if(t instanceof Ni)return function(t,e){if(!ji(e.dc))throw e.fc(t.lc+"() can only be used with update() and set()");if(null===e.path)throw e.fc(t.lc+"() is not currently supported inside arrays");var n=t.Di(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.Vt.push(e.path),t instanceof Array){if(e.settings.Ec&&4!==e.dc)throw e.fc("Nested arrays are not supported");return function(t,e){for(var n=[],i=0,r=0,o=t;r<o.length;r++){var s=Bi(o[r],e.yc(i));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),i++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return e.serializer.ai(t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=b.fromDate(t);return{timestampValue:e.serializer.C(n)}}if(t instanceof b){var i=new b(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:e.serializer.C(i)}}if(t instanceof Mi)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ci)return{bytesValue:e.serializer.ui(t)};if(t instanceof Hr){var r=e.ii,o=t.firestore.$c;if(!o.isEqual(r))throw e.fc("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+r.projectId+"/"+r.database);return{referenceValue:e.serializer._i(t.kc.path,t.firestore.$c)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.fc("Unsupported field value: "+yi(t))}(t,e)}function Xi(t,e){var n={};return T(t)?e.path&&e.path.length>0&&e.Vt.push(e.path):C(t,(function(t,i){var r=Bi(i,e.Vc(t));null!=r&&(n[t]=r)})),{mapValue:{fields:n}}}function Yi(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof b||t instanceof Mi||t instanceof Ci||t instanceof Hr||t instanceof Ni)}function Wi(t,e,n){if(!Yi(n)||!mi(n)){var i=yi(n);throw e.fc("an object"===i?t+" a custom object":t+" "+i)}}function Gi(t,e){if(e instanceof Ti)return e.cc;if("string"==typeof e)return qi(t,e);throw new f(d.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function qi(t,e){try{return function(t){if(t.search(Ii)>=0)throw new f(d.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Ti.bind.apply(Ti,r.__spreadArrays([void 0],t.split("."))))}catch(r){throw new f(d.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).cc}catch(e){var n=(i=e)instanceof Error?i.message:i.toString();throw new f(d.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+n)}var i}function $i(t,e){return t.some((function(t){return t.isEqual(e)}))}var Ki=function(){function t(t,e,n,i,r,o){this.Tr=t,this.Lc=n,this.Mc=i,this.Oc=r,this.listener=o,this.state=0,this.xc=0,this.Bc=null,this.stream=null,this.$a=new je(t,e)}return t.prototype.qc=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Uc=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Qc()},t.prototype.stop=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.qc()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.Wc=function(){this.state=0,this.$a.reset()},t.prototype.jc=function(){var t=this;this.Uc()&&null===this.Bc&&(this.Bc=this.Tr.yr(this.Lc,6e4,(function(){return t.Kc()})))},t.prototype.Gc=function(t){this.zc(),this.stream.send(t)},t.prototype.Kc=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){return this.Uc()?[2,this.close(0)]:[2]}))}))},t.prototype.zc=function(){this.Bc&&(this.Bc.cancel(),this.Bc=null)},t.prototype.close=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){switch(n.label){case 0:return this.zc(),this.$a.cancel(),this.xc++,3!==t?this.$a.reset():e&&e.code===d.RESOURCE_EXHAUSTED?(ye(e.toString()),ye("Using maximum backoff delay to prevent overloading the backend."),this.$a.Vr()):e&&e.code===d.UNAUTHENTICATED&&this.Oc._(),null!==this.stream&&(this.Hc(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Yc(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.Hc=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.Jc(this.xc),n=this.xc;this.Oc.getToken().then((function(e){t.xc===n&&t.Xc(e)}),(function(n){e((function(){var e=new f(d.UNKNOWN,"Fetching auth token failed: "+n.message);return t.Zc(e)}))}))},t.prototype.Xc=function(t){var e=this,n=this.Jc(this.xc);this.stream=this.t_(t),this.stream.e_((function(){n((function(){return e.state=2,e.listener.e_()}))})),this.stream.Yc((function(t){n((function(){return e.Zc(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.Qc=function(){var t=this;this.state=4,this.$a.gr((function(){return r.__awaiter(t,void 0,void 0,(function(){return r.__generator(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.Zc=function(t){return me("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.Jc=function(t){var e=this;return function(n){e.Tr.uo((function(){return e.xc===t?n():(me("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Zi=function(t){function e(e,n,i,r,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,i,o)||this).serializer=r,s}return r.__extends(e,t),e.prototype.t_=function(t){return this.Mc.s_("Listen",t)},e.prototype.onMessage=function(t){this.$a.reset();var e=this.serializer.pi(t),n=this.serializer.bi(t);return this.listener.i_(e,n)},e.prototype.n_=function(t){var e={};e.database=this.serializer.wi,e.addTarget=this.serializer.ee(t);var n=this.serializer.zi(t);n&&(e.labels=n),this.Gc(e)},e.prototype.r_=function(t){var e={};e.database=this.serializer.wi,e.removeTarget=t,this.Gc(e)},e}(Ki),Qi=function(t){function e(e,n,i,r,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,i,o)||this).serializer=r,s.h_=!1,s.lastStreamToken=I.ht,s}return r.__extends(e,t),Object.defineProperty(e.prototype,"o_",{get:function(){return this.h_},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.h_=!1,t.prototype.start.call(this)},e.prototype.Hc=function(){this.h_&&this.a_([])},e.prototype.t_=function(t){return this.Mc.s_("Write",t)},e.prototype.onMessage=function(t){if(we(!!t.streamToken),this.lastStreamToken=this.serializer.ci(t.streamToken),this.h_){this.$a.reset();var e=this.serializer.Mi(t.writeResults,t.commitTime),n=this.serializer.fromVersion(t.commitTime);return this.listener.u_(n,e)}return we(!t.writeResults||0===t.writeResults.length),this.h_=!0,this.listener.c_()},e.prototype.__=function(){var t={};t.database=this.serializer.wi,this.Gc(t)},e.prototype.a_=function(t){var e=this,n={streamToken:this.serializer.ui(this.lastStreamToken),writes:t.map((function(t){return e.serializer.vi(t)}))};this.Gc(n)},e}(Ki),Ji=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).Mc=e,r.credentials=n,r.serializer=i,r}return r.__extends(e,t),e.prototype.d_=function(t,e){var n=this;return this.credentials.getToken().then((function(i){return n.Mc.d_(t,e,i)})).catch((function(t){throw t.code===d.UNAUTHENTICATED&&n.credentials._(),t}))},e.prototype.f_=function(t,e){var n=this;return this.credentials.getToken().then((function(i){return n.Mc.f_(t,e,i)})).catch((function(t){throw t.code===d.UNAUTHENTICATED&&n.credentials._(),t}))},e}((function(){this.l_=void 0})),tr=function(){function t(t){this.T_=t,this.E_=Wt(),this.mutations=[],this.I_=!1,this.w_=null,this.R_=new Set}return t.prototype.A_=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n=this;return r.__generator(this,(function(i){switch(i.label){case 0:if(this.m_(),this.mutations.length>0)throw new f(d.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,s,a;return r.__generator(this,(function(r){switch(r.label){case 0:return n=Se(t),i={database:n.serializer.wi,documents:e.map((function(t){return n.serializer.fi(t)}))},[4,n.f_("BatchGetDocuments",i)];case 1:return o=r.sent(),s=new Map,o.forEach((function(t){var e=n.serializer.gi(t);s.set(e.key.toString(),e)})),a=[],[2,(e.forEach((function(t){var e=s.get(t.toString());we(!!e),a.push(e)})),a)]}}))}))}(this.T_,t)];case 1:return[2,((e=i.sent()).forEach((function(t){t instanceof bt||t instanceof yt?n.P_(t):xe()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.Ac(t,this.Rt(t))),this.R_.add(t)},t.prototype.update=function(t,e){try{this.write(e.Ac(t,this.V_(t)))}catch(t){this.w_=t}this.R_.add(t)},t.prototype.delete=function(t){this.write([new ut(t,this.Rt(t))]),this.R_.add(t)},t.prototype.commit=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e=this;return r.__generator(this,(function(n){switch(n.label){case 0:if(this.m_(),this.w_)throw this.w_;return t=this.E_,this.mutations.forEach((function(e){t=t.remove(e.key)})),t.forEach((function(t,n){e.mutations.push(new ht(t,e.Rt(t)))})),[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:return n=Se(t),i={database:n.serializer.wi,writes:e.map((function(t){return n.serializer.vi(t)}))},[4,n.d_("Commit",i)];case 1:return o=r.sent(),[2,n.serializer.Mi(o.writeResults,o.commitTime)]}}))}))}(this.T_,this.mutations)];case 1:return n.sent(),this.I_=!0,[2]}}))}))},t.prototype.P_=function(t){var e;if(t instanceof yt)e=t.version;else{if(!(t instanceof bt))throw xe();e=x.min()}var n=this.E_.get(t.key);if(null!==n){if(!e.isEqual(n))throw new f(d.ABORTED,"Document version changed between two reads.")}else this.E_=this.E_.Ae(t.key,e)},t.prototype.Rt=function(t){var e=this.E_.get(t);return!this.R_.has(t)&&e?ot.updateTime(e):ot.ft()},t.prototype.V_=function(t){var e=this.E_.get(t);if(!this.R_.has(t)&&e){if(e.isEqual(x.min()))throw new f(d.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ot.updateTime(e)}return ot.exists(!0)},t.prototype.write=function(t){this.m_(),this.mutations=this.mutations.concat(t)},t.prototype.m_=function(){},t}(),er=function(){function t(t,e){this.Aa=t,this.g_=e,this.state="Unknown",this.p_=0,this.y_=null,this.b_=!0}return t.prototype.v_=function(){var t=this;0===this.p_&&(this.S_("Unknown"),this.y_=this.Aa.yr("online_state_timeout",1e4,(function(){return t.y_=null,t.D_("Backend didn't respond within 10 seconds."),t.S_("Offline"),Promise.resolve()})))},t.prototype.C_=function(t){"Online"===this.state?this.S_("Unknown"):(this.p_++,this.p_>=1&&(this.F_(),this.D_("Connection failed 1 times. Most recent error: "+t.toString()),this.S_("Offline")))},t.prototype.set=function(t){this.F_(),this.p_=0,"Online"===t&&(this.b_=!1),this.S_(t)},t.prototype.S_=function(t){t!==this.state&&(this.state=t,this.g_(t))},t.prototype.D_=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.b_?(ye(e),this.b_=!1):me("OnlineStateTracker",e)},t.prototype.F_=function(){null!==this.y_&&(this.y_.cancel(),this.y_=null)},t}(),nr=function(){function t(t,e,n,i,o){var s=this;this.N_=t,this.T_=e,this.Aa=n,this.k_=[],this.L_=new Map,this.M_=null,this.networkEnabled=!1,this.isPrimary=!1,this.O_=!1,this.x_=o,this.x_.B_((function(t){n.uo((function(){return r.__awaiter(s,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.q_()?(me("RemoteStore","Restarting streams for network reachability change."),[4,this.U_()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Q_=new er(n,i),this.W_=function(t,e,n){var i=Se(t);return new Zi(e,i.Mc,i.credentials,i.serializer,n)}(this.T_,n,{e_:this.j_.bind(this),Yc:this.K_.bind(this),i_:this.G_.bind(this)}),this.z_=function(t,e,n){var i=Se(t);return new Qi(e,i.Mc,i.credentials,i.serializer,n)}(this.T_,n,{e_:this.H_.bind(this),Yc:this.Y_.bind(this),c_:this.J_.bind(this),u_:this.u_.bind(this)})}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.enableNetwork=function(){return this.networkEnabled=!0,this.X_()},t.prototype.X_=function(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(e){switch(e.label){case 0:return this.q_()?(t=this.z_,[4,this.N_.Yo()]):[3,3];case 1:return t.lastStreamToken=e.sent(),this.Z_()?this.tl():this.Q_.set("Unknown"),[4,this.el()];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))},t.prototype.disableNetwork=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.sl()];case 1:return t.sent(),this.Q_.set("Offline"),[2]}}))}))},t.prototype.sl=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return[4,this.z_.stop()];case 1:return t.sent(),[4,this.W_.stop()];case 2:return t.sent(),this.k_.length>0&&(me("RemoteStore","Stopping write stream with "+this.k_.length+" pending writes"),this.k_=[]),this.il(),[2]}}))}))},t.prototype.mo=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return me("RemoteStore","RemoteStore shutting down."),this.networkEnabled=!1,[4,this.sl()];case 1:return t.sent(),this.x_.mo(),this.Q_.set("Unknown"),[2]}}))}))},t.prototype.listen=function(t){this.L_.has(t.targetId)||(this.L_.set(t.targetId,t),this.Z_()?this.tl():this.W_.Uc()&&this.nl(t))},t.prototype.rl=function(t){this.L_.delete(t),this.W_.Uc()&&this.hl(t),0===this.L_.size&&(this.W_.Uc()?this.W_.jc():this.q_()&&this.Q_.set("Unknown"))},t.prototype.si=function(t){return this.L_.get(t)||null},t.prototype.ei=function(t){return this.ol.ei(t)},t.prototype.nl=function(t){this.M_.Ns(t.targetId),this.W_.n_(t)},t.prototype.hl=function(t){this.M_.Ns(t),this.W_.r_(t)},t.prototype.tl=function(){this.M_=new se(this),this.W_.start(),this.Q_.v_()},t.prototype.Z_=function(){return this.q_()&&!this.W_.qc()&&this.L_.size>0},t.prototype.q_=function(){return!this.O_&&this.isPrimary&&this.networkEnabled},t.prototype.il=function(){this.M_=null},t.prototype.j_=function(){return r.__awaiter(this,void 0,void 0,(function(){var t=this;return r.__generator(this,(function(e){return this.L_.forEach((function(e,n){t.nl(e)})),[2]}))}))},t.prototype.K_=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.il(),this.Z_()?(this.Q_.C_(t),this.tl()):this.Q_.set("Unknown"),[2]}))}))},t.prototype.G_=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:if(this.Q_.set("Online"),!(t instanceof re&&2===t.state&&t.cause))return[3,6];r.label=1;case 1:return r.trys.push([1,3,,5]),[4,this.al(t)];case 2:return r.sent(),[3,5];case 3:return n=r.sent(),me("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),[4,this.ul(n)];case 4:return r.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof ne?this.M_.qs(t):t instanceof ie?this.M_.Hs(t):this.M_.Ws(t),e.isEqual(x.min()))return[3,13];r.label=7;case 7:return r.trys.push([7,11,,13]),[4,this.N_._h()];case 8:return i=r.sent(),e.S(i)>=0?[4,this.cl(e)]:[3,10];case 9:r.sent(),r.label=10;case 10:return[3,13];case 11:return me("RemoteStore","Failed to raise snapshot:",o=r.sent()),[4,this.ul(o)];case 12:return r.sent(),[3,13];case 13:return[2]}}))}))},t.prototype.ul=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e=this;return r.__generator(this,(function(n){switch(n.label){case 0:if(!Un(t))throw t;return this.O_=!0,[4,this.sl()];case 1:return n.sent(),this.Q_.set("Offline"),this.Aa.Ua((function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return me("RemoteStore","Retrying IndexedDB access"),[4,this.N_._h()];case 1:return t.sent(),this.O_=!1,[4,this.X_()];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))},t.prototype.cl=function(t){var e=this,n=this.M_.Xs(t);return n.as.forEach((function(n,i){if(n.resumeToken.rt()>0){var r=e.L_.get(i);r&&e.L_.set(i,r.we(n.resumeToken,t))}})),n.us.forEach((function(t){var n=e.L_.get(t);if(n){e.L_.set(t,n.we(I.ht,n.Ee)),e.hl(t);var i=new Pt(n.target,t,1,n.sequenceNumber);e.nl(i)}})),this.ol.Mu(n)},t.prototype.al=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:e=t.cause,n=0,i=t.targetIds,r.label=1;case 1:return n<i.length?this.L_.has(o=i[n])?[4,this.ol._l(o,e)]:[3,3]:[3,5];case 2:r.sent(),this.L_.delete(o),this.M_.removeTarget(o),r.label=3;case 3:r.label=4;case 4:return n++,[3,1];case 5:return[2]}}))}))},t.prototype.el=function(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(e){switch(e.label){case 0:return this.ll()?[4,this.N_.qu(this.k_.length>0?this.k_[this.k_.length-1].batchId:-1)]:[3,5];case 1:return null!==(t=e.sent())?[3,2]:(0===this.k_.length&&this.z_.jc(),[3,4]);case 2:return this.dl(t),[4,this.el()];case 3:e.sent(),e.label=4;case 4:e.label=5;case 5:return this.fl()&&this.Tl(),[2]}}))}))},t.prototype.ll=function(){return this.q_()&&this.k_.length<10},t.prototype.El=function(){return this.k_.length},t.prototype.dl=function(t){this.k_.push(t),this.z_.Uc()&&this.z_.o_&&this.z_.a_(t.mutations)},t.prototype.fl=function(){return this.q_()&&!this.z_.qc()&&this.k_.length>0},t.prototype.Tl=function(){this.z_.start()},t.prototype.H_=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){return this.z_.__(),[2]}))}))},t.prototype.J_=function(){var t=this;return this.N_.Jo(this.z_.lastStreamToken).then((function(){for(var e=0,n=t.k_;e<n.length;e++)t.z_.a_(n[e].mutations)})).catch(ri)},t.prototype.u_=function(t,e){var n=this,i=this.k_.shift(),r=Pe.from(i,t,e,this.z_.lastStreamToken);return this.ol.Il(r).then((function(){return n.el()}))},t.prototype.Y_=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return t&&this.k_.length>0?this.z_.o_?[4,this.wl(t)]:[3,2]:[3,5];case 1:return e.sent(),[3,4];case 2:return[4,this.Rl(t)];case 3:e.sent(),e.label=4;case 4:this.fl()&&this.Tl(),e.label=5;case 5:return[2]}}))}))},t.prototype.Rl=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return Ot(t.code)?[2,(me("RemoteStore","RemoteStore error before completed handshake; resetting stream token: ",this.z_.lastStreamToken),this.z_.lastStreamToken=I.ht,this.N_.Jo(I.ht).catch(ri))]:[2]}))}))},t.prototype.wl=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i=this;return r.__generator(this,(function(r){return Ot(n=t.code)&&n!==d.ABORTED?(e=this.k_.shift(),[2,(this.z_.Wc(),this.ol.Al(e.batchId,t).then((function(){return i.el()})))]):[2]}))}))},t.prototype.ml=function(){return new tr(this.T_)},t.prototype.U_=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.sl()];case 1:return t.sent(),this.Q_.set("Unknown"),[4,this.enableNetwork()];case 2:return t.sent(),[2]}}))}))},t.prototype.Pl=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.q_()?(me("RemoteStore","RemoteStore restarting streams for new credential"),[4,this.U_()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.Vl=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return this.isPrimary=t,t&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return e.sent(),[3,5];case 2:return t?[3,4]:[4,this.sl()];case 3:e.sent(),this.Q_.set("Unknown"),e.label=4;case 4:e.label=5;case 5:return[2]}}))}))},t}();function ir(t,e){return"firestore_clients_"+t+"_"+e}function rr(t,e,n){var i="firestore_mutations_"+t+"_"+n;return e.t()&&(i+="_"+e.uid),i}function or(t,e){return"firestore_targets_"+t+"_"+e}var sr=function(){function t(t,e,n,i){this.user=t,this.batchId=e,this.state=n,this.error=i}return t.gl=function(e,n,i){var r=JSON.parse(i),o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),s=void 0;return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(s=new f(r.error.code,r.error.message)),o?new t(e,n,r.state,s):(ye("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+i),null)},t.prototype.pl=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),ar=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.gl=function(e,n){var i=JSON.parse(n),r="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),o=void 0;return r&&i.error&&(r="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(o=new f(i.error.code,i.error.message)),r?new t(e,i.state,o):(ye("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.pl=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),lr=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.gl=function(e,n){for(var i=JSON.parse(n),r="object"==typeof i&&i.activeTargetIds instanceof Array,o=Kt(),s=0;r&&s<i.activeTargetIds.length;++s)r=L(i.activeTargetIds[s]),o=o.add(i.activeTargetIds[s]);return r?new t(e,o):(ye("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),cr=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.gl=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(ye("SharedClientState","Failed to parse online state: "+e),null)},t}(),ur=function(){function t(){this.activeTargetIds=Kt()}return t.prototype.yl=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.bl=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.pl=function(){var t={activeTargetIds:this.activeTargetIds.W(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),hr=function(){function t(e,n,i,r,o){if(this.Tr=e,this.platform=n,this.persistenceKey=i,this.vl=r,this.ol=null,this.g_=null,this.ur=null,this.Sl=this.Dl.bind(this),this.Cl=new Rt(Ee),this.ro=!1,this.Fl=[],!t.Gh(this.platform))throw new f(d.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var s=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=o,this.Nl=ir(this.persistenceKey,this.vl),this.$l=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Cl=this.Cl.Ae(this.vl,new ur),this.kl=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Ll=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.Ml=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.Ol=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.platform.window.addEventListener("storage",this.Sl)}return t.Gh=function(t){return!(!t.window||null==t.window.localStorage)},t.prototype.start=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e,n,i,o,s,a,l,c,u,h=this;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,this.ol.bo()];case 1:for(t=r.sent(),e=0,n=t;e<n.length;e++)(i=n[e])!==this.vl&&(o=this.getItem(ir(this.persistenceKey,i)))&&(s=lr.gl(i,o))&&(this.Cl=this.Cl.Ae(s.clientId,s));for(this.xl(),(a=this.storage.getItem(this.Ol))&&(l=this.Bl(a))&&this.ql(l),c=0,u=this.Fl;c<u.length;c++)this.Dl(u[c]);return this.Fl=[],this.platform.window.addEventListener("unload",(function(){return h.mo()})),this.ro=!0,[2]}}))}))},t.prototype.lr=function(t){this.setItem(this.$l,JSON.stringify(t))},t.prototype.Ul=function(){return this.Ql(this.Cl)},t.prototype.Wl=function(t){var e=!1;return this.Cl.forEach((function(n,i){i.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.jl=function(t){this.Kl(t,"pending")},t.prototype.Gl=function(t,e,n){this.Kl(t,e,n),this.zl(t)},t.prototype.Hl=function(t){var e="not-current";if(this.Wl(t)){var n=this.storage.getItem(or(this.persistenceKey,t));if(n){var i=ar.gl(t,n);i&&(e=i.state)}}return this.Yl.yl(t),this.xl(),e},t.prototype.Jl=function(t){this.Yl.bl(t),this.xl()},t.prototype.Xl=function(t){return this.Yl.activeTargetIds.has(t)},t.prototype.Zl=function(t){this.removeItem(or(this.persistenceKey,t))},t.prototype.td=function(t,e,n){this.ed(t,e,n)},t.prototype.Du=function(t,e,n){var i=this;e.forEach((function(t){i.zl(t)})),this.currentUser=t,n.forEach((function(t){i.jl(t)}))},t.prototype.sd=function(t){this.nd(t)},t.prototype.mo=function(){this.ro&&(this.platform.window.removeEventListener("storage",this.Sl),this.removeItem(this.Nl),this.ro=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return me("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){me("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){me("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Dl=function(t){var e=this;if(t.storageArea===this.storage){if(me("SharedClientState","EVENT",t.key,t.newValue),t.key===this.Nl)return void ye("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Tr.Ua((function(){return r.__awaiter(e,void 0,void 0,(function(){var e,n,i,o,s,a;return r.__generator(this,(function(r){if(this.ro){if(null!==t.key)if(this.kl.test(t.key)){if(null==t.newValue)return e=this.rd(t.key),[2,this.hd(e,null)];if(n=this.od(t.key,t.newValue))return[2,this.hd(n.clientId,n)]}else if(this.Ll.test(t.key)){if(null!==t.newValue&&(i=this.ad(t.key,t.newValue)))return[2,this.ud(i)]}else if(this.Ml.test(t.key)){if(null!==t.newValue&&(o=this._d(t.key,t.newValue)))return[2,this.ld(o)]}else if(t.key===this.Ol){if(null!==t.newValue&&(s=this.Bl(t.newValue)))return[2,this.ql(s)]}else t.key===this.$l&&(a=function(t){var e=ze.dr;if(null!=t)try{var n=JSON.parse(t);we("number"==typeof n),e=n}catch(t){ye("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(t.newValue))!==ze.dr&&this.ur(a)}else this.Fl.push(t);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Yl",{get:function(){return this.Cl.get(this.vl)},enumerable:!0,configurable:!0}),t.prototype.xl=function(){this.setItem(this.Nl,this.Yl.pl())},t.prototype.Kl=function(t,e,n){var i=new sr(this.currentUser,t,e,n),r=rr(this.persistenceKey,this.currentUser,t);this.setItem(r,i.pl())},t.prototype.zl=function(t){var e=rr(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.nd=function(t){this.storage.setItem(this.Ol,JSON.stringify({clientId:this.vl,onlineState:t}))},t.prototype.ed=function(t,e,n){var i=or(this.persistenceKey,t),r=new ar(t,e,n);this.setItem(i,r.pl())},t.prototype.rd=function(t){var e=this.kl.exec(t);return e?e[1]:null},t.prototype.od=function(t,e){var n=this.rd(t);return lr.gl(n,e)},t.prototype.ad=function(t,e){var n=this.Ll.exec(t),i=Number(n[1]);return sr.gl(new h(void 0!==n[2]?n[2]:null),i,e)},t.prototype._d=function(t,e){var n=this.Ml.exec(t),i=Number(n[1]);return ar.gl(i,e)},t.prototype.Bl=function(t){return cr.gl(t)},t.prototype.ud=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.ol.dd(t.batchId,t.state,t.error)]:(me("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.ld=function(t){return this.ol.fd(t.targetId,t.state,t.error)},t.prototype.hd=function(t,e){var n=this,i=e?this.Cl.Ae(t,e):this.Cl.remove(t),r=this.Ql(this.Cl),o=this.Ql(i),s=[],a=[];return o.forEach((function(t){r.has(t)||s.push(t)})),r.forEach((function(t){o.has(t)||a.push(t)})),this.ol.Td(s,a).then((function(){n.Cl=i}))},t.prototype.ql=function(t){this.Cl.get(t.clientId)&&this.g_(t.onlineState)},t.prototype.Ql=function(t){var e=Kt();return t.forEach((function(t,n){e=e.He(n.activeTargetIds)})),e},t}(),dr=function(){function t(){this.Ed=new ur,this.Id={},this.ol=null,this.g_=null,this.ur=null}return t.prototype.jl=function(t){},t.prototype.Gl=function(t,e,n){},t.prototype.Hl=function(t){return this.Ed.yl(t),this.Id[t]||"not-current"},t.prototype.td=function(t,e,n){this.Id[t]=e},t.prototype.Jl=function(t){this.Ed.bl(t)},t.prototype.Xl=function(t){return this.Ed.activeTargetIds.has(t)},t.prototype.Zl=function(t){delete this.Id[t]},t.prototype.Ul=function(){return this.Ed.activeTargetIds},t.prototype.Wl=function(t){return this.Ed.activeTargetIds.has(t)},t.prototype.start=function(){return this.Ed=new ur,Promise.resolve()},t.prototype.Du=function(t,e,n){},t.prototype.sd=function(t){},t.prototype.mo=function(){},t.prototype.lr=function(t){},t}(),fr=function(t){this.key=t},pr=function(t){this.key=t},gr=function(){function t(t,e){this.query=t,this.wd=e,this.Rd=null,this.fs=!1,this.Ad=qt(),this.ns=qt(),this.md=new Zt(t.se.bind(t))}return Object.defineProperty(t.prototype,"Pd",{get:function(){return this.wd},enumerable:!0,configurable:!0}),t.prototype.Vd=function(t,e){var n=this,i=e?e.gd:new Qt,r=e?e.md:this.md,o=e?e.ns:this.ns,s=r,a=!1,l=this.query.oe()&&r.size===this.query.limit?r.last():null,c=this.query.ae()&&r.size===this.query.limit?r.first():null;if(t.pe((function(t,e){var u=r.get(t),h=e instanceof yt?e:null;h&&(h=n.query.matches(h)?h:null);var d=!!u&&n.ns.has(u.key),f=!!h&&(h.At||n.ns.has(h.key)&&h.hasCommittedMutations),p=!1;u&&h?u.data().isEqual(h.data())?d!==f&&(i.track({type:3,doc:h}),p=!0):n.pd(u,h)||(i.track({type:2,doc:h}),p=!0,(l&&n.query.se(h,l)>0||c&&n.query.se(h,c)<0)&&(a=!0)):!u&&h?(i.track({type:0,doc:h}),p=!0):u&&!h&&(i.track({type:1,doc:u}),p=!0,(l||c)&&(a=!0)),p&&(h?(s=s.add(h),o=f?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),this.query.oe()||this.query.ae())for(;s.size>this.query.limit;){var u=this.query.oe()?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),i.track({type:1,doc:u})}return{md:s,gd:i,yd:a,ns:o}},t.prototype.pd=function(t,e){return t.At&&e.hasCommittedMutations&&!e.At},t.prototype.xn=function(t,e,n){var i=this,r=this.md;this.md=t.md,this.ns=t.ns;var o=t.gd.es();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe()}};return n(t)-n(e)}(t.type,e.type)||i.query.se(t.doc,e.doc)})),this.bd(n);var s=e?this.vd():[],a=0===this.Ad.size&&this.fs?1:0,l=a!==this.Rd;return this.Rd=a,0!==o.length||l?{snapshot:new Jt(this.query,t.md,r,o,t.ns,0===a,l,!1),Sd:s}:{Sd:s}},t.prototype.Dd=function(t){return this.fs&&"Offline"===t?(this.fs=!1,this.xn({md:this.md,gd:new Qt,ns:this.ns,yd:!1},!1)):{Sd:[]}},t.prototype.Cd=function(t){return!this.wd.has(t)&&!!this.md.has(t)&&!this.md.get(t).At},t.prototype.bd=function(t){var e=this;t&&(t.Ts.forEach((function(t){return e.wd=e.wd.add(t)})),t.Es.forEach((function(t){})),t.Is.forEach((function(t){return e.wd=e.wd.delete(t)})),this.fs=t.fs)},t.prototype.vd=function(){var t=this;if(!this.fs)return[];var e=this.Ad;this.Ad=qt(),this.md.forEach((function(e){t.Cd(e.key)&&(t.Ad=t.Ad.add(e.key))}));var n=[];return e.forEach((function(e){t.Ad.has(e)||n.push(new pr(e))})),this.Ad.forEach((function(t){e.has(t)||n.push(new fr(t))})),n},t.prototype.Fd=function(t){this.wd=t.Ku,this.Ad=qt();var e=this.Vd(t.documents);return this.xn(e,!0)},t.prototype.Nd=function(){return Jt.os(this.query,this.md,this.ns,0===this.Rd)},t}(),vr=function(){function t(t,e,n,i){this.Aa=t,this.$d=e,this.updateFunction=n,this.Va=i,this.kd=5,this.$a=new je(this.Aa,"transaction_retry")}return t.prototype.Ld=function(){this.Md()},t.prototype.Md=function(){var t=this;this.$a.gr((function(){return r.__awaiter(t,void 0,void 0,(function(){var t,e,n=this;return r.__generator(this,(function(i){return t=this.$d.ml(),(e=this.Od(t))&&e.then((function(e){n.Aa.uo((function(){return t.commit().then((function(){n.Va.resolve(e)})).catch((function(t){n.xd(t)}))}))})).catch((function(t){n.xd(t)})),[2]}))}))}))},t.prototype.Od=function(t){try{var e=this.updateFunction(t);return!N(e)&&e.catch&&e.then?e:(this.Va.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Va.reject(t),null}},t.prototype.xd=function(t){var e=this;this.kd>0&&this.Bd(t)?(this.kd-=1,this.Aa.uo((function(){return e.Md(),Promise.resolve()}))):this.Va.reject(t)},t.prototype.Bd=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Ot(e)}return!1},t}(),mr=function(t,e,n){this.query=t,this.targetId=e,this.view=n},yr=function(t){this.key=t,this.qd=!1},br=function(){function t(t,e,n,i,r){this.N_=t,this.$d=e,this.Ud=n,this.currentUser=i,this.Qd=r,this.Wd=null,this.jd=new Ie((function(t){return t.canonicalId()})),this.Kd=new Map,this.Gd=[],this.zd=new Rt(k.N),this.Hd=new Map,this.Yd=new oi,this.Jd={},this.Xd=new Map,this.Zd=tn.rh(),this.onlineState="Unknown"}return Object.defineProperty(t.prototype,"tf",{get:function(){return!0},enumerable:!0,configurable:!0}),t.prototype.subscribe=function(t){this.Wd=t},t.prototype.listen=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:return this.ef("listen()"),(n=this.jd.get(t))?(this.Ud.Hl(n.targetId),e=n.view.Nd(),[3,4]):[3,1];case 1:return[4,this.N_.Qu(t.ee())];case 2:return i=r.sent(),o=this.Ud.Hl(i.targetId),[4,this.sf(t,i.targetId,"current"===o)];case 3:e=r.sent(),this.tf&&this.$d.listen(i),r.label=4;case 4:return[2,e]}}))}))},t.prototype.sf=function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,s,a,l,c;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,this.N_.ju(t,!0)];case 1:return i=r.sent(),o=new gr(t,i.Ku),s=o.Vd(i.documents),a=ee.ds(e,n&&"Offline"!==this.onlineState),l=o.xn(s,this.tf,a),this.if(e,l.Sd),c=new mr(t,e,o),[2,(this.jd.set(t,c),this.Kd.has(e)?this.Kd.get(e).push(t):this.Kd.set(e,[t]),l.snapshot)]}}))}))},t.prototype.rl=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i=this;return r.__generator(this,(function(r){switch(r.label){case 0:return this.ef("unlisten()"),e=this.jd.get(t),(n=this.Kd.get(e.targetId)).length>1?[2,(this.Kd.set(e.targetId,n.filter((function(e){return!e.isEqual(t)}))),void this.jd.delete(t))]:this.tf?(this.Ud.Jl(e.targetId),this.Ud.Wl(e.targetId)?[3,2]:[4,this.N_.Wu(e.targetId,!1).then((function(){i.Ud.Zl(e.targetId),i.$d.rl(e.targetId),i.nf(e.targetId)})).catch(ri)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return this.nf(e.targetId),[4,this.N_.Wu(e.targetId,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))},t.prototype.write=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:this.ef("write()"),r.label=1;case 1:return r.trys.push([1,5,,6]),[4,this.N_.$u(t)];case 2:return n=r.sent(),this.Ud.jl(n.batchId),this.rf(n.batchId,e),[4,this.hf(n.Dn)];case 3:return r.sent(),[4,this.$d.el()];case 4:return r.sent(),[3,6];case 5:return i=r.sent(),o=$n(i,"Failed to persist write"),e.reject(o),[3,6];case 6:return[2]}}))}))},t.prototype.runTransaction=function(t,e,n){new vr(t,this.$d,e,n).Ld()},t.prototype.Mu=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n=this;return r.__generator(this,(function(i){switch(i.label){case 0:this.ef("applyRemoteEvent()"),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this.N_.Mu(t)];case 2:return e=i.sent(),t.as.forEach((function(t,e){var i=n.Hd.get(e);i&&(we(t.Ts.size+t.Es.size+t.Is.size<=1),t.Ts.size>0?i.qd=!0:t.Es.size>0?we(i.qd):t.Is.size>0&&(we(i.qd),i.qd=!1))})),[4,this.hf(e,t)];case 3:return i.sent(),[3,6];case 4:return[4,ri(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.Dd=function(t,e){this.ef("applyOnlineStateChange()");var n=[];this.jd.forEach((function(e,i){var r=i.view.Dd(t);r.snapshot&&n.push(r.snapshot)})),this.Wd.af(t),this.Wd.i_(n),this.onlineState=t},t.prototype._l=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,s,a,l=this;return r.__generator(this,(function(r){switch(r.label){case 0:return this.ef("rejectListens()"),this.Ud.td(t,"rejected",e),n=this.Hd.get(t),(i=n&&n.key)?(o=(o=new Rt(k.N)).Ae(i,new bt(i,x.min())),s=qt().add(i),a=new te(x.min(),new Map,new zt(Ee),o,s),[4,this.Mu(a)]):[3,2];case 1:return r.sent(),this.zd=this.zd.remove(i),this.Hd.delete(t),this.uf(),[3,4];case 2:return[4,this.N_.Wu(t,!1).then((function(){return l.nf(t,e)})).catch(ri)];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))},t.prototype.Il=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n;return r.__generator(this,(function(i){switch(i.label){case 0:this.ef("applySuccessfulWrite()"),this.cf(e=t.batch.batchId,null),this._f(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this.N_.zo(t)];case 2:return n=i.sent(),this.Ud.Gl(e,"acknowledged"),[4,this.hf(n)];case 3:return i.sent(),[3,6];case 4:return[4,ri(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.Al=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n;return r.__generator(this,(function(i){switch(i.label){case 0:this.ef("rejectFailedWrite()"),this.cf(t,e),this._f(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this.N_.Lu(t)];case 2:return n=i.sent(),this.Ud.Gl(t,"rejected",e),[4,this.hf(n)];case 3:return i.sent(),[3,6];case 4:return[4,ri(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.lf=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:this.$d.q_()||me("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.N_.sa()];case 2:return-1===(e=r.sent())?[2,void t.resolve()]:((n=this.Xd.get(e)||[]).push(t),this.Xd.set(e,n),[3,4]);case 3:return i=r.sent(),o=$n(i,"Initialization of waitForPendingWrites() operation failed"),t.reject(o),[3,4];case 4:return[2]}}))}))},t.prototype._f=function(t){(this.Xd.get(t)||[]).forEach((function(t){t.resolve()})),this.Xd.delete(t)},t.prototype.df=function(t){this.Xd.forEach((function(e){e.forEach((function(e){e.reject(new f(d.CANCELLED,t))}))})),this.Xd.clear()},t.prototype.rf=function(t,e){var n=this.Jd[this.currentUser.s()];n||(n=new Rt(Ee)),n=n.Ae(t,e),this.Jd[this.currentUser.s()]=n},t.prototype.cf=function(t,e){var n=this.Jd[this.currentUser.s()];if(n){var i=n.get(t);i&&(e?i.reject(e):i.resolve(),n=n.remove(t)),this.Jd[this.currentUser.s()]=n}},t.prototype.nf=function(t,e){var n=this;void 0===e&&(e=null),this.Ud.Jl(t);for(var i=0,r=this.Kd.get(t);i<r.length;i++){var o=r[i];this.jd.delete(o),e&&this.Wd.ff(o,e)}this.Kd.delete(t),this.tf&&this.Yd.nc(t).forEach((function(t){n.Yd.Ch(t)||n.Tf(t)}))},t.prototype.Tf=function(t){var e=this.zd.get(t);null!==e&&(this.$d.rl(e),this.zd=this.zd.remove(t),this.Hd.delete(e),this.uf())},t.prototype.if=function(t,e){for(var n=0,i=e;n<i.length;n++){var r=i[n];r instanceof fr?(this.Yd.yh(r.key,t),this.Ef(r)):r instanceof pr?(me("SyncEngine","Document no longer in limbo: "+r.key),this.Yd.vh(r.key,t),this.Yd.Ch(r.key)||this.Tf(r.key)):xe()}},t.prototype.Ef=function(t){var e=t.key;this.zd.get(e)||(me("SyncEngine","New document in limbo: "+e),this.Gd.push(e),this.uf())},t.prototype.uf=function(){for(;this.Gd.length>0&&this.zd.size<this.Qd;){var t=this.Gd.shift(),e=this.Zd.next();this.Hd.set(e,new yr(t)),this.zd=this.zd.Ae(t,e),this.$d.listen(new Pt(St.Wt(t.path).ee(),e,2,ze.dr))}},t.prototype.If=function(){return this.zd},t.prototype.wf=function(){return this.Gd},t.prototype.hf=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,s=this;return r.__generator(this,(function(r){switch(r.label){case 0:return n=[],i=[],o=[],this.jd.forEach((function(r,a){o.push(Promise.resolve().then((function(){var e=a.view.Vd(t);return e.yd?s.N_.ju(a.query,!1).then((function(t){return a.view.Vd(t.documents,e)})):e})).then((function(t){var r=e&&e.as.get(a.targetId),o=a.view.xn(t,s.tf,r);if(s.if(a.targetId,o.Sd),o.snapshot){s.tf&&s.Ud.td(a.targetId,o.snapshot.fromCache?"not-current":"current"),n.push(o.snapshot);var l=Fe.ar(a.targetId,o.snapshot);i.push(l)}})))})),[4,Promise.all(o)];case 1:return r.sent(),this.Wd.i_(n),[4,this.N_.Bu(i)];case 2:return r.sent(),[2]}}))}))},t.prototype.ef=function(t){},t.prototype.Pl=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:return this.currentUser.isEqual(t)?[3,3]:[4,this.N_.Du(t)];case 1:return e=n.sent(),this.currentUser=t,this.df("'waitForPendingWrites' promise is rejected due to a user change."),this.Ud.Du(t,e.Fu,e.Nu),[4,this.hf(e.Cu)];case 2:n.sent(),n.label=3;case 3:return[4,this.$d.Pl()];case 4:return n.sent(),[2]}}))}))},t.prototype.enableNetwork=function(){return this.$d.enableNetwork()},t.prototype.disableNetwork=function(){return this.$d.disableNetwork()},t.prototype.ei=function(t){var e=this.Hd.get(t);if(e&&e.qd)return qt().add(e.key);var n=qt(),i=this.Kd.get(t);if(!i)return n;for(var r=0,o=i;r<o.length;r++){var s=this.jd.get(o[r]);n=n.He(s.view.Pd)}return n},t}(),xr=function(t){function e(e,n,i,r,o){var s=this;return(s=t.call(this,e,n,i,r,o)||this).N_=e,s.Rf=void 0,s}return r.__extends(e,t),Object.defineProperty(e.prototype,"tf",{get:function(){return!0===this.Rf},enumerable:!0,configurable:!0}),e.prototype.enableNetwork=function(){return this.N_.ao(!0),t.prototype.enableNetwork.call(this)},e.prototype.disableNetwork=function(){return this.N_.ao(!1),t.prototype.disableNetwork.call(this)},e.prototype.Af=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n;return r.__generator(this,(function(i){switch(i.label){case 0:return[4,this.N_.ju(t.query,!0)];case 1:return e=i.sent(),n=t.view.Fd(e),[2,(this.Rf&&this.if(t.targetId,n.Sd),n)]}}))}))},e.prototype.Dd=function(e,n){this.tf&&0===n&&(t.prototype.Dd.call(this,e,n),this.Ud.sd(e)),this.tf||1!==n||t.prototype.Dd.call(this,e,n)},e.prototype.dd=function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i;return r.__generator(this,(function(r){switch(r.label){case 0:return this.ef("applyBatchState()"),[4,this.N_.zu(t)];case 1:return null===(i=r.sent())?[3,6]:"pending"!==e?[3,3]:[4,this.$d.el()];case 2:return r.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(this.cf(t,n||null),this.N_.Hu(t)):xe(),r.label=4;case 4:return[4,this.hf(i)];case 5:return r.sent(),[3,7];case 6:me("SyncEngine","Cannot apply mutation batch with id: "+t),r.label=7;case 7:return[2]}}))}))},e.prototype.Vl=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,o,s,a,l=this;return r.__generator(this,(function(r){switch(r.label){case 0:return!0!==t||!0===this.Rf?[3,3]:(e=this.Ud.Ul(),[4,this.mf(e.W(),!0)]);case 1:return n=r.sent(),this.Rf=!0,[4,this.$d.Vl(!0)];case 2:for(r.sent(),i=0,o=n;i<o.length;i++)this.$d.listen(o[i]);return[3,7];case 3:return!1!==t||!1===this.Rf?[3,7]:(s=[],a=Promise.resolve(),this.Kd.forEach((function(t,e){l.Ud.Xl(e)?s.push(e):a=a.then((function(){return l.nf(e),l.N_.Wu(e,!0)})),l.$d.rl(e)})),[4,a]);case 4:return r.sent(),[4,this.mf(s,!1)];case 5:return r.sent(),this.Pf(),this.Rf=!1,[4,this.$d.Vl(!1)];case 6:r.sent(),r.label=7;case 7:return[2]}}))}))},e.prototype.Pf=function(){var t=this;this.Hd.forEach((function(e,n){t.$d.rl(n)})),this.Yd.rc(),this.Hd=new Map,this.zd=new Rt(k.N)},e.prototype.mf=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,o,s,a,l,c,u,h,d,f;return r.__generator(this,(function(r){switch(r.label){case 0:e=[],n=[],i=0,o=t,r.label=1;case 1:return i<o.length?(a=void 0,(l=this.Kd.get(s=o[i]))&&0!==l.length?[4,this.N_.Wu(s,!0)]:[3,8]):[3,14];case 2:return r.sent(),[4,this.N_.Qu(l[0].ee())];case 3:a=r.sent(),c=0,u=l,r.label=4;case 4:return c<u.length?(h=this.jd.get(u[c]),[4,this.Af(h)]):[3,7];case 5:(d=r.sent()).snapshot&&n.push(d.snapshot),r.label=6;case 6:return c++,[3,4];case 7:return[3,12];case 8:return[4,this.N_.Yu(s)];case 9:return f=r.sent(),[4,this.N_.Qu(f)];case 10:return a=r.sent(),[4,this.sf(this.Vf(f),s,!1)];case 11:r.sent(),r.label=12;case 12:e.push(a),r.label=13;case 13:return i++,[3,1];case 14:return[2,(this.Wd.i_(n),e)]}}))}))},e.prototype.Vf=function(t){return new St(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)},e.prototype.bo=function(){return this.N_.bo()},e.prototype.fd=function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o;return r.__generator(this,(function(r){switch(r.label){case 0:return this.Rf?(me("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!this.Kd.has(t))return[3,8];switch(e){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,this.N_.Kr()];case 3:return i=r.sent(),o=te.ls(t,"current"===e),[4,this.hf(i,o)];case 4:return r.sent(),[3,8];case 5:return[4,this.N_.Wu(t,!0)];case 6:return r.sent(),this.nf(t,n),[3,8];case 7:xe(),r.label=8;case 8:return[2]}}))}))},e.prototype.Td=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,s,a,l,c,u,h,d=this;return r.__generator(this,(function(f){switch(f.label){case 0:if(!this.Rf)return[3,10];n=0,i=t,f.label=1;case 1:return n<i.length?this.Kd.has(o=i[n])?(me("SyncEngine","Adding an already active target "+o),[3,5]):[4,this.N_.Yu(o)]:[3,6];case 2:return s=f.sent(),[4,this.N_.Qu(s)];case 3:return a=f.sent(),[4,this.sf(this.Vf(s),a.targetId,!1)];case 4:f.sent(),this.$d.listen(a),f.label=5;case 5:return n++,[3,1];case 6:l=function(t){return r.__generator(this,(function(e){switch(e.label){case 0:return c.Kd.has(t)?[4,c.N_.Wu(t,!1).then((function(){d.$d.rl(t),d.nf(t)})).catch(ri)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},c=this,u=0,h=e,f.label=7;case 7:return u<h.length?[5,l(h[u])]:[3,10];case 8:f.sent(),f.label=9;case 9:return u++,[3,7];case 10:return[2]}}))}))},e}(br),wr=function(){this.gf=void 0,this.pf=[]},Sr=function(){function t(t){this.ol=t,this.yf=new Ie((function(t){return t.canonicalId()})),this.onlineState="Unknown",this.bf=new Set,this.ol.subscribe(this)}return t.prototype.listen=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,o,s,a;return r.__generator(this,(function(r){switch(r.label){case 0:if(n=!1,(i=this.yf.get(e=t.query))||(n=!0,i=new wr),!n)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),o=i,[4,this.ol.listen(e)];case 2:return o.gf=r.sent(),[3,4];case 3:return s=r.sent(),a=$n(s,"Initialization of query '"+t.query+"' failed"),[2,void t.onError(a)];case 4:return this.yf.set(e,i),i.pf.push(t),t.Dd(this.onlineState),i.gf&&t.vf(i.gf)&&this.Sf(),[2]}}))}))},t.prototype.rl=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,o;return r.__generator(this,(function(r){return n=!1,(i=this.yf.get(e=t.query))&&(o=i.pf.indexOf(t))>=0&&(i.pf.splice(o,1),n=0===i.pf.length),n?[2,(this.yf.delete(e),this.ol.rl(e))]:[2]}))}))},t.prototype.i_=function(t){for(var e=!1,n=0,i=t;n<i.length;n++){var r=i[n],o=this.yf.get(r.query);if(o){for(var s=0,a=o.pf;s<a.length;s++)a[s].vf(r)&&(e=!0);o.gf=r}}e&&this.Sf()},t.prototype.ff=function(t,e){var n=this.yf.get(t);if(n)for(var i=0,r=n.pf;i<r.length;i++)r[i].onError(e);this.yf.delete(t)},t.prototype.af=function(t){this.onlineState=t;var e=!1;this.yf.forEach((function(n,i){for(var r=0,o=i.pf;r<o.length;r++)o[r].Dd(t)&&(e=!0)})),e&&this.Sf()},t.prototype.Df=function(t){this.bf.add(t),t.next()},t.prototype.Cf=function(t){this.bf.delete(t)},t.prototype.Sf=function(){this.bf.forEach((function(t){t.next()}))},t}(),Ar=function(){function t(t,e,n){this.query=t,this.Ff=e,this.Nf=!1,this.$f=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.vf=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,i=t.docChanges;n<i.length;n++){var r=i[n];3!==r.type&&e.push(r)}t=new Jt(t.query,t.docs,t.ss,e,t.ns,t.fromCache,t.rs,!0)}var o=!1;return this.Nf?this.kf(t)&&(this.Ff.next(t),o=!0):this.Lf(t,this.onlineState)&&(this.Mf(t),o=!0),this.$f=t,o},t.prototype.onError=function(t){this.Ff.error(t)},t.prototype.Dd=function(t){this.onlineState=t;var e=!1;return this.$f&&!this.Nf&&this.Lf(this.$f,t)&&(this.Mf(this.$f),e=!0),e},t.prototype.Lf=function(t,e){return!t.fromCache||!(this.options.Of&&"Offline"!==e||t.docs.B()&&"Offline"!==e)},t.prototype.kf=function(t){return t.docChanges.length>0||!!(t.rs||this.$f&&this.$f.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.Mf=function(t){t=Jt.os(t.query,t.docs,t.ns,t.fromCache),this.Nf=!0,this.Ff.next(t)},t}(),Er=function(){function t(){}return t.prototype.Su=function(t){this.xf=t},t.prototype.Zn=function(t,e,n,i){var r=this;return e.te()||n.isEqual(x.min())?this.Bf(t,e):this.xf.Yn(t,i).next((function(o){var a=r.qf(e,o);return(e.oe()||e.ae())&&r.yd(e.Bt,a,i,n)?r.Bf(t,e):(ge()<=s.LogLevel.DEBUG&&me("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),e.toString()),r.xf.Zn(t,e,n).next((function(t){return a.forEach((function(e){t=t.Ae(e.key,e)})),t})))}))},t.prototype.qf=function(t,e){var n=new zt((function(e,n){return t.se(e,n)}));return e.forEach((function(e,i){i instanceof yt&&t.matches(i)&&(n=n.add(i))})),n},t.prototype.yd=function(t,e,n,i){if(n.size!==e.size)return!0;var r="F"===t?e.last():e.first();return!!r&&(r.hasPendingWrites||r.version.S(i)>0)},t.prototype.Bf=function(t,e){return ge()<=s.LogLevel.DEBUG&&me("IndexFreeQueryEngine","Using full collection scan to execute query:",e.toString()),this.xf.Zn(t,e,x.min())},t}(),kr=function(){function t(t,e){this.jn=t,this.hh=e,this.Wn=[],this.Uf=1,this.lastStreamToken=I.ht,this.Qf=new zt(si.Xu)}return t.prototype.Go=function(t){return Le.resolve(0===this.Wn.length)},t.prototype.zo=function(t,e,n){return we(0===this.Wf(e.batchId,"acknowledged")),this.lastStreamToken=n,Le.resolve()},t.prototype.Yo=function(t){return Le.resolve(this.lastStreamToken)},t.prototype.Jo=function(t,e){return this.lastStreamToken=e,Le.resolve()},t.prototype.Xo=function(t,e,n,i){var r=this.Uf;this.Uf++;var o=new Ne(r,e,n,i);this.Wn.push(o);for(var s=0,a=i;s<a.length;s++){var l=a[s];this.Qf=this.Qf.add(new si(l.key,r)),this.jn.Dr(t,l.key.path.L())}return Le.resolve(o)},t.prototype.Zo=function(t,e){return Le.resolve(this.jf(e))},t.prototype.ea=function(t,e){var n=this.Kf(e+1),i=n<0?0:n;return Le.resolve(this.Wn.length>i?this.Wn[i]:null)},t.prototype.sa=function(){return Le.resolve(0===this.Wn.length?-1:this.Uf-1)},t.prototype.ia=function(t){return Le.resolve(this.Wn.slice())},t.prototype.Gn=function(t,e){var n=this,i=new si(e,0),r=new si(e,Number.POSITIVE_INFINITY),o=[];return this.Qf.Ke([i,r],(function(t){var e=n.jf(t.oc);o.push(e)})),Le.resolve(o)},t.prototype.Xn=function(t,e){var n=this,i=new zt(Ee);return e.forEach((function(t){var e=new si(t,0),r=new si(t,Number.POSITIVE_INFINITY);n.Qf.Ke([e,r],(function(t){i=i.add(t.oc)}))})),Le.resolve(this.Gf(i))},t.prototype.nr=function(t,e){var n=e.path,i=n.length+1,r=n;k.et(r)||(r=r.child(""));var o=new si(new k(r),0),s=new zt(Ee);return this.Qf.Ge((function(t){var e=t.key.path;return!!n.q(e)&&(e.length===i&&(s=s.add(t.oc)),!0)}),o),Le.resolve(this.Gf(s))},t.prototype.Gf=function(t){var e=this,n=[];return t.forEach((function(t){var i=e.jf(t);null!==i&&n.push(i)})),n},t.prototype.ra=function(t,e){var n=this;we(0===this.Wf(e.batchId,"removed")),this.Wn.shift();var i=this.Qf;return Le.forEach(e.mutations,(function(r){var o=new si(r.key,e.batchId);return i=i.delete(o),n.hh.Bo(t,r.key)})).next((function(){n.Qf=i}))},t.prototype.ha=function(t){},t.prototype.Ch=function(t,e){var n=new si(e,0),i=this.Qf.ze(n);return Le.resolve(e.isEqual(i&&i.key))},t.prototype.oa=function(t){return Le.resolve()},t.prototype.Wf=function(t,e){return this.Kf(t)},t.prototype.Kf=function(t){return 0===this.Wn.length?0:t-this.Wn[0].batchId},t.prototype.jf=function(t){var e=this.Kf(t);return e<0||e>=this.Wn.length?null:this.Wn[e]},t}(),_r=function(){function t(t,e){this.jn=t,this.zf=e,this.docs=new Rt(k.N),this.size=0}return t.prototype.Nn=function(t,e,n){var i=e.key,r=this.docs.get(i),o=r?r.size:0,s=this.zf(e);return this.docs=this.docs.Ae(i,{Mr:e,size:s,readTime:n}),this.size+=s-o,this.jn.Dr(t,i.path.L())},t.prototype.kn=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Ln=function(t,e){var n=this.docs.get(e);return Le.resolve(n?n.Mr:null)},t.prototype.getEntries=function(t,e){var n=this,i=Ht();return e.forEach((function(t){var e=n.docs.get(t);i=i.Ae(t,e?e.Mr:null)})),Le.resolve(i)},t.prototype.Zn=function(t,e,n){for(var i=Xt(),r=new k(e.path.child("")),o=this.docs.ve(r);o.$e();){var s=o.Ne(),a=s.value,l=a.Mr,c=a.readTime;if(!e.path.q(s.key.path))break;c.S(n)<=0||l instanceof yt&&e.matches(l)&&(i=i.Ae(l.key,l))}return Le.resolve(i)},t.prototype.Hf=function(t,e){return Le.forEach(this.docs,(function(t){return e(t)}))},t.prototype.Yr=function(e){return new t.Jr(this)},t.prototype.Zr=function(t){return Le.resolve(this.size)},t}();_r.Jr=function(t){function e(e){var n=this;return(n=t.call(this)||this).th=e,n}return r.__extends(e,t),e.prototype.xn=function(t){var e=this,n=[];return this.Dn.forEach((function(i,r){r?n.push(e.th.Nn(t,r,e.readTime)):e.th.kn(i)})),Le.vn(n)},e.prototype.Mn=function(t,e){return this.th.Ln(t,e)},e.prototype.On=function(t,e){return this.th.getEntries(t,e)},e}(Oe);var Cr=function(){function t(t){this.persistence=t,this.Yf=new Ie((function(t){return t.canonicalId()})),this.lastRemoteSnapshotVersion=x.min(),this.highestTargetId=0,this.Jf=0,this.Xf=new oi,this.targetCount=0,this.Zf=tn.nh()}return t.prototype.js=function(t,e){return this.Yf.forEach((function(t,n){return e(n)})),Le.resolve()},t.prototype._h=function(t){return Le.resolve(this.lastRemoteSnapshotVersion)},t.prototype.lh=function(t){return Le.resolve(this.Jf)},t.prototype.oh=function(t){return this.highestTargetId=this.Zf.next(),Le.resolve(this.highestTargetId)},t.prototype.dh=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Jf&&(this.Jf=e),Le.resolve()},t.prototype.Th=function(t){this.Yf.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Zf=new tn(e),this.highestTargetId=e),t.sequenceNumber>this.Jf&&(this.Jf=t.sequenceNumber)},t.prototype.fh=function(t,e){return this.Th(e),this.targetCount+=1,Le.resolve()},t.prototype.Ih=function(t,e){return this.Th(e),Le.resolve()},t.prototype.wh=function(t,e){return this.Yf.delete(e.target),this.Xf.nc(e.targetId),this.targetCount-=1,Le.resolve()},t.prototype.Ah=function(t,e,n){var i=this,r=0,o=[];return this.Yf.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(i.Yf.delete(s),o.push(i.Rh(t,a.targetId)),r++)})),Le.vn(o).next((function(){return r}))},t.prototype.Vh=function(t){return Le.resolve(this.targetCount)},t.prototype.gh=function(t,e){var n=this.Yf.get(e)||null;return Le.resolve(n)},t.prototype.ph=function(t,e,n){return this.Xf.ec(e,n),Le.resolve()},t.prototype.bh=function(t,e,n){this.Xf.ic(e,n);var i=this.persistence.hh,r=[];return i&&e.forEach((function(e){r.push(i.Bo(t,e))})),Le.vn(r)},t.prototype.Rh=function(t,e){return this.Xf.nc(e),Le.resolve()},t.prototype.Sh=function(t,e){var n=this.Xf.hc(e);return Le.resolve(n)},t.prototype.Ch=function(t,e){return Le.resolve(this.Xf.Ch(e))},t}(),Tr=function(){function t(t){var e=this;this.tT={},this.Bh=new ze(0),this.qh=!1,this.qh=!0,this.hh=t(this),this.Yh=new Cr(this),this.jn=new Ye,this.Qn=new _r(this.jn,(function(t){return e.hh.eT(t)}))}return t.prototype.start=function(){return Promise.resolve()},t.prototype.mo=function(){return this.qh=!1,Promise.resolve()},Object.defineProperty(t.prototype,"ro",{get:function(){return this.qh},enumerable:!0,configurable:!0}),t.prototype.ho=function(){},t.prototype.Fo=function(){return this.jn},t.prototype.vo=function(t){var e=this.tT[t.s()];return e||(e=new kr(this.jn,this.hh),this.tT[t.s()]=e),e},t.prototype.Do=function(){return this.Yh},t.prototype.Co=function(){return this.Qn},t.prototype.runTransaction=function(t,e,n){var i=this;me("MemoryPersistence","Starting transaction:",t);var r=new Ir(this.Bh.next());return this.hh.sT(),n(r).next((function(t){return i.hh.iT(r).next((function(){return t}))})).yn().then((function(t){return r.Un(),t}))},t.prototype.nT=function(t,e){return Le.Sn(Object.values(this.tT).map((function(n){return function(){return n.Ch(t,e)}})))},t}(),Ir=function(t){function e(e){var n=this;return(n=t.call(this)||this).Oh=e,n}return r.__extends(e,t),e}(Re),Nr=function(){function t(t){this.persistence=t,this.rT=new oi,this.hT=null}return t.oT=function(e){return new t(e)},Object.defineProperty(t.prototype,"aT",{get:function(){if(this.hT)return this.hT;throw xe()},enumerable:!0,configurable:!0}),t.prototype.yh=function(t,e,n){return this.rT.yh(n,e),this.aT.delete(n),Le.resolve()},t.prototype.vh=function(t,e,n){return this.rT.vh(n,e),this.aT.add(n),Le.resolve()},t.prototype.Bo=function(t,e){return this.aT.add(e),Le.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.rT.nc(e.targetId).forEach((function(t){return n.aT.add(t)}));var i=this.persistence.Do();return i.Sh(t,e.targetId).next((function(t){t.forEach((function(t){return n.aT.add(t)}))})).next((function(){return i.wh(t,e)}))},t.prototype.sT=function(){this.hT=new Set},t.prototype.iT=function(t){var e=this,n=this.persistence.Co().Yr();return Le.forEach(this.aT,(function(i){return e.uT(t,i).next((function(t){t||n.kn(i)}))})).next((function(){return e.hT=null,n.apply(t)}))},t.prototype.Wo=function(t,e){var n=this;return this.uT(t,e).next((function(t){t?n.aT.delete(e):n.aT.add(e)}))},t.prototype.eT=function(t){return 0},t.prototype.uT=function(t,e){var n=this;return Le.Sn([function(){return Le.resolve(n.rT.Ch(e))},function(){return n.persistence.Do().Ch(t,e)},function(){return n.persistence.nT(t,e)}])},t}(),Pr=function(){function t(){}return t.prototype.initialize=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e=this;return r.__generator(this,(function(n){switch(n.label){case 0:return this.Ud=this.cT(t),this.persistence=this._T(t),[4,this.persistence.start()];case 1:return n.sent(),this.lT=this.dT(t),this.N_=this.fT(t),this.$d=this.TT(t),this.ol=this.ET(t),this.IT=this.wT(t),this.Ud.g_=function(t){return e.ol.Dd(t,1)},this.$d.ol=this.ol,[4,this.N_.start()];case 2:return n.sent(),[4,this.Ud.start()];case 3:return n.sent(),[4,this.$d.start()];case 4:return n.sent(),[4,this.$d.Vl(this.ol.tf)];case 5:return n.sent(),[2]}}))}))},t.prototype.wT=function(t){return new Sr(this.ol)},t.prototype.dT=function(t){return null},t.prototype.fT=function(t){return new ni(this.persistence,new Er,t.RT)},t.prototype._T=function(t){return new Tr(Nr.oT)},t.prototype.TT=function(t){var e=this;return new nr(this.N_,t.T_,t.Aa,(function(t){return e.ol.Dd(t,0)}),t.platform.AT())},t.prototype.cT=function(t){return new dr},t.prototype.ET=function(t){return new br(this.N_,this.$d,this.Ud,t.RT,t.Qd)},t.prototype.clearPersistence=function(t){throw new f(d.FAILED_PRECONDITION,"You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.")},t}(),Lr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.initialize=function(e){return r.__awaiter(this,void 0,void 0,(function(){var n=this;return r.__generator(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),[4,this.persistence.no((function(t){return r.__awaiter(n,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return[4,this.ol.Vl(t)];case 1:return e.sent(),this.lT&&(t&&!this.lT.ro?this.lT.start(this.N_):t||this.lT.stop()),[2]}}))}))}))];case 2:return i.sent(),[2]}}))}))},e.prototype.fT=function(t){return new ii(this.persistence,new Er,t.RT)},e.prototype.ET=function(t){var e=new xr(this.N_,this.$d,this.Ud,t.RT,t.Qd);return this.Ud instanceof hr&&(this.Ud.ol=e),e},e.prototype.dT=function(t){return new ti(this.persistence.hh.ko,t.Aa)},e.prototype._T=function(t){var e=cn.$o(t.mT),n=t.platform.bc(t.mT.ii);return new cn(t.PT.synchronizeTabs,e,t.clientId,t.platform,Jn.hu(t.PT.cacheSizeBytes),t.Aa,n,this.Ud)},e.prototype.cT=function(t){if(t.PT.VT&&t.PT.synchronizeTabs){if(!hr.Gh(t.platform))throw new f(d.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var e=cn.$o(t.mT);return new hr(t.Aa,t.platform,e,t.clientId,t.RT)}return new dr},e.prototype.clearPersistence=function(t){var e=cn.$o(t);return cn.clearPersistence(e)},e}(Pr),Or=function(){function t(t,e,n,i){this.platform=t,this.mT=e,this.credentials=n,this.Aa=i,this.clientId=Ae.cn()}return t.prototype.start=function(t,e){var n=this;this.gT();var i=new Ve,r=new Ve,o=!1;return this.credentials.l((function(s){if(!o)return o=!0,me("FirestoreClient","Initializing. user=",s.uid),n.pT(t,e,s,r).then(i.resolve,i.reject);n.Aa.Ua((function(){return n.Pl(s)}))})),this.Aa.uo((function(){return i.promise})),r.promise},t.prototype.enableNetwork=function(){var t=this;return this.gT(),this.Aa.enqueue((function(){return t.ol.enableNetwork()}))},t.prototype.pT=function(t,e,n,i){return r.__awaiter(this,void 0,void 0,(function(){var o,s,a,l,c=this;return r.__generator(this,(function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),[4,this.platform.yT(this.mT)];case 1:return o=u.sent(),s=this.platform.bc(this.mT.ii),a=function(t,e,n){return new Ji(t,e,n)}(o,this.credentials,s),[4,t.initialize({Aa:this.Aa,mT:this.mT,platform:this.platform,T_:a,clientId:this.clientId,RT:n,Qd:100,PT:e})];case 2:return u.sent(),this.persistence=t.persistence,this.Ud=t.Ud,this.N_=t.N_,this.$d=t.$d,this.ol=t.ol,this.lT=t.lT,this.bT=t.IT,this.persistence.ho((function(){return r.__awaiter(c,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}}))}))})),i.resolve(),[3,4];case 3:if(l=u.sent(),i.reject(l),!this.vT(l))throw l;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+l),this.pT(new Pr,{VT:!1},n,i))];case 4:return[2]}}))}))},t.prototype.vT=function(t){return"FirebaseError"===t.name?t.code===d.FAILED_PRECONDITION||t.code===d.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},t.prototype.gT=function(){if(this.Aa.La)throw new f(d.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Pl=function(t){return this.Aa.Wa(),me("FirestoreClient","Credential Changed. Current user: "+t.uid),this.ol.Pl(t)},t.prototype.disableNetwork=function(){var t=this;return this.gT(),this.Aa.enqueue((function(){return t.ol.disableNetwork()}))},t.prototype.terminate=function(){var t=this;return this.Aa.qa((function(){return r.__awaiter(t,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.lT&&this.lT.stop(),[4,this.$d.mo()];case 1:return t.sent(),[4,this.Ud.mo()];case 2:return t.sent(),[4,this.persistence.mo()];case 3:return t.sent(),this.credentials.T(),[2]}}))}))}))},t.prototype.waitForPendingWrites=function(){var t=this;this.gT();var e=new Ve;return this.Aa.uo((function(){return t.ol.lf(e)})),e.promise},t.prototype.listen=function(t,e,n){var i=this;this.gT();var r=new Ar(t,e,n);return this.Aa.uo((function(){return i.bT.listen(r)})),r},t.prototype.rl=function(t){var e=this;this.ST||this.Aa.uo((function(){return e.bT.rl(t)}))},t.prototype.DT=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n=this;return r.__generator(this,(function(i){switch(i.label){case 0:return this.gT(),e=new Ve,[4,this.Aa.enqueue((function(){return r.__awaiter(n,void 0,void 0,(function(){var n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.N_.Uu(t)];case 1:return(n=r.sent())instanceof yt?e.resolve(n):n instanceof bt?e.resolve(null):e.reject(new f(d.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return i=r.sent(),o=$n(i,"Failed to get document '"+t+" from cache"),e.reject(o),[3,3];case 3:return[2]}}))}))}))];case 1:return[2,(i.sent(),e.promise)]}}))}))},t.prototype.CT=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n=this;return r.__generator(this,(function(i){switch(i.label){case 0:return this.gT(),e=new Ve,[4,this.Aa.enqueue((function(){return r.__awaiter(n,void 0,void 0,(function(){var n,i,o,s,a,l;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.N_.ju(t,!0)];case 1:return n=r.sent(),i=new gr(t,n.Ku),o=i.Vd(n.documents),s=i.xn(o,!1),e.resolve(s.snapshot),[3,3];case 2:return a=r.sent(),l=$n(a,"Failed to execute query '"+t+" against cache"),e.reject(l),[3,3];case 3:return[2]}}))}))}))];case 1:return[2,(i.sent(),e.promise)]}}))}))},t.prototype.write=function(t){var e=this;this.gT();var n=new Ve;return this.Aa.uo((function(){return e.ol.write(t,n)})),n.promise},t.prototype.ii=function(){return this.mT.ii},t.prototype.Df=function(t){var e=this;this.gT(),this.Aa.uo((function(){return e.bT.Df(t),Promise.resolve()}))},t.prototype.Cf=function(t){var e=this;this.ST||this.Aa.uo((function(){return e.bT.Cf(t),Promise.resolve()}))},Object.defineProperty(t.prototype,"ST",{get:function(){return this.Aa.La},enumerable:!0,configurable:!0}),t.prototype.transaction=function(t){var e=this;this.gT();var n=new Ve;return this.Aa.uo((function(){return e.ol.runTransaction(e.Aa,t,n),Promise.resolve()})),n.promise},t}(),Dr=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.FT(this.observer.next,t)},t.prototype.error=function(t){this.FT(this.observer.error,t)},t.prototype.NT=function(){this.muted=!0},t.prototype.FT=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}();function Rr(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,i=0,r=["next","error","complete"];i<r.length;i++){var o=r[i];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Mr=function(){function t(t,e,n,i){this.firestore=t,this.timestampsInSnapshots=e,this.$T=n,this.converter=i}return t.prototype.kT=function(t){switch(M(t)){case 0:return null;case 1:return t.booleanValue;case 2:return B(t.integerValue||t.doubleValue);case 3:return this.LT(t.timestampValue);case 4:return this.MT(t);case 5:return t.stringValue;case 6:return new Ci(X(t.bytesValue));case 7:return this.OT(t.referenceValue);case 8:return this.xT(t.geoPointValue);case 9:return this.BT(t.arrayValue);case 10:return this.qT(t.mapValue);default:throw xe()}},t.prototype.qT=function(t){var e=this,n={};return C(t.fields||{},(function(t,i){n[t]=e.kT(i)})),n},t.prototype.xT=function(t){return new Mi(B(t.latitude),B(t.longitude))},t.prototype.BT=function(t){var e=this;return(t.values||[]).map((function(t){return e.kT(t)}))},t.prototype.MT=function(t){switch(this.$T){case"previous":var e=function t(e){var n=e.mapValue.fields.__previous_value__;return O(n)?t(n):n}(t);return null==e?null:this.kT(e);case"estimate":return this.LT(D(t));default:return null}},t.prototype.LT=function(t){var e=H(t),n=new b(e.seconds,e.nanos);return this.timestampsInSnapshots?n:n.toDate()},t.prototype.OT=function(t){var e=S.K(t);we(de(e));var n=new Te(e.get(1),e.get(3)),i=new k(e.k(5));return n.isEqual(this.firestore.$c)||ye("Document "+i+" contains a document reference within a different database ("+n.projectId+"/"+n.database+") which is not supported. It will be treated as a reference in the current database ("+this.firestore.$c.projectId+"/"+this.firestore.$c.database+") instead."),new Hr(i,this.firestore,this.converter)},t}(),Fr=Jn.uu,zr=function(){function t(t){var e,n,i,r;if(void 0===t.host){if(void 0!==t.ssl)throw new f(d.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else fi("settings","non-empty string","host",t.host),this.host=t.host,pi("settings","boolean","ssl",t.ssl),this.ssl=null===(e=t.ssl)||void 0===e||e;if(xi("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","ignoreUndefinedProperties"]),pi("settings","object","credentials",t.credentials),this.credentials=t.credentials,pi("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),pi("settings","boolean","ignoreUndefinedProperties",t.ignoreUndefinedProperties),!0===t.timestampsInSnapshots?ye("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===t.timestampsInSnapshots&&ye("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(n=t.timestampsInSnapshots)||void 0===n||n,this.ignoreUndefinedProperties=null!==(i=t.ignoreUndefinedProperties)&&void 0!==i&&i,pi("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=Jn._u;else{if(t.cacheSizeBytes!==Fr&&t.cacheSizeBytes<Jn.cu)throw new f(d.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+Jn.cu);this.cacheSizeBytes=t.cacheSizeBytes}pi("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.forceLongPolling=null!==(r=t.experimentalForceLongPolling)&&void 0!==r&&r}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.forceLongPolling===t.forceLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Vr=function(){function t(e,n,i){var o=this;if(void 0===i&&(i=new Pr),this.UT=null,this.QT=new qn,this.INTERNAL={delete:function(){return r.__awaiter(o,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.WT(),[4,this.jT.terminate()];case 1:return t.sent(),[2]}}))}))}},"object"==typeof e.options){var s=e;this.UT=s,this.$c=t.KT(s),this.GT=s.name,this.zT=new v(n)}else{var a=e;if(!a.projectId)throw new f(d.INVALID_ARGUMENT,"Must provide projectId");this.$c=new Te(a.projectId,a.database),this.GT="[DEFAULT]",this.zT=new g}this.HT=i,this.YT=new zr({})}return Object.defineProperty(t.prototype,"JT",{get:function(){return this.XT||(this.XT=new Hi(this.$c,this.YT.ignoreUndefinedProperties)),this.XT},enumerable:!0,configurable:!0}),t.prototype.settings=function(t){li("Firestore.settings",arguments,1),hi("Firestore.settings","object",1,t);var e=new zr(t);if(this.jT&&!this.YT.isEqual(e))throw new f(d.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.YT=e,void 0!==e.credentials&&(this.zT=function(t){if(!t)return new g;switch(t.type){case"gapi":var e=t.ZT;return we(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new y(e,t.V||"0");case"provider":return t.ZT;default:throw new f(d.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.enableNetwork=function(){return this.WT(),this.jT.enableNetwork()},t.prototype.disableNetwork=function(){return this.WT(),this.jT.disableNetwork()},t.prototype.enablePersistence=function(t){var e,n;if(this.jT)throw new f(d.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var i=!1;return t&&(void 0!==t.experimentalTabSynchronization&&ye("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),i=null!==(n=null!==(e=t.synchronizeTabs)&&void 0!==e?e:t.experimentalTabSynchronization)&&void 0!==n&&n),this.tE(this.HT,{VT:!0,cacheSizeBytes:this.YT.cacheSizeBytes,synchronizeTabs:i})},t.prototype.clearPersistence=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e=this;return r.__generator(this,(function(n){if(void 0!==this.jT&&!this.jT.ST)throw new f(d.FAILED_PRECONDITION,"Persistence cannot be cleared after this Firestore instance is initialized.");return t=new Ve,[2,(this.QT.Ma((function(){return r.__awaiter(e,void 0,void 0,(function(){var e,n;return r.__generator(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),e=this.eE(),[4,this.HT.clearPersistence(e)];case 1:return i.sent(),t.resolve(),[3,3];case 2:return n=i.sent(),t.reject(n),[3,3];case 3:return[2]}}))}))})),t.promise)]}))}))},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"sE",{get:function(){return this.WT(),this.jT.ST},enumerable:!0,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this.WT(),this.jT.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(t){return this.WT(),Rr(t)?this.iE(t):(hi("Firestore.onSnapshotsInSync","function",1,t),this.iE({next:t}))},t.prototype.iE=function(t){var e=this,n=new Dr({next:function(){t.next&&t.next()},error:function(t){throw xe()}});return this.jT.Df(n),function(){n.NT(),e.jT.Cf(n)}},t.prototype.WT=function(){return this.jT||this.tE(new Pr,{VT:!1}),this.jT},t.prototype.eE=function(){return new Ce(this.$c,this.GT,this.YT.host,this.YT.ssl,this.YT.forceLongPolling)},t.prototype.tE=function(t,e){var n=this.eE();return this.jT=new Or(fe.nt(),n,this.zT,this.QT),this.jT.start(t,e)},t.KT=function(t){if(!Object.prototype.hasOwnProperty.call(t.options,"projectId"))throw new f(d.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var e=t.options.projectId;if(!e||"string"!=typeof e)throw new f(d.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new Te(e)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.UT)throw new f(d.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.UT},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){return li("Firestore.collection",arguments,1),hi("Firestore.collection","non-empty string",1,t),this.WT(),new qr(S.K(t),this)},t.prototype.doc=function(t){return li("Firestore.doc",arguments,1),hi("Firestore.doc","non-empty string",1,t),this.WT(),Hr.nE(S.K(t),this)},t.prototype.collectionGroup=function(t){if(li("Firestore.collectionGroup",arguments,1),hi("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new f(d.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.WT(),new Wr(new St(S.G,t),this)},t.prototype.runTransaction=function(t){var e=this;return li("Firestore.runTransaction",arguments,1),hi("Firestore.runTransaction","function",1,t),this.WT().transaction((function(n){return t(new jr(e,n))}))},t.prototype.batch=function(){return this.WT(),new Ur(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(ge()){case s.LogLevel.DEBUG:return"debug";case s.LogLevel.SILENT:return"silent";default:return"error"}},enumerable:!0,configurable:!0}),t.setLogLevel=function(t){switch(li("Firestore.setLogLevel",arguments,1),hi("Firestore.setLogLevel","non-empty string",1,t),t){case"debug":ve(s.LogLevel.DEBUG);break;case"error":ve(s.LogLevel.ERROR);break;case"silent":ve(s.LogLevel.SILENT);break;default:throw new f(d.INVALID_ARGUMENT,"Invalid log level: "+t)}},t.prototype.rE=function(){return this.YT.timestampsInSnapshots},t}(),jr=function(){function t(t,e){this.hE=t,this.oE=e}return t.prototype.get=function(t){var e=this;li("Transaction.get",arguments,1);var n=Qr("Transaction.get",t,this.hE);return this.oE.A_([n.kc]).then((function(t){if(!t||1!==t.length)return xe();var i=t[0];if(i instanceof bt)return new Xr(e.hE,n.kc,null,!1,!1,n.aE);if(i instanceof yt)return new Xr(e.hE,n.kc,i,!1,!1,n.aE);throw xe()}))},t.prototype.set=function(t,e,n){ui("Transaction.set",arguments,2,3);var i=Qr("Transaction.set",t,this.hE);n=$r("Transaction.set",n);var r=to(i.aE,e,"Transaction.set"),o=r[0],s=r[1],a=n.merge||n.mergeFields?this.hE.JT.Dc(s,o,n.mergeFields):this.hE.JT.vc(s,o);return this.oE.set(i.kc,a),this},t.prototype.update=function(t,e,n){for(var i,r,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return"string"==typeof e||e instanceof Ti?(ci("Transaction.update",arguments,3),i=Qr("Transaction.update",t,this.hE),r=this.hE.JT.Fc("Transaction.update",e,n,o)):(li("Transaction.update",arguments,2),i=Qr("Transaction.update",t,this.hE),r=this.hE.JT.Cc("Transaction.update",e)),this.oE.update(i.kc,r),this},t.prototype.delete=function(t){li("Transaction.delete",arguments,1);var e=Qr("Transaction.delete",t,this.hE);return this.oE.delete(e.kc),this},t}(),Ur=function(){function t(t){this.hE=t,this.uE=[],this.cE=!1}return t.prototype.set=function(t,e,n){ui("WriteBatch.set",arguments,2,3),this._E();var i=Qr("WriteBatch.set",t,this.hE);n=$r("WriteBatch.set",n);var r=to(i.aE,e,"WriteBatch.set"),o=r[0],s=r[1],a=n.merge||n.mergeFields?this.hE.JT.Dc(s,o,n.mergeFields):this.hE.JT.vc(s,o);return this.uE=this.uE.concat(a.Ac(i.kc,ot.ft())),this},t.prototype.update=function(t,e,n){for(var i,r,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return this._E(),"string"==typeof e||e instanceof Ti?(ci("WriteBatch.update",arguments,3),i=Qr("WriteBatch.update",t,this.hE),r=this.hE.JT.Fc("WriteBatch.update",e,n,o)):(li("WriteBatch.update",arguments,2),i=Qr("WriteBatch.update",t,this.hE),r=this.hE.JT.Cc("WriteBatch.update",e)),this.uE=this.uE.concat(r.Ac(i.kc,ot.exists(!0))),this},t.prototype.delete=function(t){li("WriteBatch.delete",arguments,1),this._E();var e=Qr("WriteBatch.delete",t,this.hE);return this.uE=this.uE.concat(new ut(e.kc,ot.ft())),this},t.prototype.commit=function(){return this._E(),this.cE=!0,this.uE.length>0?this.hE.WT().write(this.uE):Promise.resolve()},t.prototype._E=function(){if(this.cE)throw new f(d.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),Hr=function(){function t(t,e,n){this.kc=t,this.firestore=e,this.aE=n,this.jT=this.firestore.WT()}return t.nE=function(e,n,i){if(e.length%2!=0)throw new f(d.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.j()+" has "+e.length);return new t(new k(e),n,i)},Object.defineProperty(t.prototype,"id",{get:function(){return this.kc.path.O()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new qr(this.kc.path.L(),this.firestore,this.aE)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.kc.path.j()},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(li("DocumentReference.collection",arguments,1),hi("DocumentReference.collection","non-empty string",1,t),!t)throw new f(d.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=S.K(t);return new qr(this.kc.path.child(e),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw wi("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this.kc.isEqual(e.kc)&&this.aE===e.aE},t.prototype.set=function(t,e){ui("DocumentReference.set",arguments,1,2),e=$r("DocumentReference.set",e);var n=to(this.aE,t,"DocumentReference.set"),i=n[0],r=n[1],o=e.merge||e.mergeFields?this.firestore.JT.Dc(r,i,e.mergeFields):this.firestore.JT.vc(r,i);return this.jT.write(o.Ac(this.kc,ot.ft()))},t.prototype.update=function(t,e){for(var n,i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];return"string"==typeof t||t instanceof Ti?(ci("DocumentReference.update",arguments,2),n=this.firestore.JT.Fc("DocumentReference.update",t,e,i)):(li("DocumentReference.update",arguments,1),n=this.firestore.JT.Cc("DocumentReference.update",t)),this.jT.write(n.Ac(this.kc,ot.exists(!0)))},t.prototype.delete=function(){return li("DocumentReference.delete",arguments,0),this.jT.write([new ut(this.kc,ot.ft())])},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];ui("DocumentReference.onSnapshot",arguments,1,4);var n,i={includeMetadataChanges:!1},r=0;"object"!=typeof t[r]||Rr(t[r])||(xi("DocumentReference.onSnapshot",i=t[r],["includeMetadataChanges"]),pi("DocumentReference.onSnapshot","boolean","includeMetadataChanges",i.includeMetadataChanges),r++);var o={includeMetadataChanges:i.includeMetadataChanges};return Rr(t[r])?n=t[r]:(hi("DocumentReference.onSnapshot","function",r,t[r]),di("DocumentReference.onSnapshot","function",r+1,t[r+1]),di("DocumentReference.onSnapshot","function",r+2,t[r+2]),n={next:t[r],error:t[r+1],complete:t[r+2]}),this.lE(o,n)},t.prototype.lE=function(t,e){var n=this,i=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(i=e.error.bind(e));var r=new Dr({next:function(t){if(e.next){var i=t.docs.get(n.kc);e.next(new Xr(n.firestore,n.kc,i,t.fromCache,t.hasPendingWrites,n.aE))}},error:i}),o=this.jT.listen(St.Wt(this.kc.path),r,t);return function(){r.NT(),n.jT.rl(o)}},t.prototype.get=function(t){var e=this;return ui("DocumentReference.get",arguments,0,1),Zr("DocumentReference.get",t),new Promise((function(n,i){t&&"cache"===t.source?e.firestore.WT().DT(e.kc).then((function(t){n(new Xr(e.firestore,e.kc,t,!0,t instanceof yt&&t.At,e.aE))}),i):e.dE(n,i,t)}))},t.prototype.dE=function(t,e,n){var i=this.lE({includeMetadataChanges:!0,Of:!0},{next:function(r){i(),!r.exists&&r.metadata.fromCache?e(new f(d.UNAVAILABLE,"Failed to get document because the client is offline.")):r.exists&&r.metadata.fromCache&&n&&"server"===n.source?e(new f(d.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):t(r)},error:e})},t.prototype.withConverter=function(e){return new t(this.kc,this.firestore,e)},t}(),Br=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Xr=function(){function t(t,e,n,i,r,o){this.hE=t,this.kc=e,this.fE=n,this.TE=i,this.EE=r,this.aE=o}return t.prototype.data=function(t){if(ui("DocumentSnapshot.data",arguments,0,1),t=Kr("DocumentSnapshot.data",t),this.fE){if(this.aE){var e=new Yr(this.hE,this.kc,this.fE,this.TE,this.EE);return this.aE.fromFirestore(e,t)}return new Mr(this.hE,this.hE.rE(),t.serverTimestamps,void 0).kT(this.fE.Lt())}},t.prototype.get=function(t,e){if(ui("DocumentSnapshot.get",arguments,1,2),e=Kr("DocumentSnapshot.get",e),this.fE){var n=this.fE.data().field(Gi("DocumentSnapshot.get",t));if(null!==n)return new Mr(this.hE,this.hE.rE(),e.serverTimestamps,this.aE).kT(n)}},Object.defineProperty(t.prototype,"id",{get:function(){return this.kc.path.O()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Hr(this.kc,this.hE,this.aE)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this.fE},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new Br(this.EE,this.TE)},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw wi("isEqual","DocumentSnapshot",1,e);return this.hE===e.hE&&this.TE===e.TE&&this.kc.isEqual(e.kc)&&(null===this.fE?null===e.fE:this.fE.isEqual(e.fE))&&this.aE===e.aE},t}(),Yr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.data=function(e){return t.prototype.data.call(this,e)},e}(Xr),Wr=function(){function t(t,e,n){this.IE=t,this.firestore=e,this.aE=n}return t.prototype.where=function(e,n,i){li("Query.where",arguments,3),bi("Query.where",3,i);var r,o=function(t,e,n,i){if(!e.some((function(t){return t===i})))throw new f(d.INVALID_ARGUMENT,"Invalid value "+yi(i)+" provided to function Query.where() for its "+Ai(2)+" argument. Acceptable values: "+e.join(", "));return i}(0,["<","<=","==",">=",">","array-contains","in","array-contains-any"],0,n),s=Gi("Query.where",e);if(s.Y()){if("array-contains"===o||"array-contains-any"===o)throw new f(d.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o){this.wE(i,o);for(var a=[],l=0,c=i;l<c.length;l++){var u=c[l];a.push(this.RE(u))}r={arrayValue:{values:a}}}else r=this.RE(i)}else"in"!==o&&"array-contains-any"!==o||this.wE(i,o),r=this.firestore.JT.Nc("Query.where",i,"in"===o);var h=At.create(s,o,r);return this.AE(h),new t(this.IE.Gt(h),this.firestore,this.aE)},t.prototype.orderBy=function(e,n){var i;if(ui("Query.orderBy",arguments,1,2),di("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)i="asc";else{if("desc"!==n)throw new f(d.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");i="desc"}if(null!==this.IE.startAt)throw new f(d.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this.IE.endAt)throw new f(d.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var r=Gi("Query.orderBy",e),o=new Nt(r,i);return this.mE(o),new t(this.IE.zt(o),this.firestore,this.aE)},t.prototype.limit=function(e){return li("Query.limit",arguments,1),hi("Query.limit","number",1,e),Si("Query.limit",1,e),new t(this.IE.Ht(e),this.firestore,this.aE)},t.prototype.limitToLast=function(e){return li("Query.limitToLast",arguments,1),hi("Query.limitToLast","number",1,e),Si("Query.limitToLast",1,e),new t(this.IE.Yt(e),this.firestore,this.aE)},t.prototype.startAt=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];ci("Query.startAt",arguments,1);var r=this.PE("Query.startAt",e,n,!0);return new t(this.IE.Jt(r),this.firestore,this.aE)},t.prototype.startAfter=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];ci("Query.startAfter",arguments,1);var r=this.PE("Query.startAfter",e,n,!1);return new t(this.IE.Jt(r),this.firestore,this.aE)},t.prototype.endBefore=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];ci("Query.endBefore",arguments,1);var r=this.PE("Query.endBefore",e,n,!0);return new t(this.IE.Xt(r),this.firestore,this.aE)},t.prototype.endAt=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];ci("Query.endAt",arguments,1);var r=this.PE("Query.endAt",e,n,!1);return new t(this.IE.Xt(r),this.firestore,this.aE)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw wi("isEqual","Query",1,e);return this.firestore===e.firestore&&this.IE.isEqual(e.IE)},t.prototype.withConverter=function(e){return new t(this.IE,this.firestore,e)},t.prototype.PE=function(t,e,n,i){if(bi(t,1,e),e instanceof Xr){if(n.length>0)throw new f(d.INVALID_ARGUMENT,"Too many arguments provided to "+t+"().");var r=e;if(!r.exists)throw new f(d.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");return this.VE(r.fE,i)}var o=[e].concat(n);return this.gE(t,o,i)},t.prototype.VE=function(t,e){for(var n=[],i=0,r=this.IE.orderBy;i<r.length;i++){var o=r[i];if(o.field.Y())n.push(Y(this.firestore.$c,t.key));else{var s=t.field(o.field);if(O(s))throw new f(d.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===s){var a=o.field.j();throw new f(d.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+a+"' (used as the orderBy) does not exist.")}n.push(s)}}return new It(n,e)},t.prototype.gE=function(t,e,n){var i=this.IE.xt;if(e.length>i.length)throw new f(d.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var r=[],o=0;o<e.length;o++){var s=e[o];if(i[o].field.Y()){if("string"!=typeof s)throw new f(d.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof s);if(!this.IE._e()&&-1!==s.indexOf("/"))throw new f(d.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+t+"() must be a plain document ID, but '"+s+"' contains a slash.");var a=this.IE.path.child(S.K(s));if(!k.et(a))throw new f(d.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+t+"() must result in a valid document path, but '"+a+"' is not because it contains an odd number of segments.");var l=new k(a);r.push(Y(this.firestore.$c,l))}else{var c=this.firestore.JT.Nc(t,s);r.push(c)}}return new It(r,n)},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];ui("Query.onSnapshot",arguments,1,4);var n,i={},r=0;return"object"!=typeof t[r]||Rr(t[r])||(xi("Query.onSnapshot",i=t[r],["includeMetadataChanges"]),pi("Query.onSnapshot","boolean","includeMetadataChanges",i.includeMetadataChanges),r++),Rr(t[r])?n=t[r]:(hi("Query.onSnapshot","function",r,t[r]),di("Query.onSnapshot","function",r+1,t[r+1]),di("Query.onSnapshot","function",r+2,t[r+2]),n={next:t[r],error:t[r+1],complete:t[r+2]}),this.pE(this.IE),this.lE(i,n)},t.prototype.lE=function(t,e){var n=this,i=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(i=e.error.bind(e));var r=new Dr({next:function(t){e.next&&e.next(new Gr(n.firestore,n.IE,t,n.aE))},error:i}),o=this.firestore.WT(),s=o.listen(this.IE,r,t);return function(){r.NT(),o.rl(s)}},t.prototype.pE=function(t){if(t.ae()&&0===t.xt.length)throw new f(d.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")},t.prototype.get=function(t){var e=this;return ui("Query.get",arguments,0,1),Zr("Query.get",t),this.pE(this.IE),new Promise((function(n,i){t&&"cache"===t.source?e.firestore.WT().CT(e.IE).then((function(t){n(new Gr(e.firestore,e.IE,t,e.aE))}),i):e.dE(n,i,t)}))},t.prototype.dE=function(t,e,n){var i=this.lE({includeMetadataChanges:!0,Of:!0},{next:function(r){i(),r.metadata.fromCache&&n&&"server"===n.source?e(new f(d.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):t(r)},error:e})},t.prototype.RE=function(t){if("string"==typeof t){if(""===t)throw new f(d.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!this.IE._e()&&-1!==t.indexOf("/"))throw new f(d.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+t+"' contains a '/' character.");var e=this.IE.path.child(S.K(t));if(!k.et(e))throw new f(d.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+e+"' is not because it has an odd number of segments ("+e.length+").");return Y(this.firestore.$c,new k(e))}if(t instanceof Hr)return Y(this.firestore.$c,t.kc);throw new f(d.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+yi(t)+".")},t.prototype.wE=function(t,e){if(!Array.isArray(t)||0===t.length)throw new f(d.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new f(d.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if(t.indexOf(null)>=0)throw new f(d.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(t.filter((function(t){return Number.isNaN(t)})).length>0)throw new f(d.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")},t.prototype.AE=function(t){if(t instanceof At){var e=["array-contains","array-contains-any"],n=["in","array-contains-any"],i=e.indexOf(t.op)>=0,r=n.indexOf(t.op)>=0;if(t.ue()){var o=this.IE.jt();if(null!==o&&!o.isEqual(t.field))throw new f(d.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+o.toString()+"' and '"+t.field.toString()+"'");var s=this.IE.Kt();null!==s&&this.yE(t.field,s)}else if(r||i){var a=null;if(r&&(a=this.IE.ce(n)),null===a&&i&&(a=this.IE.ce(e)),null!=a)throw new f(d.INVALID_ARGUMENT,a===t.op?"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter.":"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+a.toString()+"' filters.")}}},t.prototype.mE=function(t){if(null===this.IE.Kt()){var e=this.IE.jt();null!==e&&this.yE(e,t.field)}},t.prototype.yE=function(t,e){if(!e.isEqual(t))throw new f(d.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},t}(),Gr=function(){function t(t,e,n,i){this.hE=t,this.bE=e,this.vE=n,this.aE=i,this.SE=null,this.DE=null,this.metadata=new Br(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.vE.docs.B()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.vE.docs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;ui("QuerySnapshot.forEach",arguments,1,2),hi("QuerySnapshot.forEach","function",1,t),this.vE.docs.forEach((function(i){t.call(e,n.CE(i))}))},Object.defineProperty(t.prototype,"query",{get:function(){return new Wr(this.bE,this.hE,this.aE)},enumerable:!0,configurable:!0}),t.prototype.docChanges=function(t){t&&(xi("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),pi("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this.vE.hs)throw new f(d.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.SE&&this.DE===e||(this.SE=function(t,e,n,i){if(n.ss.B()){var r=0;return n.docChanges.map((function(e){return{type:"added",doc:new Yr(t,e.doc.key,e.doc,n.fromCache,n.ns.has(e.doc.key),i),oldIndex:-1,newIndex:r++}}))}var o=n.ss;return n.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var r=new Yr(t,e.doc.key,e.doc,n.fromCache,n.ns.has(e.doc.key),i),s=-1,a=-1;return 0!==e.type&&(s=o.indexOf(e.doc.key),o=o.delete(e.doc.key)),1!==e.type&&(a=(o=o.add(e.doc)).indexOf(e.doc.key)),{type:Jr(e.type),doc:r,oldIndex:s,newIndex:a}}))}(this.hE,e,this.vE,this.aE),this.DE=e),this.SE},t.prototype.isEqual=function(e){if(!(e instanceof t))throw wi("isEqual","QuerySnapshot",1,e);return this.hE===e.hE&&this.bE.isEqual(e.bE)&&this.vE.isEqual(e.vE)&&this.aE===e.aE},t.prototype.CE=function(t){return new Yr(this.hE,t.key,t,this.metadata.fromCache,this.vE.ns.has(t.key),this.aE)},t}(),qr=function(t){function e(e,n,i){var r=this;if((r=t.call(this,St.Wt(e),n,i)||this).FE=e,e.length%2!=1)throw new f(d.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.j()+" has "+e.length);return r}return r.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.IE.path.O()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.IE.path.L();return t.B()?null:new Hr(new k(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.IE.path.j()},enumerable:!0,configurable:!0}),e.prototype.doc=function(t){if(ui("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=Ae.cn()),hi("CollectionReference.doc","non-empty string",1,t),""===t)throw new f(d.INVALID_ARGUMENT,"Document path must be a non-empty string");var e=S.K(t);return Hr.nE(this.IE.path.child(e),this.firestore,this.aE)},e.prototype.add=function(t){li("CollectionReference.add",arguments,1),hi("CollectionReference.add","object",1,this.aE?this.aE.toFirestore(t):t);var e=this.doc();return e.set(t).then((function(){return e}))},e.prototype.withConverter=function(t){return new e(this.FE,this.firestore,t)},e}(Wr);function $r(t,e){if(void 0===e)return{merge:!1};if(xi(t,e,["merge","mergeFields"]),pi(t,"boolean","merge",e.merge),function(t,e,n,i,r){void 0!==i&&function(t,e,n,i,r){if(!(i instanceof Array))throw new f(d.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+yi(i));for(var o=0;o<i.length;++o)if(!r(i[o]))throw new f(d.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be a string or a FieldPath, but the value at index "+o+" was: "+yi(i[o]))}(t,"mergeFields",0,i,(function(t){return"string"==typeof t||t instanceof Ti}))}(t,0,0,e.mergeFields),void 0!==e.mergeFields&&void 0!==e.merge)throw new f(d.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Kr(t,e){return void 0===e?{}:(xi(t,e,["serverTimestamps"]),gi(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function Zr(t,e){di(t,"object",1,e),e&&(xi(t,e,["source"]),gi(t,0,"source",e.source,["default","server","cache"]))}function Qr(t,e,n){if(e instanceof Hr){if(e.firestore!==n)throw new f(d.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw wi(t,"DocumentReference",1,e)}function Jr(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe()}}function to(t,e,n){var i;return t?(i=t.toFirestore(e),n="toFirestore() in "+n):i=e,[i,n]}function eo(t,e){function n(){var t="This constructor is private.";throw e&&(t+=" ",t+=e),new f(d.INVALID_ARGUMENT,t)}return n.prototype=t.prototype,Object.assign(n,t),n}var no=eo(Vr,"Use firebase.firestore() instead."),io=eo(jr,"Use firebase.firestore().runTransaction() instead."),ro=eo(Ur,"Use firebase.firestore().batch() instead."),oo=eo(Hr,"Use firebase.firestore().doc() instead."),so=eo(Xr),ao=eo(Yr),lo=eo(Wr),co=eo(Gr),uo=eo(qr,"Use firebase.firestore().collection() instead."),ho=eo(function(){function t(){}return t.delete=function(){return ai("FieldValue.delete",arguments),new Pi},t.serverTimestamp=function(){return ai("FieldValue.serverTimestamp",arguments),new Li},t.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ci("FieldValue.arrayUnion",arguments,1),new Oi(t)},t.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ci("FieldValue.arrayRemove",arguments,1),new Di(t)},t.increment=function(t){return hi("FieldValue.increment","number",1,t),li("FieldValue.increment",arguments,1),new Ri(t)},t.prototype.isEqual=function(t){return this===t},t}(),"Use FieldValue.<field>() instead."),fo=eo(Ci,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),po={Firestore:no,GeoPoint:Mi,Timestamp:b,Blob:fo,Transaction:io,WriteBatch:ro,DocumentReference:oo,DocumentSnapshot:so,Query:lo,QueryDocumentSnapshot:ao,QuerySnapshot:co,CollectionReference:uo,FieldPath:Ti,FieldValue:ho,setLogLevel:Vr.setLogLevel,CACHE_SIZE_UNLIMITED:Fr},go=function(){function t(){}return t.prototype.B_=function(t){},t.prototype.mo=function(){},t}(),vo=function(){function t(){var t=this;this.NE=function(){return t.$E()},this.kE=function(){return t.LE()},this.ME=[],this.OE()}return t.prototype.B_=function(t){this.ME.push(t)},t.prototype.mo=function(){window.removeEventListener("online",this.NE),window.removeEventListener("offline",this.kE)},t.prototype.OE=function(){window.addEventListener("online",this.NE),window.addEventListener("offline",this.kE)},t.prototype.$E=function(){me("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.ME;t<e.length;t++)(0,e[t])(0)},t.prototype.LE=function(){me("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.ME;t<e.length;t++)(0,e[t])(1)},t.Gh=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),mo=function(){function t(t){this.xE=t.xE,this.BE=t.BE}return t.prototype.e_=function(t){this.qE=t},t.prototype.Yc=function(t){this.UE=t},t.prototype.onMessage=function(t){this.QE=t},t.prototype.close=function(){this.BE()},t.prototype.send=function(t){this.xE(t)},t.prototype.WE=function(){this.qE()},t.prototype.jE=function(t){this.UE(t)},t.prototype.KE=function(t){this.QE(t)},t}(),yo={BatchGetDocuments:"batchGet",Commit:"commit"},bo="gl-js/ fire/"+u,xo=function(){function t(t){this.ii=t.ii,this.GE=(t.ssl?"https":"http")+"://"+t.host,this.forceLongPolling=t.forceLongPolling}return t.prototype.zE=function(t,e){if(e)for(var n in e.o)e.o.hasOwnProperty(n)&&(t[n]=e.o[n]);t["X-Goog-Api-Client"]=bo},t.prototype.d_=function(t,e,n){var i=this,r=this.HE(t);return new Promise((function(o,s){var a=new c.XhrIo;a.listenOnce(c.EventType.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case c.ErrorCode.NO_ERROR:var e=a.getResponseJson();me("Connection","XHR received:",JSON.stringify(e)),o(e);break;case c.ErrorCode.TIMEOUT:me("Connection",'RPC "'+t+'" timed out'),s(new f(d.DEADLINE_EXCEEDED,"Request time out"));break;case c.ErrorCode.HTTP_ERROR:var n=a.getStatus();if(me("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var i=a.getResponseJson().error;if(i&&i.status&&i.message){var r=function(t){var e=t.toLowerCase().replace("_","-");return Object.values(d).indexOf(e)>=0?e:d.UNKNOWN}(i.status);s(new f(r,i.message))}else s(new f(d.UNKNOWN,"Server responded with status "+a.getStatus()))}else me("Connection",'RPC "'+t+'" failed'),s(new f(d.UNAVAILABLE,"Connection failed."));break;default:xe()}}finally{me("Connection",'RPC "'+t+'" completed.')}}));var l=Object.assign({},e);delete l.database;var u=JSON.stringify(l);me("Connection","XHR sending: ",r+" "+u);var h={"Content-Type":"text/plain"};i.zE(h,n),a.send(r,"POST",u,h,15)}))},t.prototype.f_=function(t,e,n){return this.d_(t,e,n)},t.prototype.s_=function(t,e){var n=[this.GE,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=c.createWebChannelTransport(),r={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.ii.projectId+"/databases/"+this.ii.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.zE(r.initMessageHeaders,e),a.isMobileCordova()||a.isReactNative()||a.isElectron()||a.isIE()||a.isUWP()||a.isBrowserExtension()||(r.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");me("Connection","Creating WebChannel: "+o+" "+r);var s=i.createWebChannel(o,r),l=!1,u=!1,h=new mo({xE:function(t){u?me("Connection","Not sending because WebChannel is closed:",t):(l||(me("Connection","Opening WebChannel transport."),s.open(),l=!0),me("Connection","WebChannel sending:",t),s.send(t))},BE:function(){return s.close()}}),p=function(t,e){s.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return p(c.WebChannel.EventType.OPEN,(function(){u||me("Connection","WebChannel transport opened.")})),p(c.WebChannel.EventType.CLOSE,(function(){u||(u=!0,me("Connection","WebChannel transport closed"),h.jE())})),p(c.WebChannel.EventType.ERROR,(function(t){u||(u=!0,me("Connection","WebChannel transport errored:",t),h.jE(new f(d.UNAVAILABLE,"The operation could not be completed")))})),p(c.WebChannel.EventType.MESSAGE,(function(t){var e;if(!u){var n=t.data[0];we(!!n);var i=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(i){me("Connection","WebChannel received error:",i);var r=i.status,o=function(t){var e=gt[t];if(void 0!==e)return Dt(e)}(r),a=i.message;void 0===o&&(o=d.INTERNAL,a="Unknown error status: "+r+" with message "+i.message),u=!0,h.jE(new f(o,a)),s.close()}else me("Connection","WebChannel received:",n),h.KE(n)}})),setTimeout((function(){h.WE()}),0),h},t.prototype.HE=function(t){return this.GE+"/v1/projects/"+this.ii.projectId+"/databases/"+this.ii.database+"/documents:"+yo[t]},t}();function wo(t){!function(t,e){t.INTERNAL.registerComponent(new l.Component("firestore",(function(t){return function(t,e){return new Vr(t,e,new Lr)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},po)))}(t),t.registerVersion("@firebase/firestore","1.14.6")}fe.an(new(function(){function t(){this.ac="undefined"!=typeof atob}return Object.defineProperty(t.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),t.prototype.yT=function(t){return Promise.resolve(new xo(t))},t.prototype.AT=function(){return vo.Gh()?new vo:new go},t.prototype.bc=function(t){return new he(t,{hi:!0})},t.prototype.un=function(t){return JSON.stringify(t)},t.prototype.atob=function(t){return atob(t)},t.prototype.btoa=function(t){return btoa(t)},t.prototype._n=function(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e)e.getRandomValues(n);else for(var i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n},t}())),wo(o),e.__PRIVATE_registerFirestore=wo},PDX0:function(t,e){(function(e){t.exports=e}).call(this,{})},"S+S0":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("UBlB"),r=n("zVF4"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new r.Deferred;this.instancesDeferred.set(e,n);try{var i=this.getOrInitializeService(e);i&&n.resolve(i)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=i.__assign({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,r=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(r);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(s){if(n)return null;throw s}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(u){}try{for(var r=i.__values(this.instancesDeferred.entries()),o=r.next();!o.done;o=r.next()){var s=i.__read(o.value,2),a=s[1],l=this.normalizeInstanceIdentifier(s[0]);try{var c=this.getOrInitializeService(l);a.resolve(c)}catch(u){}}}catch(h){e={error:h}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return i.__awaiter(this,void 0,void 0,(function(){var t;return i.__generator(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new s(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();e.Component=o,e.ComponentContainer=a,e.Provider=s},UBlB:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return r})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return s})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return l})),n.d(e,"__metadata",(function(){return c})),n.d(e,"__awaiter",(function(){return u})),n.d(e,"__generator",(function(){return h})),n.d(e,"__exportStar",(function(){return d})),n.d(e,"__values",(function(){return f})),n.d(e,"__read",(function(){return p})),n.d(e,"__spread",(function(){return g})),n.d(e,"__spreadArrays",(function(){return v})),n.d(e,"__await",(function(){return m})),n.d(e,"__asyncGenerator",(function(){return y})),n.d(e,"__asyncDelegator",(function(){return b})),n.d(e,"__asyncValues",(function(){return x})),n.d(e,"__makeTemplateObject",(function(){return w})),n.d(e,"__importStar",(function(){return S})),n.d(e,"__importDefault",(function(){return A})),n.d(e,"__classPrivateFieldGet",(function(){return E})),n.d(e,"__classPrivateFieldSet",(function(){return k}));var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function r(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}function a(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function l(t,e){return function(n,i){e(n,i,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function u(t,e,n,i){return new(n||(n=Promise))((function(r,o){function s(t){try{l(i.next(t))}catch(e){o(e)}}function a(t){try{l(i.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((i=i.apply(t,e||[])).next())}))}function h(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function d(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function f(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s}function g(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function v(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i}function m(t){return this instanceof m?(this.v=t,this):new m(t)}function y(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(t){r[t]&&(i[t]=function(e){return new Promise((function(n,i){o.push([t,e,n,i])>1||a(t,e)}))})}function a(t,e){try{(n=r[t](e)).value instanceof m?Promise.resolve(n.value.v).then(l,c):u(o[0][2],n)}catch(i){u(o[0][3],i)}var n}function l(t){a("next",t)}function c(t){a("throw",t)}function u(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function b(t){var e,n;return e={},i("next"),i("throw",(function(t){throw t})),i("return"),e[Symbol.iterator]=function(){return this},e;function i(i,r){e[i]=t[i]?function(e){return(n=!n)?{value:m(t[i](e)),done:"return"===i}:r?r(e):e}:r}}function x(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=f(t),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(n){e[n]=t[n]&&function(e){return new Promise((function(i,r){!function(t,e,n,i){Promise.resolve(i).then((function(e){t({value:e,done:n})}),e)}(i,r,(e=t[n](e)).done,e.value)}))}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function S(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function A(t){return t&&t.__esModule?t:{default:t}}function E(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function k(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},Wcq6:function(t,e,n){"use strict";var i,r=(i=n("wj3C"))&&"object"==typeof i&&"default"in i?i.default:i;r.registerVersion("firebase","7.14.6","app"),t.exports=r},os0x:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return r})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return s})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return l})),n.d(e,"__metadata",(function(){return c})),n.d(e,"__awaiter",(function(){return u})),n.d(e,"__generator",(function(){return h})),n.d(e,"__exportStar",(function(){return d})),n.d(e,"__values",(function(){return f})),n.d(e,"__read",(function(){return p})),n.d(e,"__spread",(function(){return g})),n.d(e,"__spreadArrays",(function(){return v})),n.d(e,"__await",(function(){return m})),n.d(e,"__asyncGenerator",(function(){return y})),n.d(e,"__asyncDelegator",(function(){return b})),n.d(e,"__asyncValues",(function(){return x})),n.d(e,"__makeTemplateObject",(function(){return w})),n.d(e,"__importStar",(function(){return S})),n.d(e,"__importDefault",(function(){return A})),n.d(e,"__classPrivateFieldGet",(function(){return E})),n.d(e,"__classPrivateFieldSet",(function(){return k}));var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function r(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}function a(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function l(t,e){return function(n,i){e(n,i,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function u(t,e,n,i){return new(n||(n=Promise))((function(r,o){function s(t){try{l(i.next(t))}catch(e){o(e)}}function a(t){try{l(i.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((i=i.apply(t,e||[])).next())}))}function h(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function d(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function f(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s}function g(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function v(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i}function m(t){return this instanceof m?(this.v=t,this):new m(t)}function y(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(t){r[t]&&(i[t]=function(e){return new Promise((function(n,i){o.push([t,e,n,i])>1||a(t,e)}))})}function a(t,e){try{(n=r[t](e)).value instanceof m?Promise.resolve(n.value.v).then(l,c):u(o[0][2],n)}catch(i){u(o[0][3],i)}var n}function l(t){a("next",t)}function c(t){a("throw",t)}function u(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function b(t){var e,n;return e={},i("next"),i("throw",(function(t){throw t})),i("return"),e[Symbol.iterator]=function(){return this},e;function i(i,r){e[i]=t[i]?function(e){return(n=!n)?{value:m(t[i](e)),done:"return"===i}:r?r(e):e}:r}}function x(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=f(t),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(n){e[n]=t[n]&&function(e){return new Promise((function(i,r){!function(t,e,n,i){Promise.resolve(i).then((function(e){t({value:e,done:n})}),e)}(i,r,(e=t[n](e)).done,e.value)}))}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function S(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function A(t){return t&&t.__esModule?t:{default:t}}function E(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function k(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},"q/0M":function(t,e,n){"use strict";function i(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i}var r;n.r(e),n.d(e,"LogLevel",(function(){return s})),n.d(e,"Logger",(function(){return h})),n.d(e,"setLogLevel",(function(){return d})),n.d(e,"setUserLogHandler",(function(){return f}));var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},l=s.INFO,c=((r={})[s.DEBUG]="log",r[s.VERBOSE]="log",r[s.INFO]="info",r[s.WARN]="warn",r[s.ERROR]="error",r),u=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,i(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=l,this._logHandler=u,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,s.DEBUG],t)),this._logHandler.apply(this,i([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,s.VERBOSE],t)),this._logHandler.apply(this,i([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,s.INFO],t)),this._logHandler.apply(this,i([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,s.WARN],t)),this._logHandler.apply(this,i([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,s.ERROR],t)),this._logHandler.apply(this,i([this,s.ERROR],t))},t}();function d(t){var e="string"==typeof t?a[t]:t;o.forEach((function(t){t.logLevel=e}))}function f(t,e){for(var n=function(n){var i=null;e&&e.level&&(i=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var a=r.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=i?i:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:r,type:e.name})}},i=0,r=o;i<r.length;i++)n(r[i])}},wj3C:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r,o=n("30Go"),s=n("zVF4"),a=n("S+S0"),l=n("q/0M"),c=((i={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",i["bad-app-name"]="Illegal App name: '{$appName}",i["duplicate-app"]="Firebase App named '{$appName}' already exists",i["app-deleted"]="Firebase App named '{$appName}' already deleted",i["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",i["invalid-log-argument"]="First argument to `onLog` must be null or a function.",i),u=new s.ErrorFactory("app","Firebase",c),h=((r={})["@firebase/app"]="fire-core",r["@firebase/analytics"]="fire-analytics",r["@firebase/auth"]="fire-auth",r["@firebase/database"]="fire-rtdb",r["@firebase/functions"]="fire-fn",r["@firebase/installations"]="fire-iid",r["@firebase/messaging"]="fire-fcm",r["@firebase/performance"]="fire-perf",r["@firebase/remote-config"]="fire-rc",r["@firebase/storage"]="fire-gcs",r["@firebase/firestore"]="fire-fst",r["fire-js"]="fire-js",r["firebase-wrapper"]="fire-js-all",r),d=new l.Logger("@firebase/app"),f=function(){function t(t,e,n){var i,r,l=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=s.deepCopy(t),this.container=new a.ComponentContainer(e.name),this._addComponent(new a.Component("app",(function(){return l}),"PUBLIC"));try{for(var c=o.__values(this.firebase_.INTERNAL.components.values()),u=c.next();!u.done;u=c.next())this._addComponent(u.value)}catch(h){i={error:h}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(i)throw i.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){d.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw u.create("app-deleted",{appName:this.name_})},t}();f.prototype.name&&f.prototype.options||f.prototype.delete||console.log("dc");var p=function t(){var e=function(t){var e={},n=new Map,i={__esModule:!0,initializeApp:function(n,r){void 0===r&&(r={}),"object"==typeof r&&null!==r||(r={name:r});var o=r;void 0===o.name&&(o.name="[DEFAULT]");var a=o.name;if("string"!=typeof a||!a)throw u.create("bad-app-name",{appName:String(a)});if(s.contains(e,a))throw u.create("duplicate-app",{appName:a});var l=new t(n,o,i);return e[a]=l,l},app:r,registerVersion:function(t,e,n){var i,r=null!==(i=h[t])&&void 0!==i?i:t;n&&(r+="-"+n);var o=r.match(/\s|\//),s=e.match(/\s|\//);if(o||s){var l=['Unable to register library "'+r+'" with version "'+e+'":'];return o&&l.push('library name "'+r+'" contains illegal characters (whitespace or "/")'),o&&s&&l.push("and"),s&&l.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void d.warn(l.join(" "))}c(new a.Component(r+"-version",(function(){return{library:r,version:e}}),"VERSION"))},setLogLevel:l.setLogLevel,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw u.create("invalid-log-argument",{appName:name});l.setUserLogHandler(t,e)},apps:null,SDK_VERSION:"7.14.5",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function r(t){if(!s.contains(e,t=t||"[DEFAULT]"))throw u.create("no-app",{appName:t});return e[t]}function c(a){var l,c,h=a.name;if(n.has(h))return d.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?i[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var f=function(t){if(void 0===t&&(t=r()),"function"!=typeof t[h])throw u.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&s.deepExtend(f,a.serviceProps),i[h]=f,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,h);return n.apply(this,a.multipleInstances?t:[])}}try{for(var p=o.__values(Object.keys(e)),g=p.next();!g.done;g=p.next())e[g.value]._addComponent(a)}catch(v){l={error:v}}finally{try{g&&!g.done&&(c=p.return)&&c.call(p)}finally{if(l)throw l.error}}return"PUBLIC"===a.type?i[h]:null}return i.default=i,Object.defineProperty(i,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),r.App=t,i}(f);return e.INTERNAL=o.__assign(o.__assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){s.deepExtend(e,t)},createSubscribe:s.createSubscribe,ErrorFactory:s.ErrorFactory,deepExtend:s.deepExtend}),e}(),g=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(s.isBrowser()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var m=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return s.isNode()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),m.apply(void 0,t)};var y=p;!function(t,e){t.INTERNAL.registerComponent(new a.Component("platform-logger",(function(t){return new g(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.4",void 0),t.registerVersion("fire-js","")}(y),e.default=y,e.firebase=y},x7I3:function(t,e,n){"use strict";function i(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}n.r(e),n.d(e,"ErrorCode",(function(){return qn})),n.d(e,"EventType",(function(){return $n})),n.d(e,"WebChannel",(function(){return Kn})),n.d(e,"XhrIo",(function(){return Zn})),n.d(e,"createWebChannelTransport",(function(){return Gn}));var r,o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},s=s||{},a=o||self;function l(){}function c(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function u(t){var e=c(t);return"array"==e||"object"==e&&"number"==typeof t.length}function h(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var d="closure_uid_"+(1e9*Math.random()>>>0),f=0;function p(t,e,n){return t.call.apply(t.bind,arguments)}function g(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function v(t,e,n){return(v=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?p:g).apply(null,arguments)}function m(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var y=Date.now||function(){return+new Date};function b(t,e){function n(){}n.prototype=e.prototype,t.M=e.prototype,t.prototype=new n,t.prototype.constructor=t}function x(){this.j=this.j,this.i=this.i}x.prototype.j=!1,x.prototype.da=function(){!this.j&&(this.j=!0,this.C(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,d)&&t[d]||(t[d]=++f)}(this)},x.prototype.C=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var w=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},S=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,r="string"==typeof t?t.split(""):t,o=0;o<i;o++)o in r&&e.call(n,r[o],o,t)};function A(t){return Array.prototype.concat.apply([],arguments)}function E(t){var e=t.length;if(0<e){for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}return[]}function k(t){return/^[\s\xa0]*$/.test(t)}var _,C=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function T(t,e){return-1!=t.indexOf(e)}function I(t,e){return t<e?-1:t>e?1:0}t:{var N=a.navigator;if(N){var P=N.userAgent;if(P){_=P;break t}}_=""}function L(t,e,n){for(var i in t)e.call(n,t[i],i,t)}function O(t){var e={};for(var n in t)e[n]=t[n];return e}var D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(t,e){for(var n,i,r=1;r<arguments.length;r++){for(n in i=arguments[r])t[n]=i[n];for(var o=0;o<D.length;o++)n=D[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function M(t){return M[" "](t),t}M[" "]=l;var F,z,V=T(_,"Opera"),j=T(_,"Trident")||T(_,"MSIE"),U=T(_,"Edge"),H=U||j,B=T(_,"Gecko")&&!(T(_.toLowerCase(),"webkit")&&!T(_,"Edge"))&&!(T(_,"Trident")||T(_,"MSIE"))&&!T(_,"Edge"),X=T(_.toLowerCase(),"webkit")&&!T(_,"Edge");function Y(){var t=a.document;return t?t.documentMode:void 0}t:{var W="",G=(z=_,B?/rv:([^\);]+)(\)|;)/.exec(z):U?/Edge\/([\d\.]+)/.exec(z):j?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(z):X?/WebKit\/(\S+)/.exec(z):V?/(?:Version)[ \/]?(\S+)/.exec(z):void 0);if(G&&(W=G?G[1]:""),j){var q=Y();if(null!=q&&q>parseFloat(W)){F=String(q);break t}}F=W}var $={};function K(t){return function(t,e){var n=$;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=C(String(F)).split("."),i=C(String(t)).split("."),r=Math.max(n.length,i.length),o=0;0==e&&o<r;o++){var s=n[o]||"",a=i[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=I(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||I(0==s[2].length,0==a[2].length)||I(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}var Z=a.document&&j&&(Y()||parseInt(F,10))||void 0,Q=!j||9<=Number(Z),J=j&&!K("9"),tt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",l,e),a.removeEventListener("test",l,e)}catch(n){}return t}();function et(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function nt(t,e){if(et.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(B){t:{try{M(e.nodeName);var r=!0;break t}catch(o){}r=!1}r||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:it[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}et.prototype.b=function(){this.defaultPrevented=!0},b(nt,et);var it={2:"touch",3:"pen",4:"mouse"};nt.prototype.b=function(){nt.M.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,J)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var rt="closure_listenable_"+(1e6*Math.random()|0),ot=0;function st(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.aa=r,this.key=++ot,this.V=this.X=!1}function at(t){t.V=!0,t.listener=null,t.proxy=null,t.src=null,t.aa=null}function lt(t){this.src=t,this.a={},this.b=0}function ct(t,e){var n=e.type;if(n in t.a){var i,r=t.a[n],o=w(r,e);(i=0<=o)&&Array.prototype.splice.call(r,o,1),i&&(at(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function ut(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r];if(!o.V&&o.listener==e&&o.capture==!!n&&o.aa==i)return r}return-1}lt.prototype.add=function(t,e,n,i,r){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=ut(t,e,i,r);return-1<s?(e=t[s],n||(e.X=!1)):((e=new st(e,this.src,o,!!i,r)).X=n,t.push(e)),e};var ht="closure_lm_"+(1e6*Math.random()|0),dt={};function ft(t,e,n,i,r){if(i&&i.once)return function t(e,n,i,r,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)t(e,n[s],i,r,o);return null}return i=wt(i),e&&e[rt]?e.sa(n,i,h(r)?!!r.capture:!!r,o):pt(e,n,i,!0,r,o)}(t,e,n,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)ft(t,e[o],n,i,r);return null}return n=wt(n),t&&t[rt]?t.ra(e,n,h(i)?!!i.capture:!!i,r):pt(t,e,n,!1,i,r)}function pt(t,e,n,i,r,o){if(!e)throw Error("Invalid event type");var s=h(r)?!!r.capture:!!r;if(s&&!Q)return null;var a=bt(t);if(a||(t[ht]=a=new lt(t)),(n=a.add(e,n,i,s,o)).proxy)return n;if(i=function(){var t=yt,e=Q?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)tt||(r=s),void 0===r&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(vt(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}return n}function gt(t){if("number"!=typeof t&&t&&!t.V){var e=t.src;if(e&&e[rt])ct(e.c,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(vt(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=bt(e))?(ct(n,t),0==n.b&&(n.src=null,e[ht]=null)):at(t)}}}function vt(t){return t in dt?dt[t]:dt[t]="on"+t}function mt(t,e){var n=t.listener,i=t.aa||t.src;return t.X&&gt(t),n.call(i,e)}function yt(t,e){if(t.V)return!0;if(!Q){if(!e)t:{e=["window","event"];for(var n=a,i=0;i<e.length;i++)if(null==(n=n[e[i]])){e=null;break t}e=n}return mt(t,e=new nt(e,this))}return mt(t,new nt(e,this))}function bt(t){return(t=t[ht])instanceof lt?t:null}var xt="__closure_events_fn_"+(1e9*Math.random()>>>0);function wt(t){return"function"==c(t)?t:(t[xt]||(t[xt]=function(e){return t.handleEvent(e)}),t[xt])}function St(){x.call(this),this.c=new lt(this),this.J=this,this.A=null}function At(t,e,n,i){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.V&&s.capture==n){var a=s.listener,l=s.aa||s.src;s.X&&ct(t.c,s),r=!1!==a.call(l,i)&&r}}return r&&!i.defaultPrevented}b(St,x),St.prototype[rt]=!0,(r=St.prototype).addEventListener=function(t,e,n,i){ft(this,t,e,n,i)},r.removeEventListener=function(t,e,n,i){!function t(e,n,i,r,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)t(e,n[s],i,r,o);else r=h(r)?!!r.capture:!!r,i=wt(i),e&&e[rt]?(e=e.c,(n=String(n).toString())in e.a&&-1<(i=ut(s=e.a[n],i,r,o))&&(at(s[i]),Array.prototype.splice.call(s,i,1),0==s.length&&(delete e.a[n],e.b--))):e&&(e=bt(e))&&(n=e.a[n.toString()],e=-1,n&&(e=ut(n,i,r,o)),(i=-1<e?n[e]:null)&&gt(i))}(this,t,e,n,i)},r.dispatchEvent=function(t){var e,n=this.A;if(n)for(e=[];n;n=n.A)e.push(n);n=this.J;var i=t.type||t;if("string"==typeof t)t=new et(t,n);else if(t instanceof et)t.target=t.target||n;else{var r=t;R(t=new et(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.a=e[o];r=At(s,i,!0,t)&&r}if(r=At(s=t.a=n,i,!0,t)&&r,r=At(s,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=At(s=t.a=e[o],i,!1,t)&&r;return r},r.C=function(){if(St.M.C.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],i=0;i<n.length;i++)at(n[i]);delete e.a[t],e.b--}}this.A=null},r.ra=function(t,e,n,i){return this.c.add(String(t),e,!1,n,i)},r.sa=function(t,e,n,i){return this.c.add(String(t),e,!0,n,i)};var Et=a.JSON.stringify;function kt(){this.b=this.a=null}var _t,Ct=new(function(){function t(t,e,n){this.f=n,this.c=t,this.g=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new It}),(function(t){t.reset()}),100);function Tt(){var t=Ot,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function It(){this.next=this.b=this.a=null}function Nt(t){a.setTimeout((function(){throw t}),0)}function Pt(t,e){_t||function(){var t=a.Promise.resolve(void 0);_t=function(){t.then(Dt)}}(),Lt||(_t(),Lt=!0),Ot.add(t,e)}kt.prototype.add=function(t,e){var n=Ct.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},It.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},It.prototype.reset=function(){this.next=this.b=this.a=null};var Lt=!1,Ot=new kt;function Dt(){for(var t;t=Tt();){try{t.a.call(t.b)}catch(n){Nt(n)}var e=Ct;e.g(t),e.b<e.f&&(e.b++,t.next=e.a,e.a=t)}Lt=!1}function Rt(t,e){St.call(this),this.b=t||1,this.a=e||a,this.f=v(this.Ua,this),this.g=y()}function Mt(t){t.Z=!1,t.L&&(t.a.clearTimeout(t.L),t.L=null)}function Ft(t,e,n){if("function"==c(t))n&&(t=v(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=v(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function zt(t,e,n){x.call(this),this.f=null!=n?v(t,n):t,this.c=e,this.b=v(this.Pa,this),this.a=[]}function Vt(t){t.T=Ft(t.b,t.c),t.f.apply(null,t.a)}function jt(t){x.call(this),this.b=t,this.a={}}b(Rt,St),(r=Rt.prototype).Z=!1,r.L=null,r.Ua=function(){if(this.Z){var t=y()-this.g;0<t&&t<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-t):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.Z&&(Mt(this),this.start()))}},r.start=function(){this.Z=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=y())},r.C=function(){Rt.M.C.call(this),Mt(this),delete this.a},b(zt,x),(r=zt.prototype).ba=!1,r.T=null,r.Ia=function(t){this.a=arguments,this.T?this.ba=!0:Vt(this)},r.C=function(){zt.M.C.call(this),this.T&&(a.clearTimeout(this.T),this.T=null,this.ba=!1,this.a=[])},r.Pa=function(){this.T=null,this.ba&&(this.ba=!1,Vt(this))},b(jt,x);var Ut=[];function Ht(t,e,n,i){Array.isArray(n)||(n&&(Ut[0]=n.toString()),n=Ut);for(var r=0;r<n.length;r++){var o=ft(e,n[r],i||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Bt(t){L(t.a,(function(t,e){this.a.hasOwnProperty(e)&&gt(t)}),t),t.a={}}function Xt(){}jt.prototype.C=function(){jt.M.C.call(this),Bt(this)},jt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yt=null;function Wt(){return Yt=Yt||new St}function Gt(t){et.call(this,"serverreachability",t)}function qt(t){var e=Wt();e.dispatchEvent(new Gt(e,t))}function $t(t){et.call(this,"statevent",t)}function Kt(t){var e=Wt();e.dispatchEvent(new $t(e,t))}function Zt(t){et.call(this,"timingevent",t)}function Qt(t,e){if("function"!=c(t))throw Error("Fn must not be null and must be a function");return a.setTimeout((function(){t()}),e)}b(Gt,et),b($t,et),b(Zt,et);var Jt={NO_ERROR:0,Va:1,bb:2,ab:3,Ya:4,$a:5,cb:6,za:7,TIMEOUT:8,gb:9},te={Xa:"complete",kb:"success",Aa:"error",za:"abort",ib:"ready",jb:"readystatechange",TIMEOUT:"timeout",eb:"incrementaldata",hb:"progress",Za:"downloadprogress",lb:"uploadprogress"};function ee(){}function ne(){}ee.prototype.a=null;var ie,re={OPEN:"a",Wa:"b",Aa:"c",fb:"d"};function oe(){et.call(this,"d")}function se(){et.call(this,"c")}function ae(){}function le(t,e,n){this.g=t,this.W=e,this.U=n||1,this.G=new jt(this),this.N=ce,this.O=new Rt(t=H?125:void 0),this.m=null,this.b=!1,this.j=this.A=this.f=this.B=this.s=this.P=this.h=null,this.i=[],this.a=null,this.w=0,this.c=this.v=null,this.H=-1,this.l=!1,this.J=0,this.D=null,this.o=this.R=this.F=!1}b(oe,et),b(se,et),b(ae,ee),ie=new ae;var ce=45e3,ue={},he={};function de(t,e,n){t.B=1,t.f=De(Te(e)),t.j=n,t.F=!0,fe(t,null)}function fe(t,e){t.s=y(),ve(t),t.A=Te(t.f);var n=t.A,i=t.U;Array.isArray(i)||(i=[String(i)]),Ge(n.b,"t",i),t.w=0,t.a=Vn(t.g,t.g.w?e:null),0<t.J&&(t.D=new zt(v(t.ya,t,t.a),t.J)),Ht(t.G,t.a,"readystatechange",t.Sa),e=t.m?O(t.m):{},t.j?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.$(t.A,t.v,t.j,e)):(t.v="GET",t.a.$(t.A,t.v,null,e)),qt(1)}function pe(t,e,n){for(var i=!0;!t.l&&t.w<n.length;){var r=ge(t,n);if(r==he){4==e&&(t.c=4,Kt(14),i=!1);break}if(r==ue){t.c=4,Kt(15),i=!1;break}we(t,r)}4==e&&0==n.length&&(t.c=1,Kt(16),i=!1),t.b=t.b&&i,i||(xe(t),be(t))}function ge(t,e){var n=t.w,i=e.indexOf("\n",n);return-1==i?he:(n=Number(e.substring(n,i)),isNaN(n)?ue:(i+=1)+n>e.length?he:(e=e.substr(i,n),t.w=i+n,e))}function ve(t){t.P=y()+t.N,me(t,t.N)}function me(t,e){if(null!=t.h)throw Error("WatchDog timer not null");t.h=Qt(v(t.Qa,t),e)}function ye(t){t.h&&(a.clearTimeout(t.h),t.h=null)}function be(t){0==t.g.u||t.l||Dn(t.g,t)}function xe(t){ye(t);var e=t.D;e&&"function"==typeof e.da&&e.da(),t.D=null,Mt(t.O),Bt(t.G),t.a&&(e=t.a,t.a=null,e.abort(),e.da())}function we(t,e){try{var n=t.g;if(0!=n.u&&(n.a==t||tn(n.b,t)))if(n.A=t.H,!t.o&&tn(n.b,t)&&3==n.u){try{var i=n.ja.a.parse(e)}catch(g){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){t:if(!n.i){if(n.a){if(!(n.a.s+3e3<t.s))break t;On(n),n.a.cancel(),n.a=null}Ln(n),Kt(18)}}else n.ia=r[1],0<n.ia-n.G&&37500>r[2]&&n.U&&0==n.m&&!n.l&&(n.l=Qt(v(n.Na,n),6e3));if(1>=Je(n.b)&&n.O){try{n.O()}catch(g){}n.O=void 0}}else Mn(n,11)}else if((t.o||n.a==t)&&On(n),!k(e))for(e=i=n.ja.a.parse(e),i=0;i<e.length;i++)if(n.G=(r=e[i])[0],r=r[1],2==n.u)if("c"==r[0]){n.B=r[1],n.R=r[2];var o=r[3];null!=o&&(n.oa=o);var s=r[5];null!=s&&"number"==typeof s&&0<s&&(n.D=1.5*s);var a=n,l=t.a;if(l){var c=l.a?l.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var u=a.b;!u.a&&(T(c,"spdy")||T(c,"quic")||T(c,"h2"))&&(u.f=u.g,u.a=new Set,u.b&&(en(u,u.b),u.b=null))}if(a.s){var h=l.a?l.a.getResponseHeader("X-HTTP-Session-Id"):null;h&&(a.ha=h,Oe(a.v,a.s,h))}}n.u=3,n.c&&n.c.na();var d=t;if((a=n).ea=zn(a,a.w?a.R:null,a.P),d.o){nn(a.b,d);var f=d,p=a.D;p&&f.setTimeout(p),f.h&&(ye(f),ve(f)),a.a=d}else Pn(a);0<n.f.length&&Cn(n)}else"stop"!=r[0]&&"close"!=r[0]||Mn(n,7);else 3==n.u&&("stop"==r[0]||"close"==r[0]?"stop"==r[0]?Mn(n,7):En(n):"noop"!=r[0]&&n.c&&n.c.ma(r),n.m=0);qt(4)}catch(g){}}function Se(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(u(t)||"string"==typeof t)S(t,e,void 0);else{if(t.K&&"function"==typeof t.K)var n=t.K();else if(t.I&&"function"==typeof t.I)n=void 0;else if(u(t)||"string"==typeof t){n=[];for(var i=t.length,r=0;r<i;r++)n.push(r)}else for(r in n=[],i=0,t)n[i++]=r;r=(i=function(t){if(t.I&&"function"==typeof t.I)return t.I();if("string"==typeof t)return t.split("");if(u(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}(t)).length;for(var o=0;o<r;o++)e.call(void 0,i[o],n&&n[o],t)}}function Ae(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(t)if(t instanceof Ae)for(n=t.K(),i=0;i<n.length;i++)this.set(n[i],t.get(n[i]));else for(i in t)this.set(i,t[i])}function Ee(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var i=t.a[e];ke(t.b,i)&&(t.a[n++]=i),e++}t.a.length=n}if(t.c!=t.a.length){var r={};for(n=e=0;e<t.a.length;)ke(r,i=t.a[e])||(t.a[n++]=i,r[i]=1),e++;t.a.length=n}}function ke(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(r=le.prototype).setTimeout=function(t){this.N=t},r.Sa=function(t){t=t.target;var e=this.D;e&&3==xn(t)?e.Ia():this.ya(t)},r.ya=function(t){try{if(t==this.a)t:{var e=xn(this.a),n=this.a.qa(),i=this.a.S();if(!(3>e||3==e&&!H&&!this.a.Y())){this.l||4!=e||7==n||qt(8==n||0>=i?3:2),ye(this);var r=this.a.S();this.H=r;var o=this.a.Y();if(this.b=200==r){if(this.R&&!this.o){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(s)){var l=s;break e}}l=null}if(!l){this.b=!1,this.c=3,Kt(12),xe(this),be(this);break t}this.o=!0,we(this,l)}this.F?(pe(this,e,o),H&&this.b&&3==e&&(Ht(this.G,this.O,"tick",this.Ra),this.O.start())):we(this,o),4==e&&xe(this),this.b&&!this.l&&(4==e?Dn(this.g,this):(this.b=!1,ve(this)))}else 400==r&&0<o.indexOf("Unknown SID")?(this.c=3,Kt(12)):(this.c=0,Kt(13)),xe(this),be(this)}}}catch(c){}},r.Ra=function(){if(this.a){var t=xn(this.a),e=this.a.Y();this.w<e.length&&(ye(this),pe(this,t,e),this.b&&4!=t&&ve(this))}},r.cancel=function(){this.l=!0,xe(this)},r.Qa=function(){this.h=null;var t=y();0<=t-this.P?(2!=this.B&&(qt(3),Kt(17)),xe(this),this.c=2,be(this)):me(this,this.P-t)},(r=Ae.prototype).I=function(){Ee(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},r.K=function(){return Ee(this),this.a.concat()},r.get=function(t,e){return ke(this.b,t)?this.b[t]:e},r.set=function(t,e){ke(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},r.forEach=function(t,e){for(var n=this.K(),i=0;i<n.length;i++){var r=n[i],o=this.get(r);t.call(e,o,r,this)}};var _e=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ce(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Ce){this.a=void 0!==e?e:t.a,Ie(this,t.f),this.j=t.j,Ne(this,t.c),Pe(this,t.h),this.g=t.g,e=t.b;var n=new Be;n.c=e.c,e.a&&(n.a=new Ae(e.a),n.b=e.b),Le(this,n),this.i=t.i}else t&&(n=String(t).match(_e))?(this.a=!!e,Ie(this,n[1]||"",!0),this.j=Re(n[2]||""),Ne(this,n[3]||"",!0),Pe(this,n[4]),this.g=Re(n[5]||"",!0),Le(this,n[6]||"",!0),this.i=Re(n[7]||"")):(this.a=!!e,this.b=new Be(null,this.a))}function Te(t){return new Ce(t)}function Ie(t,e,n){t.f=n?Re(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Ne(t,e,n){t.c=n?Re(e,!0):e}function Pe(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Le(t,e,n){e instanceof Be?(t.b=e,function(t,e){e&&!t.f&&(Xe(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Ye(this,e),Ge(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=Me(e,Ue)),t.b=new Be(e,t.a))}function Oe(t,e,n){t.b.set(e,n)}function De(t){return Oe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^y()).toString(36)),t}function Re(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Me(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Fe),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Fe(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ce.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Me(e,ze,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Me(e,ze,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Me(n,"/"==n.charAt(0)?je:Ve,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Me(n,He)),t.join("")};var ze=/[#\/\?@]/g,Ve=/[#\?:]/g,je=/[#\?]/g,Ue=/[#\?@]/g,He=/#/g;function Be(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Xe(t){t.a||(t.a=new Ae,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var o=t[n].substring(0,i);r=t[n].substring(i+1)}else o=t[n];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Ye(t,e){Xe(t),e=qe(t,e),ke(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,ke((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Ee(t)))}function We(t,e){return Xe(t),e=qe(t,e),ke(t.a.b,e)}function Ge(t,e,n){Ye(t,e),0<n.length&&(t.c=null,t.a.set(qe(t,e),E(n)),t.b+=n.length)}function qe(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function $e(t,e){this.b=t,this.a=e}function Ke(t){this.g=t||Ze,t=a.PerformanceNavigationTiming?0<(t=a.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(a.ca&&a.ca.ua&&a.ca.ua()&&a.ca.ua().mb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(r=Be.prototype).add=function(t,e){Xe(this),this.c=null,t=qe(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},r.forEach=function(t,e){Xe(this),this.a.forEach((function(n,i){S(n,(function(n){t.call(e,n,i,this)}),this)}),this)},r.K=function(){Xe(this);for(var t=this.a.I(),e=this.a.K(),n=[],i=0;i<e.length;i++)for(var r=t[i],o=0;o<r.length;o++)n.push(e[i]);return n},r.I=function(t){Xe(this);var e=[];if("string"==typeof t)We(this,t)&&(e=A(e,this.a.get(qe(this,t))));else{t=this.a.I();for(var n=0;n<t.length;n++)e=A(e,t[n])}return e},r.set=function(t,e){return Xe(this),this.c=null,We(this,t=qe(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},r.get=function(t,e){return t&&0<(t=this.I(t)).length?String(t[0]):e},r.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.K(),n=0;n<e.length;n++){var i=e[n],r=encodeURIComponent(String(i));i=this.I(i);for(var o=0;o<i.length;o++){var s=r;""!==i[o]&&(s+="="+encodeURIComponent(String(i[o]))),t.push(s)}}return this.c=t.join("&")};var Ze=10;function Qe(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Je(t){return t.b?1:t.a?t.a.size:0}function tn(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function en(t,e){t.a?t.a.add(e):t.b=e}function nn(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function rn(t){var e,n;if(null!=t.b)return t.c.concat(t.b.i);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var o=i(t.a.values()),s=o.next();!s.done;s=o.next())r=r.concat(s.value.i)}catch(a){e={error:a}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r}return E(t.c)}function on(){}function sn(){this.a=new on}function an(t,e,n){var i=n||"";try{Se(t,(function(t,n){var r=t;h(t)&&(r=Et(t)),e.push(i+n+"="+encodeURIComponent(r))}))}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function ln(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(o){}}Ke.prototype.cancel=function(){var t,e;if(this.c=rn(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=i(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(o){t={error:o}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},on.prototype.stringify=function(t){return a.JSON.stringify(t,void 0)},on.prototype.parse=function(t){return a.JSON.parse(t,void 0)};var cn=a.JSON.parse;function un(t){St.call(this),this.headers=new Ae,this.G=t||null,this.b=!1,this.s=this.a=null,this.D="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.H=hn,this.B=this.F=!1}b(un,St);var hn="",dn=/^https?$/i,fn=["POST","PUT"];function pn(t){return"content-type"==t.toLowerCase()}function gn(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,vn(t),yn(t)}function vn(t){t.v||(t.v=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function mn(t){if(t.b&&void 0!==s&&(!t.s[1]||4!=xn(t)||2!=t.S()))if(t.l&&4==xn(t))Ft(t.va,0,t);else if(t.dispatchEvent("readystatechange"),4==xn(t)){t.b=!1;try{var e,n=t.S();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break t;default:i=!1}if(!(e=i)){var r;if(r=0===n){var o=String(t.D).match(_e)[1]||null;if(!o&&a.self&&a.self.location){var l=a.self.location.protocol;o=l.substr(0,l.length-1)}r=!dn.test(o?o.toLowerCase():"")}e=r}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var c=2<xn(t)?t.a.statusText:""}catch(u){c=""}t.f=c+" ["+t.S()+"]",vn(t)}}finally{yn(t)}}}function yn(t,e){if(t.a){bn(t);var n=t.a,i=t.s[0]?l:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=i}catch(r){}}}function bn(t){t.a&&t.B&&(t.a.ontimeout=null),t.m&&(a.clearTimeout(t.m),t.m=null)}function xn(t){return t.a?t.a.readyState:0}function wn(t,e,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=function(t){var e="";return L(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Oe(t,e,n))}function Sn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function An(t){this.f=[],this.R=this.ea=this.v=this.P=this.a=this.ha=this.s=this.N=this.h=this.F=this.j=null,this.Fa=this.H=0,this.Ca=Sn("failFast",!1,t),this.U=this.l=this.i=this.g=this.c=null,this.W=!0,this.A=this.ia=this.G=-1,this.J=this.m=this.o=0,this.Ba=Sn("baseRetryDelayMs",5e3,t),this.Ga=Sn("retryDelaySeedMs",1e4,t),this.Da=Sn("forwardChannelMaxRetries",2,t),this.ga=Sn("forwardChannelRequestTimeoutMs",2e4,t),this.Ea=t&&t.nb||void 0,this.D=void 0,this.w=t&&t.supportsCrossDomainXhr||!1,this.B="",this.b=new Ke(t&&t.concurrentRequestLimit),this.ja=new sn,this.fa=t&&t.fastHandshake||!1,t&&t.forceLongPolling&&(this.W=!1),this.O=void 0}function En(t){if(kn(t),3==t.u){var e=t.H++,n=Te(t.v);Oe(n,"SID",t.B),Oe(n,"RID",e),Oe(n,"TYPE","terminate"),In(t,n),(e=new le(t,e,void 0)).B=2,e.f=De(Te(n)),n=!1,a.navigator&&a.navigator.sendBeacon&&(n=a.navigator.sendBeacon(e.f.toString(),"")),!n&&a.Image&&((new Image).src=e.f,n=!0),n||(e.a=Vn(e.g,null),e.a.$(e.f)),e.s=y(),ve(e)}Fn(t)}function kn(t){t.a&&(t.a.cancel(),t.a=null),t.i&&(a.clearTimeout(t.i),t.i=null),On(t),t.b.cancel(),t.g&&("number"==typeof t.g&&a.clearTimeout(t.g),t.g=null)}function _n(t,e){t.f.push(new $e(t.Fa++,e)),3==t.u&&Cn(t)}function Cn(t){Qe(t.b)||t.g||(t.g=!0,Pt(t.xa,t),t.o=0)}function Tn(t,e){var n;n=e?e.W:t.H++;var i=Te(t.v);Oe(i,"SID",t.B),Oe(i,"RID",n),Oe(i,"AID",t.G),In(t,i),t.h&&t.j&&wn(i,t.h,t.j),n=new le(t,n,t.o+1),null===t.h&&(n.m=t.j),e&&(t.f=e.i.concat(t.f)),e=Nn(t,n,1e3),n.setTimeout(Math.round(.5*t.ga)+Math.round(.5*t.ga*Math.random())),en(t.b,n),de(n,i,e)}function In(t,e){t.c&&Se({},(function(t,n){Oe(e,n,t)}))}function Nn(t,e,n){n=Math.min(t.f.length,n);var i=t.c?v(t.c.Ha,t.c,t):null;t:for(var r=t.f,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=r[0].b)):o=0:s.push("ofs="+o);for(var a=!0,l=0;l<n;l++){var c=r[l].b,u=r[l].a;if(0>(c-=o))o=Math.max(0,r[l].b-100),a=!1;else try{an(u,s,"req"+c+"_")}catch(h){i&&i(u)}}if(a){i=s.join("&");break t}}return t=t.f.splice(0,n),e.i=t,i}function Pn(t){t.a||t.i||(t.J=1,Pt(t.wa,t),t.m=0)}function Ln(t){return!(t.a||t.i||3<=t.m||(t.J++,t.i=Qt(v(t.wa,t),Rn(t,t.m)),t.m++,0))}function On(t){null!=t.l&&(a.clearTimeout(t.l),t.l=null)}function Dn(t,e){var n=null;if(t.a==e){On(t),t.a=null;var i=2}else{if(!tn(t.b,e))return;n=e.i,nn(t.b,e),i=1}if(t.A=e.H,0!=t.u)if(e.b)if(1==i){n=e.j?e.j.length:0,e=y()-e.s;var r=t.o;(i=Wt()).dispatchEvent(new Zt(i,n,e,r)),Cn(t)}else Pn(t);else if(3==(r=e.c)||0==r&&0<t.A||!(1==i&&function(t,e){return!(Je(t.b)>=t.b.f-(t.g?1:0)||(t.g?(t.f=e.i.concat(t.f),0):1==t.u||2==t.u||t.o>=(t.Ca?0:t.Da)||(t.g=Qt(v(t.xa,t,e),Rn(t,t.o)),t.o++,0)))}(t,e)||2==i&&Ln(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),r){case 1:Mn(t,5);break;case 4:Mn(t,10);break;case 3:Mn(t,6);break;default:Mn(t,2)}}function Rn(t,e){var n=t.Ba+Math.floor(Math.random()*t.Ga);return t.c||(n*=2),n*e}function Mn(t,e){if(2==e){var n=null;t.c&&(n=null);var i=v(t.Ta,t);n||(n=new Ce("//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||Ie(n,"https"),De(n)),function(t,e){var n=new Xt;if(a.Image){var i=new Image;i.onload=m(ln,n,i,"TestLoadImage: loaded",!0,e),i.onerror=m(ln,n,i,"TestLoadImage: error",!1,e),i.onabort=m(ln,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=m(ln,n,i,"TestLoadImage: timeout",!1,e),a.setTimeout((function(){i.ontimeout&&i.ontimeout()}),1e4),i.src=t}else e(!1)}(n.toString(),i)}else Kt(2);t.u=0,t.c&&t.c.la(e),Fn(t),kn(t)}function Fn(t){t.u=0,t.A=-1,t.c&&(0==rn(t.b).length&&0==t.f.length||(t.b.c.length=0,E(t.f),t.f.length=0),t.c.ka())}function zn(t,e,n){var i=function(t){return t instanceof Ce?Te(t):new Ce(t,void 0)}(n);if(""!=i.c)e&&Ne(i,e+"."+i.c),Pe(i,i.h);else{var r=a.location;i=function(t,e,n,i){var r=new Ce(null,void 0);return t&&Ie(r,t),e&&Ne(r,e),n&&Pe(r,n),i&&(r.g=i),r}(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,n)}return t.N&&L(t.N,(function(t,e){Oe(i,e,t)})),n=t.ha,(e=t.s)&&n&&Oe(i,e,n),Oe(i,"VER",t.oa),In(t,i),i}function Vn(t,e){if(e&&!t.w)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new un(t.Ea)).F=t.w,e}function jn(){}function Un(){if(j&&!(10<=Number(Z)))throw Error("Environmental error: no available transport.")}function Hn(t,e){St.call(this),this.a=new An(e),this.l=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.j=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.pa&&(t?t["X-WebChannel-Client-Profile"]=e.pa:t={"X-WebChannel-Client-Profile":e.pa}),this.a.F=t,(t=e&&e.httpHeadersOverwriteParam)&&!k(t)&&(this.a.h=t),this.h=e&&e.supportsCrossDomainXhr||!1,this.g=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!k(e)&&(this.a.s=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Yn(this)}function Bn(t){oe.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Xn(){se.call(this),this.status=1}function Yn(t){this.a=t}(r=un.prototype).$=function(t,e,n,i){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+t);e=e?e.toUpperCase():"GET",this.D=t,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.G?this.G:ie),this.a.onreadystatechange=v(this.va,this);try{this.w=!0,this.a.open(e,String(t),!0),this.w=!1}catch(o){return void gn(this,o)}t=n||"";var r=new Ae(this.headers);i&&Se(i,(function(t,e){r.set(e,t)})),i=function(t){t:{for(var e=pn,n=t.length,i="string"==typeof t?t.split(""):t,r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t)){e=r;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(r.K()),n=a.FormData&&t instanceof a.FormData,!(0<=w(fn,e))||i||n||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.H&&(this.a.responseType=this.H),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{bn(this),0<this.o&&((this.B=function(t){return j&&K(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=v(this.ta,this)):this.m=Ft(this.ta,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){gn(this,o)}},r.ta=function(){void 0!==s&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},r.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),yn(this))},r.C=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),yn(this,!0)),un.M.C.call(this)},r.va=function(){this.j||(this.w||this.l||this.g?mn(this):this.Oa())},r.Oa=function(){mn(this)},r.S=function(){try{return 2<xn(this)?this.a.status:-1}catch(z){return-1}},r.Y=function(){try{return this.a?this.a.responseText:""}catch(z){return""}},r.Ja=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),cn(e)}},r.qa=function(){return this.h},r.Ma=function(){return"string"==typeof this.f?this.f:String(this.f)},(r=An.prototype).oa=8,r.u=1,r.xa=function(t){if(this.g)if(this.g=null,1==this.u){if(!t){this.H=Math.floor(1e5*Math.random());var e,n=new le(this,t=this.H++,void 0),i=this.j;if(this.F&&(i?R(i=O(i),this.F):i=this.F),null===this.h&&(n.m=i),this.fa)t:{for(var r=e=0;r<this.f.length;r++){var o=this.f[r];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=r;break t}if(4096===e||r===this.f.length-1){e=r+1;break t}}e=1e3}else e=1e3;e=Nn(this,n,e),Oe(r=Te(this.v),"RID",t),Oe(r,"CVER",22),this.s&&Oe(r,"X-HTTP-Session-Id",this.s),In(this,r),this.h&&i&&wn(r,this.h,i),en(this.b,n),this.fa?(Oe(r,"$req",e),Oe(r,"SID","null"),n.R=!0,de(n,r,null)):de(n,r,e),this.u=2}}else 3==this.u&&(t?Tn(this,t):0==this.f.length||Qe(this.b)||Tn(this))},r.wa=function(){this.i=null,this.a=new le(this,"rpc",this.J),null===this.h&&(this.a.m=this.j),this.a.J=0;var t=Te(this.ea);Oe(t,"RID","rpc"),Oe(t,"SID",this.B),Oe(t,"CI",this.U?"0":"1"),Oe(t,"AID",this.G),In(this,t),Oe(t,"TYPE","xmlhttp"),this.h&&this.j&&wn(t,this.h,this.j),this.D&&this.a.setTimeout(this.D);var e=this.a,n=this.R;e.B=1,e.f=De(Te(t)),e.j=null,e.F=!0,fe(e,n)},r.Na=function(){null!=this.l&&(this.l=null,this.a.cancel(),this.a=null,Ln(this),Kt(19))},r.Ta=function(t){Kt(t?2:1)},(r=jn.prototype).na=function(){},r.ma=function(){},r.la=function(){},r.ka=function(){},r.Ha=function(){},Un.prototype.a=function(t,e){return new Hn(t,e)},b(Hn,St),(r=Hn.prototype).addEventListener=function(t,e,n,i){Hn.M.addEventListener.call(this,t,e,n,i)},r.removeEventListener=function(t,e,n,i){Hn.M.removeEventListener.call(this,t,e,n,i)},r.Ka=function(){this.a.c=this.f,this.h&&(this.a.w=!0);var t=this.a,e=this.l,n=this.b||void 0;Kt(0),t.P=e,t.N=n||{},t.U=t.W,t.v=zn(t,null,t.P),Cn(t)},r.close=function(){En(this.a)},r.La=function(t){if("string"==typeof t){var e={};e.__data__=t,_n(this.a,e)}else this.g?((e={}).__data__=Et(t),_n(this.a,e)):_n(this.a,t)},r.C=function(){this.a.c=null,delete this.f,En(this.a),delete this.a,Hn.M.C.call(this)},b(Bn,oe),b(Xn,se),b(Yn,jn),Yn.prototype.na=function(){this.a.dispatchEvent("a")},Yn.prototype.ma=function(t){this.a.dispatchEvent(new Bn(t))},Yn.prototype.la=function(t){this.a.dispatchEvent(new Xn(t))},Yn.prototype.ka=function(){this.a.dispatchEvent("b")},Un.prototype.createWebChannel=Un.prototype.a,Hn.prototype.send=Hn.prototype.La,Hn.prototype.open=Hn.prototype.Ka,Hn.prototype.close=Hn.prototype.close,Jt.NO_ERROR=0,Jt.TIMEOUT=8,Jt.HTTP_ERROR=6,te.COMPLETE="complete",ne.EventType=re,re.OPEN="a",re.CLOSE="b",re.ERROR="c",re.MESSAGE="d",St.prototype.listen=St.prototype.ra,un.prototype.listenOnce=un.prototype.sa,un.prototype.getLastError=un.prototype.Ma,un.prototype.getLastErrorCode=un.prototype.qa,un.prototype.getStatus=un.prototype.S,un.prototype.getResponseJson=un.prototype.Ja,un.prototype.getResponseText=un.prototype.Y,un.prototype.send=un.prototype.$;var Wn={createWebChannelTransport:function(){return new Un},ErrorCode:Jt,EventType:te,WebChannel:ne,XhrIo:un},Gn=Wn.createWebChannelTransport,qn=Wn.ErrorCode,$n=Wn.EventType,Kn=Wn.WebChannel,Zn=Wn.XhrIo;e.default=Wn},zUnb:function(t,e,n){"use strict";function i(t){return"function"==typeof t}n.r(e);let r=!1;const o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}};function s(t){setTimeout(()=>{throw t})}const a={closed:!0,next(t){},error(t){if(o.useDeprecatedSynchronousErrorHandling)throw t;s(t)},complete(){}},l=Array.isArray||(t=>t&&"number"==typeof t.length);function c(t){return null!==t&&"object"==typeof t}function u(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}u.prototype=Object.create(Error.prototype);const h=u;let d=(()=>{class t{constructor(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let t,e=!1;if(this.closed)return;let{_parent:n,_parents:r,_unsubscribe:o,_subscriptions:s}=this;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;let a=-1,u=r?r.length:0;for(;n;)n.remove(this),n=++a<u&&r[a]||null;if(i(o))try{o.call(this)}catch(d){e=!0,t=d instanceof h?f(d.errors):[d]}if(l(s))for(a=-1,u=s.length;++a<u;){const n=s[a];if(c(n))try{n.unsubscribe()}catch(d){e=!0,t=t||[],d instanceof h?t=t.concat(f(d.errors)):t.push(d)}}if(e)throw new h(t)}add(e){let n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:if(!e)return t.EMPTY;throw new Error("unrecognized teardown "+e+" added to Subscription.")}if(n._addParent(this)){const t=this._subscriptions;t?t.push(n):this._subscriptions=[n]}return n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}_addParent(t){let{_parent:e,_parents:n}=this;return e!==t&&(e?n?-1===n.indexOf(t)&&(n.push(t),!0):(this._parents=[t],!0):(this._parent=t,!0))}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function f(t){return t.reduce((t,e)=>t.concat(e instanceof h?e.errors:e),[])}const p="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class g extends d{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!t){this.destination=a;break}if("object"==typeof t){t instanceof g?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new v(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new v(this,t,e,n)}}[p](){return this}static create(t,e,n){const i=new g(t,e,n);return i.syncErrorThrowable=!1,i}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parent:t,_parents:e}=this;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this}}class v extends g{constructor(t,e,n,r){let o;super(),this._parentSubscriber=t;let s=this;i(e)?o=e:e&&(o=e.next,n=e.error,r=e.complete,e!==a&&(s=Object.create(e),i(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=o,this._error=n,this._complete=r}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=o;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):s(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;s(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;s(n)}}__tryOrSetError(t,e,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(i){return o.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=i,t.syncErrorThrown=!0,!0):(s(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const m="function"==typeof Symbol&&Symbol.observable||"@@observable";function y(){}function b(...t){return x(t)}function x(t){return t?1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}:y}let w=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:i}=this,r=function(t,e,n){if(t){if(t instanceof g)return t;if(t[p])return t[p]()}return t||e||n?new g(t,e,n):new g(a)}(t,e,n);if(r.add(i?i.call(r,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),o.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r}_trySubscribe(t){try{return this._subscribe(t)}catch(e){o.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof g?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=S(e))((e,n)=>{let i;i=this.subscribe(e=>{try{t(e)}catch(r){n(r),i&&i.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[m](){return this}pipe(...t){return 0===t.length?this:x(t)(this)}toPromise(t){return new(t=S(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function S(t){if(t||(t=o.Promise||Promise),!t)throw new Error("no Promise impl found");return t}function A(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}A.prototype=Object.create(Error.prototype);const E=A;class k extends d{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class _ extends g{constructor(t){super(t),this.destination=t}}let C=(()=>{class t extends w{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[p](){return new _(this)}lift(t){const e=new T(this,this);return e.operator=t,e}next(t){if(this.closed)throw new E;if(!this.isStopped){const{observers:e}=this,n=e.length,i=e.slice();for(let r=0;r<n;r++)i[r].next(t)}}error(t){if(this.closed)throw new E;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,i=e.slice();for(let r=0;r<n;r++)i[r].error(t);this.observers.length=0}complete(){if(this.closed)throw new E;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let i=0;i<e;i++)n[i].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new E;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new E;return this.hasError?(t.error(this.thrownError),d.EMPTY):this.isStopped?(t.complete(),d.EMPTY):(this.observers.push(t),new k(this,t))}asObservable(){const t=new w;return t.source=this,t}}return t.create=(t,e)=>new T(t,e),t})();class T extends C{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):d.EMPTY}}function I(t){return t&&"function"==typeof t.schedule}class N extends g{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const P=t=>e=>{for(let n=0,i=t.length;n<i&&!e.closed;n++)e.next(t[n]);e.closed||e.complete()},L=t=>e=>(t.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,s),e);function O(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const D=O(),R=t=>e=>{const n=t[D]();for(;;){const t=n.next();if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e},M=t=>e=>{const n=t[m]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)},F=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function z(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const V=t=>{if(t instanceof w)return e=>t._isScalar?(e.next(t.value),void e.complete()):t.subscribe(e);if(t&&"function"==typeof t[m])return M(t);if(F(t))return P(t);if(z(t))return L(t);if(t&&"function"==typeof t[D])return R(t);{const e=c(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.")}};function j(t,e,n,i,r=new N(t,n,i)){if(!r.closed)return V(e)(r)}class U extends g{notifyNext(t,e,n,i,r){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}function H(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new B(t,e))}}class B{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new X(t,this.project,this.thisArg))}}class X extends g{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function Y(t,e){return new w(e?n=>{const i=new d;let r=0;return i.add(e.schedule((function(){r!==t.length?(n.next(t[r++]),n.closed||i.add(this.schedule())):n.complete()}))),i}:P(t))}function W(t,e){if(!e)return t instanceof w?t:new w(V(t));if(null!=t){if(function(t){return t&&"function"==typeof t[m]}(t))return function(t,e){return new w(e?n=>{const i=new d;return i.add(e.schedule(()=>{const r=t[m]();i.add(r.subscribe({next(t){i.add(e.schedule(()=>n.next(t)))},error(t){i.add(e.schedule(()=>n.error(t)))},complete(){i.add(e.schedule(()=>n.complete()))}}))})),i}:M(t))}(t,e);if(z(t))return function(t,e){return new w(e?n=>{const i=new d;return i.add(e.schedule(()=>t.then(t=>{i.add(e.schedule(()=>{n.next(t),i.add(e.schedule(()=>n.complete()))}))},t=>{i.add(e.schedule(()=>n.error(t)))}))),i}:L(t))}(t,e);if(F(t))return Y(t,e);if(function(t){return t&&"function"==typeof t[D]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new w(e?n=>{const i=new d;let r;return i.add(()=>{r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(()=>{r=t[D](),i.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=r.next();t=n.value,e=n.done}catch(i){return void n.error(i)}e?n.complete():(n.next(t),this.schedule())})))})),i}:R(t))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}function G(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?i=>i.pipe(G((n,i)=>W(t(n,i)).pipe(H((t,r)=>e(n,t,i,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new q(t,n)))}class q{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new $(t,this.project,this.concurrent))}}class $ extends U{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const i=new N(this,void 0,void 0);this.destination.add(i),j(this,t,e,n,i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,i,r){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function K(t){return t}function Z(t=Number.POSITIVE_INFINITY){return G(K,t)}function Q(){return function(t){return t.lift(new J(t))}}class J{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const i=new tt(t,n),r=e.subscribe(i);return i.closed||(i.connection=n.connect()),r}}class tt extends g{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,i=t._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}const et=class extends w{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new d,t.add(this.source.subscribe(new it(this.getSubject(),this))),t.closed?(this._connection=null,t=d.EMPTY):this._connection=t),t}refCount(){return Q()(this)}}.prototype,nt={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:et._subscribe},_isComplete:{value:et._isComplete,writable:!0},getSubject:{value:et.getSubject},connect:{value:et.connect},refCount:{value:et.refCount}};class it extends _{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function rt(){return new C}function ot(t,e,n){const i=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function r(...t){if(this instanceof r)return i.apply(this,t),this;const e=new r(...t);return n.annotation=e,n;function n(t,n,i){const r=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;r.length<=i;)r.push(null);return(r[i]=r[i]||[]).push(e),t}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r}const st=ot("Inject",t=>({token:t})),at=ot("Optional"),lt=ot("Self"),ct=ot("SkipSelf");var ut=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function ht(t){for(let e in t)if(t[e]===ht)return e;throw Error("Could not find renamed property on target object.")}function dt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ft(t){const e=t[pt];return e&&e.token===t?e:null}const pt=ht({ngInjectableDef:ht});function gt(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(gt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}const vt=ht({__forward_ref__:ht});function mt(t){return t.__forward_ref__=mt,t.toString=function(){return gt(this())},t}function yt(t){const e=t;return"function"==typeof e&&e.hasOwnProperty(vt)&&e.__forward_ref__===mt?e():t}const bt="undefined"!=typeof globalThis&&globalThis,xt="undefined"!=typeof window&&window,wt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,St="undefined"!=typeof global&&global,At=bt||St||xt||wt;class Et{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.ngInjectableDef=dt({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const kt=new Et("INJECTOR",-1),_t=new Object,Ct=/\n/gm,Tt=ht({provide:String,useValue:ht});let It=void 0;function Nt(t){const e=It;return It=t,e}function Pt(t,e=ut.Default){return function(t,e=ut.Default){if(void 0===It)throw new Error("inject() must be called from an injection context");return null===It?function(t,e,n){const i=ft(t);if(i&&"root"==i.providedIn)return void 0===i.value?i.value=i.factory():i.value;if(n&ut.Optional)return null;throw new Error(`Injector: NOT_FOUND [${gt(t)}]`)}(t,0,e):It.get(t,e&ut.Optional?null:void 0,e)}(t,e)}class Lt{get(t,e=_t){if(e===_t){const e=new Error(`NullInjectorError: No provider for ${gt(t)}!`);throw e.name="NullInjectorError",e}return e}}function Ot(t,e,n,i=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let r=gt(e);if(e instanceof Array)r=e.map(gt).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let i=e[n];t.push(n+":"+("string"==typeof i?JSON.stringify(i):gt(i)))}r=`{${t.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(Ct,"\n  ")}`}class Dt{}class Rt{}function Mt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Ft(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const zt=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),Vt=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(At))();function jt(t){return t.ngDebugContext}function Ut(t){return t.ngOriginalError}function Ht(t,...e){t.error(...e)}class Bt{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),i=function(t){return t.ngErrorLogger||Ht}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e),n&&i(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?jt(t)?jt(t):this._findContext(Ut(t)):null}_findOriginalError(t){let e=Ut(t);for(;e&&Ut(e);)e=Ut(e);return e}}let Xt=!0,Yt=!1;function Wt(){return Yt=!0,Xt}class Gt{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t),this.inertBodyElement=this.inertDocument.createElement("body"),t.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(i){return null}const e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);const n=e.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(t){t="<body><remove></remove>"+t+"</body>";try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}getInertBodyElement_InertDocument(t){const e=this.inertDocument.createElement("template");return"content"in e?(e.innerHTML=t,e):(this.inertBodyElement.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}stripCustomNsAttrs(t){const e=t.attributes;for(let i=e.length-1;0<i;i--){const n=e.item(i).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const qt=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,$t=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Kt(t){return(t=String(t)).match(qt)||t.match($t)?t:(Wt()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function Zt(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Qt(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Jt=Zt("area,br,col,hr,img,wbr"),te=Zt("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ee=Zt("rp,rt"),ne=Qt(ee,te),ie=Qt(Jt,Qt(te,Zt("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Qt(ee,Zt("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ne),re=Zt("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),oe=Zt("srcset"),se=Qt(re,oe,Zt("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Zt("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ae=Zt("script,style,template");class le{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!ie.hasOwnProperty(e))return this.sanitizedSomething=!0,!ae.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r),e=t.name,o=e.toLowerCase();if(!se.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;re[o]&&(s=Kt(s)),oe[o]&&(i=s,s=(i=String(i)).split(",").map(t=>Kt(t.trim())).join(", ")),this.buf.push(" ",e,'="',he(s),'"')}var i;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();ie.hasOwnProperty(e)&&!Jt.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(he(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const ce=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ue=/([^\#-~ |!])/g;function he(t){return t.replace(/&/g,"&amp;").replace(ce,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(ue,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let de;function fe(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}const pe=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}();class ge{}const ve=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),me=/^url\(([^)]+)\)$/;function ye(t){var e;return e=t.replace(/[$@]/g,"_"),`ng-reflect-${t=e.replace(be,(...t)=>"-"+t[1].toLowerCase())}`}const be=/([A-Z])/g;function xe(t){try{return null!=t?t.toString().slice(0,30):t}catch(e){return"[ERROR] Exception while trying to serialize the value"}}let we=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Se(),t})();const Se=(...t)=>{},Ae=new Et("The presence of this token marks an injector as being the root injector."),Ee=function(t,e,n){return new Ne(t,e,n)};let ke=(()=>{class t{static create(t,e){return Array.isArray(t)?Ee(t,e,""):Ee(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=_t,t.NULL=new Lt,t.ngInjectableDef=dt({token:t,providedIn:"any",factory:()=>Pt(kt)}),t.__NG_ELEMENT_ID__=-1,t})();const _e=function(t){return t},Ce=[],Te=_e,Ie=function(){return Array.prototype.slice.call(arguments)};class Ne{constructor(t,e=ke.NULL,n=null){this.parent=e,this.source=n;const i=this._records=new Map;i.set(ke,{token:ke,fn:_e,deps:Ce,value:this,useNew:!1}),i.set(kt,{token:kt,fn:_e,deps:Ce,value:this,useNew:!1}),function t(e,n){if(n)if((n=yt(n))instanceof Array)for(let i=0;i<n.length;i++)t(e,n[i]);else{if("function"==typeof n)throw Le("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw Le("Unexpected provider",n);{let t=yt(n.provide);const i=function(t){const e=function(t){let e=Ce;const n=t.deps;if(n&&n.length){e=[];for(let t=0;t<n.length;t++){let i=6,r=yt(n[t]);if(r instanceof Array)for(let t=0,e=r;t<e.length;t++){const n=e[t];n instanceof at||n==at?i|=1:n instanceof ct||n==ct?i&=-3:n instanceof lt||n==lt?i&=-5:r=n instanceof st?n.token:yt(n)}e.push({token:r,options:i})}}else if(t.useExisting)e=[{token:yt(t.useExisting),options:6}];else if(!(n||Tt in t))throw Le("'deps' required",t);return e}(t);let n=_e,i=Ce,r=!1,o=yt(t.provide);if(Tt in t)i=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)r=!0,n=yt(t.useClass);else{if("function"!=typeof o)throw Le("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);r=!0,n=o}return{deps:e,fn:n,useNew:r,value:i}}(n);if(!0===n.multi){let i=e.get(t);if(i){if(i.fn!==Ie)throw Pe(t)}else e.set(t,i={token:n.provide,deps:[],useNew:!1,fn:Ie,value:Ce});t=n,i.deps.push({token:t,options:6})}const r=e.get(t);if(r&&r.fn==Ie)throw Pe(t);e.set(t,i)}}}(i,t)}get(t,e,n=ut.Default){const i=this._records.get(t);try{return function t(e,n,i,r,o,s){try{return function(e,n,i,r,o,s){let a;if(!n||s&ut.SkipSelf)s&ut.Self||(a=r.get(e,o,ut.Default));else{if(a=n.value,a==Te)throw Error("\u0275Circular dependency");if(a===Ce){n.value=Te;let e=void 0,o=n.useNew,s=n.fn,l=n.deps,c=Ce;if(l.length){c=[];for(let e=0;e<l.length;e++){const n=l[e],o=n.options,s=2&o?i.get(n.token):void 0;c.push(t(n.token,s,i,s||4&o?r:ke.NULL,1&o?null:ke.THROW_IF_NOT_FOUND,ut.Default))}}n.value=a=o?new s(...c):s.apply(e,c)}}return a}(e,n,i,r,o,s)}catch(a){throw a instanceof Error||(a=new Error(a)),(a.ngTempTokenPath=a.ngTempTokenPath||[]).unshift(e),n&&n.value==Te&&(n.value=Ce),a}}(t,i,this._records,this.parent,e,n)}catch(r){return function(t,e,n,i){const r=t.ngTempTokenPath;throw e.__source&&r.unshift(e.__source),t.message=Ot("\n"+t.message,r,"StaticInjectorError",i),t.ngTokenPath=r,t.ngTempTokenPath=null,t}(r,t,0,this.source)}}toString(){const t=[];return this._records.forEach((e,n)=>t.push(gt(n))),`StaticInjector[${t.join(", ")}]`}}function Pe(t){return Le("Cannot mix multi providers and regular providers",t)}function Le(t,e){return new Error(Ot(t,e,"StaticInjectorError"))}const Oe=new Et("AnalyzeForEntryComponents");let De=null;function Re(){if(!De){const t=At.Symbol;if(t&&t.iterator)De=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(De=n)}}}return De}function Me(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function Fe(t,e){const n=Ve(t),i=Ve(e);if(n&&i)return function(t,e,n){const i=t[Re()](),r=e[Re()]();for(;;){const t=i.next(),e=r.next();if(t.done&&e.done)return!0;if(t.done||e.done)return!1;if(!n(t.value,e.value))return!1}}(t,e,Fe);{const r=t&&("object"==typeof t||"function"==typeof t),o=e&&("object"==typeof e||"function"==typeof e);return!(n||!r||i||!o)||Me(t,e)}}class ze{constructor(t){this.wrapped=t}static wrap(t){return new ze(t)}static unwrap(t){return ze.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof ze}}function Ve(t){return!!je(t)&&(Array.isArray(t)||!(t instanceof Map)&&Re()in t)}function je(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ue(t){return!!t&&"function"==typeof t.then}function He(t){return!!t&&"function"==typeof t.subscribe}class Be{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}class Xe{}function Ye(t){const e=Error(`No component factory found for ${gt(t)}. Did you add it to @NgModule.entryComponents?`);return e[We]=t,e}const We="ngComponent";class Ge{resolveComponentFactory(t){throw Ye(t)}}let qe=(()=>{class t{}return t.NULL=new Ge,t})();class $e{constructor(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(let i=0;i<t.length;i++){const e=t[i];this._factories.set(e.componentType,e)}}resolveComponentFactory(t){let e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw Ye(t);return new Ke(e,this._ngModule)}}class Ke extends Xe{constructor(t,e){super(),this.factory=t,this.ngModule=e,this.selector=t.selector,this.componentType=t.componentType,this.ngContentSelectors=t.ngContentSelectors,this.inputs=t.inputs,this.outputs=t.outputs}create(t,e,n,i){return this.factory.create(t,e,n,i||this.ngModule)}}function Ze(...t){}let Qe=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>Je(t),t})();const Je=Ze;class tn{}class en{}const nn=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}();let rn=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>on(),t})();const on=Ze;class sn{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const an=new sn("8.2.14");class ln{constructor(){}supports(t){return Ve(t)}create(t){return new un(t)}}const cn=(t,e)=>e;class un{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||cn}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,i=0,r=null;for(;e||n;){const o=!n||e&&e.currentIndex<pn(n,i,r)?e:n,s=pn(o,i,r),a=o.currentIndex;if(o===n)i--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)i++;else{r||(r=[]);const t=s-i,e=a-i;if(t!=e){for(let n=0;n<t;n++){const i=n<r.length?r[n]:r[n]=0,o=i+n;e<=o&&o<t&&(r[n]=i+1)}r[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Ve(t))throw new Error(`Error trying to diff '${gt(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,i,r=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],i=this._trackByFn(e,n),null!==r&&Me(r.trackById,i)?(o&&(r=this._verifyReinsertion(r,n,i,e)),Me(r.item,n)||this._addIdentityChange(r,n)):(r=this._mismatch(r,n,i,e),o=!0),r=r._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Re()]();let i;for(;!(i=n.next()).done;)e(i.value)}}(t,t=>{i=this._trackByFn(e,t),null!==r&&Me(r.trackById,i)?(o&&(r=this._verifyReinsertion(r,t,i,e)),Me(r.item,t)||this._addIdentityChange(r,t)):(r=this._mismatch(r,t,i,e),o=!0),r=r._next,e++}),this.length=e;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,i){let r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(Me(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,i)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Me(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,i)):t=this._addAfter(new hn(e,n),r,i),t}_verifyReinsertion(t,e,n,i){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?t=this._reinsertAfter(r,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,r=t._nextRemoved;return null===i?this._removalsHead=r:i._nextRemoved=r,null===r?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new fn),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new fn),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class hn{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class dn{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Me(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class fn{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new dn,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function pn(t,e,n){const i=t.previousIndex;if(null===i)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}class gn{constructor(){}supports(t){return t instanceof Map||je(t)}create(){return new vn}}class vn{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||je(t)))throw new Error(`Error trying to diff '${gt(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const i=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,i)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const i=n._prev,r=n._next;return i&&(i._next=r),r&&(r._prev=i),n._next=null,n._prev=null,n}const n=new mn(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Me(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class mn{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let yn=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new ct,new at]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.ngInjectableDef=dt({token:t,providedIn:"root",factory:()=>new t([new ln])}),t})(),bn=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new ct,new at]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.ngInjectableDef=dt({token:t,providedIn:"root",factory:()=>new t([new gn])}),t})();const xn=[new gn],wn=new yn([new ln]),Sn=new bn(xn);let An=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>En(t,Qe),t})();const En=Ze;let kn=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>_n(t,Qe),t})();const _n=Ze;function Cn(t,e,n,i){let r=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${e}'. Current value: '${n}'.`;return i&&(r+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){const n=new Error(t);return Tn(n,e),n}(r,t)}function Tn(t,e){t.ngDebugContext=e,t.ngErrorLogger=e.logError.bind(e)}function In(t){return new Error(`ViewDestroyedError: Attempt to use a destroyed view: ${t}`)}function Nn(t,e,n){const i=t.state,r=1792&i;return r===e?(t.state=-1793&i|n,t.initIndex=-1,!0):r===n}function Pn(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function Ln(t,e){return t.nodes[e]}function On(t,e){return t.nodes[e]}function Dn(t,e){return t.nodes[e]}function Rn(t,e){return t.nodes[e]}function Mn(t,e){return t.nodes[e]}const Fn={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},zn=()=>{},Vn=new Map;function jn(t){let e=Vn.get(t);return e||(e=gt(t)+"_"+Vn.size,Vn.set(t,e)),e}function Un(t){return{id:"$$undefined",styles:t.styles,encapsulation:t.encapsulation,data:t.data}}let Hn=0;function Bn(t,e,n,i){return!(!(2&t.state)&&Me(t.oldValues[e.bindingIndex+n],i))}function Xn(t,e,n,i){return!!Bn(t,e,n,i)&&(t.oldValues[e.bindingIndex+n]=i,!0)}function Yn(t,e,n,i){const r=t.oldValues[e.bindingIndex+n];if(1&t.state||!Fe(r,i)){const o=e.bindings[n].name;throw Cn(Fn.createDebugContext(t,e.nodeIndex),`${o}: ${r}`,`${o}: ${i}`,0!=(1&t.state))}}function Wn(t){let e=t;for(;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function Gn(t,e){let n=t;for(;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function qn(t,e,n,i){try{return Wn(33554432&t.def.nodes[e].flags?On(t,e).componentView:t),Fn.handleEvent(t,e,n,i)}catch(r){t.root.errorHandler.handleError(r)}}function $n(t){return t.parent?On(t.parent,t.parentNodeDef.nodeIndex):null}function Kn(t){return t.parent?t.parentNodeDef.parent:null}function Zn(t,e){switch(201347067&e.flags){case 1:return On(t,e.nodeIndex).renderElement;case 2:return Ln(t,e.nodeIndex).renderText}}function Qn(t,e){return t?`${t}:${e}`:e}function Jn(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function ti(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function ei(t){const e={};let n=0;const i={};return t&&t.forEach(([t,r])=>{"number"==typeof t?(e[t]=r,n|=function(t){return 1<<t%32}(t)):i[t]=r}),{matchedQueries:e,references:i,matchedQueryIds:n}}function ni(t,e){return t.map(t=>{let n,i;return Array.isArray(t)?[i,n]=t:(i=0,n=t),n&&("function"==typeof n||"object"==typeof n)&&e&&Object.defineProperty(n,"__source",{value:e,configurable:!0}),{flags:i,token:n,tokenKey:jn(n)}})}function ii(t,e,n){let i=n.renderParent;return i?0==(1&i.flags)||0==(33554432&i.flags)||i.element.componentRendererType&&i.element.componentRendererType.encapsulation===zt.Native?On(t,n.renderParent.nodeIndex).renderElement:void 0:e}const ri=new WeakMap;function oi(t){let e=ri.get(t);return e||(e=t(()=>zn),e.factory=t,ri.set(t,e)),e}function si(t,e,n,i,r){3===e&&(n=t.renderer.parentNode(Zn(t,t.def.lastRenderRootNode))),ai(t,e,0,t.def.nodes.length-1,n,i,r)}function ai(t,e,n,i,r,o,s){for(let a=n;a<=i;a++){const n=t.def.nodes[a];11&n.flags&&ci(t,n,e,r,o,s),a+=n.childCount}}function li(t,e,n,i,r,o){let s=t;for(;s&&!Jn(s);)s=s.parent;const a=s.parent,l=Kn(s),c=l.nodeIndex+l.childCount;for(let u=l.nodeIndex+1;u<=c;u++){const t=a.def.nodes[u];t.ngContentIndex===e&&ci(a,t,n,i,r,o),u+=t.childCount}if(!a.parent){const s=t.root.projectableNodes[e];if(s)for(let e=0;e<s.length;e++)ui(t,s[e],n,i,r,o)}}function ci(t,e,n,i,r,o){if(8&e.flags)li(t,e.ngContent.index,n,i,r,o);else{const s=Zn(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&ui(t,s,n,i,r,o),32&e.bindingFlags&&ui(On(t,e.nodeIndex).componentView,s,n,i,r,o)):ui(t,s,n,i,r,o),16777216&e.flags){const s=On(t,e.nodeIndex).viewContainer._embeddedViews;for(let t=0;t<s.length;t++)si(s[t],n,i,r,o)}1&e.flags&&!e.element.name&&ai(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,i,r,o)}}function ui(t,e,n,i,r,o){const s=t.renderer;switch(n){case 1:s.appendChild(i,e);break;case 2:s.insertBefore(i,e,r);break;case 3:s.removeChild(i,e);break;case 0:o.push(e)}}const hi=/^:([^:]+):(.+)$/;function di(t){if(":"===t[0]){const e=t.match(hi);return[e[1],e[2]]}return["",t]}function fi(t){let e=0;for(let n=0;n<t.length;n++)e|=t[n].flags;return e}const pi=new Object,gi=jn(ke),vi=jn(kt),mi=jn(Dt);function yi(t,e,n,i){return n=yt(n),{index:-1,deps:ni(i,gt(e)),flags:t,token:e,value:n}}function bi(t,e,n=ke.THROW_IF_NOT_FOUND){const i=Nt(t);try{if(8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);const s=e.tokenKey;switch(s){case gi:case vi:case mi:return t}const a=t._def.providersByKey[s];let l;if(a){let e=t._providers[a.index];return void 0===e&&(e=t._providers[a.index]=xi(t,a)),e===pi?void 0:e}if((l=ft(e.token))&&(r=t,null!=(o=l).providedIn&&(function(t,e){return t._def.modules.indexOf(e)>-1}(r,o.providedIn)||"root"===o.providedIn&&r._def.isRoot))){const n=t._providers.length;return t._def.providers[n]=t._def.providersByKey[e.tokenKey]={flags:5120,value:l.factory,deps:[],index:n,token:e.token},t._providers[n]=pi,t._providers[n]=xi(t,t._def.providersByKey[e.tokenKey])}return 4&e.flags?n:t._parent.get(e.token,n)}finally{Nt(i)}var r,o}function xi(t,e){let n;switch(201347067&e.flags){case 512:n=function(t,e,n){const i=n.length;switch(i){case 0:return new e;case 1:return new e(bi(t,n[0]));case 2:return new e(bi(t,n[0]),bi(t,n[1]));case 3:return new e(bi(t,n[0]),bi(t,n[1]),bi(t,n[2]));default:const r=new Array(i);for(let e=0;e<i;e++)r[e]=bi(t,n[e]);return new e(...r)}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){const i=n.length;switch(i){case 0:return e();case 1:return e(bi(t,n[0]));case 2:return e(bi(t,n[0]),bi(t,n[1]));case 3:return e(bi(t,n[0]),bi(t,n[1]),bi(t,n[2]));default:const r=Array(i);for(let e=0;e<i;e++)r[e]=bi(t,n[e]);return e(...r)}}(t,e.value,e.deps);break;case 2048:n=bi(t,e.deps[0]);break;case 256:n=e.value}return n===pi||null===n||"object"!=typeof n||131072&e.flags||"function"!=typeof n.ngOnDestroy||(e.flags|=131072),void 0===n?pi:n}function wi(t,e){const n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;const i=n[e];return i.viewContainerParent=null,Ft(n,e),Fn.dirtyParentQueries(i),Ai(i),i}function Si(t,e,n){const i=e?Zn(e,e.def.lastRenderRootNode):t.renderElement,r=n.renderer.parentNode(i),o=n.renderer.nextSibling(i);si(n,2,r,o,void 0)}function Ai(t){si(t,3,null,null,void 0)}const Ei=new Object;function ki(t,e,n,i,r,o){return new _i(t,e,n,i,r,o)}class _i extends Xe{constructor(t,e,n,i,r,o){super(),this.selector=t,this.componentType=e,this._inputs=i,this._outputs=r,this.ngContentSelectors=o,this.viewDefFactory=n}get inputs(){const t=[],e=this._inputs;for(let n in e)t.push({propName:n,templateName:e[n]});return t}get outputs(){const t=[];for(let e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t}create(t,e,n,i){if(!i)throw new Error("ngModule should be provided");const r=oi(this.viewDefFactory),o=r.nodes[0].element.componentProvider.nodeIndex,s=Fn.createRootView(t,e||[],n,r,i,Ei),a=Dn(s,o).instance;return n&&s.renderer.setAttribute(On(s,0).renderElement,"ng-version",an.full),new Ci(s,new Pi(s),a)}}class Ci extends class{}{constructor(t,e,n){super(),this._view=t,this._viewRef=e,this._component=n,this._elDef=this._view.def.nodes[0],this.hostView=e,this.changeDetectorRef=e,this.instance=n}get location(){return new Qe(On(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new Ri(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(t){this._viewRef.onDestroy(t)}}function Ti(t,e,n){return new Ii(t,e,n)}class Ii{constructor(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}get element(){return new Qe(this._data.renderElement)}get injector(){return new Ri(this._view,this._elDef)}get parentInjector(){let t=this._view,e=this._elDef.parent;for(;!e&&t;)e=Kn(t),t=t.parent;return t?new Ri(t,e):new Ri(this._view,null)}clear(){for(let t=this._embeddedViews.length-1;t>=0;t--){const e=wi(this._data,t);Fn.destroyView(e)}}get(t){const e=this._embeddedViews[t];if(e){const t=new Pi(e);return t.attachToViewContainerRef(this),t}return null}get length(){return this._embeddedViews.length}createEmbeddedView(t,e,n){const i=t.createEmbeddedView(e||{});return this.insert(i,n),i}createComponent(t,e,n,i,r){const o=n||this.parentInjector;r||t instanceof Ke||(r=o.get(Dt));const s=t.create(o,i,void 0,r);return this.insert(s.hostView,e),s}insert(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const n=t;return function(t,e,n,i){let r=e.viewContainer._embeddedViews;null==n&&(n=r.length),i.viewContainerParent=t,Mt(r,n,i),function(t,e){const n=$n(e);if(!n||n===t||16&e.state)return;e.state|=16;let i=n.template._projectedViews;i||(i=n.template._projectedViews=[]),i.push(e),function(t,e){if(4&e.flags)return;t.nodeFlags|=4,e.flags|=4;let n=e.parent;for(;n;)n.childFlags|=4,n=n.parent}(e.parent.def,e.parentNodeDef)}(e,i),Fn.dirtyParentQueries(i),Si(e,n>0?r[n-1]:null,i)}(this._view,this._data,e,n._view),n.attachToViewContainerRef(this),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this._embeddedViews.indexOf(t._view);return function(t,e,n){const i=t.viewContainer._embeddedViews,r=i[e];Ft(i,e),null==n&&(n=i.length),Mt(i,n,r),Fn.dirtyParentQueries(r),Ai(r),Si(t,n>0?i[n-1]:null,r)}(this._data,n,e),t}indexOf(t){return this._embeddedViews.indexOf(t._view)}remove(t){const e=wi(this._data,t);e&&Fn.destroyView(e)}detach(t){const e=wi(this._data,t);return e?new Pi(e):null}}function Ni(t){return new Pi(t)}class Pi{constructor(t){this._view=t,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(t){const e=[];return si(t,0,void 0,void 0,e),e}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){Wn(this._view)}detach(){this._view.state&=-5}detectChanges(){const t=this._view.root.rendererFactory;t.begin&&t.begin();try{Fn.checkAndUpdateView(this._view)}finally{t.end&&t.end()}}checkNoChanges(){Fn.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Fn.destroyView(this._view)}detachFromAppRef(){this._appRef=null,Ai(this._view),Fn.dirtyParentQueries(this._view)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}}function Li(t,e){return new Oi(t,e)}class Oi extends An{constructor(t,e){super(),this._parentView=t,this._def=e}createEmbeddedView(t){return new Pi(Fn.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))}get elementRef(){return new Qe(On(this._parentView,this._def.nodeIndex).renderElement)}}function Di(t,e){return new Ri(t,e)}class Ri{constructor(t,e){this.view=t,this.elDef=e}get(t,e=ke.THROW_IF_NOT_FOUND){return Fn.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:jn(t)},e)}}function Mi(t,e){const n=t.def.nodes[e];if(1&n.flags){const e=On(t,n.nodeIndex);return n.element.template?e.template:e.renderElement}if(2&n.flags)return Ln(t,n.nodeIndex).renderText;if(20240&n.flags)return Dn(t,n.nodeIndex).instance;throw new Error(`Illegal state: read nodeValue for node index ${e}`)}function Fi(t){return new zi(t.renderer)}class zi{constructor(t){this.delegate=t}selectRootElement(t){return this.delegate.selectRootElement(t)}createElement(t,e){const[n,i]=di(e),r=this.delegate.createElement(i,n);return t&&this.delegate.appendChild(t,r),r}createViewRoot(t){return t}createTemplateAnchor(t){const e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e}createText(t,e){const n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n}projectNodes(t,e){for(let n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])}attachViewAfter(t,e){const n=this.delegate.parentNode(t),i=this.delegate.nextSibling(t);for(let r=0;r<e.length;r++)this.delegate.insertBefore(n,e[r],i)}detachView(t){for(let e=0;e<t.length;e++){const n=t[e],i=this.delegate.parentNode(n);this.delegate.removeChild(i,n)}}destroyView(t,e){for(let n=0;n<e.length;n++)this.delegate.destroyNode(e[n])}listen(t,e,n){return this.delegate.listen(t,e,n)}listenGlobal(t,e,n){return this.delegate.listen(t,e,n)}setElementProperty(t,e,n){this.delegate.setProperty(t,e,n)}setElementAttribute(t,e,n){const[i,r]=di(e);null!=n?this.delegate.setAttribute(t,r,n,i):this.delegate.removeAttribute(t,r,i)}setBindingDebugInfo(t,e,n){}setElementClass(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)}setElementStyle(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)}invokeElementMethod(t,e,n){t[e].apply(t,n)}setText(t,e){this.delegate.setValue(t,e)}animate(){throw new Error("Renderer.animate is no longer supported!")}}function Vi(t,e,n,i){return new ji(t,e,n,i)}class ji{constructor(t,e,n,i){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=i,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){const e=t._def,n=t._providers=new Array(e.providers.length);for(let i=0;i<e.providers.length;i++){const r=e.providers[i];4096&r.flags||void 0===n[i]&&(n[i]=xi(t,r))}}(this)}get(t,e=ke.THROW_IF_NOT_FOUND,n=ut.Default){let i=0;return n&ut.SkipSelf?i|=1:n&ut.Self&&(i|=4),bi(this,{token:t,tokenKey:jn(t),flags:i},e)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(qe)}destroy(){if(this._destroyed)throw new Error(`The ng module ${gt(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(t,e){const n=t._def,i=new Set;for(let r=0;r<n.providers.length;r++)if(131072&n.providers[r].flags){const e=t._providers[r];if(e&&e!==pi){const t=e.ngOnDestroy;"function"!=typeof t||i.has(e)||(t.apply(e),i.add(e))}}}(this),this._destroyListeners.forEach(t=>t())}onDestroy(t){this._destroyListeners.push(t)}}const Ui=jn(tn),Hi=jn(rn),Bi=jn(Qe),Xi=jn(kn),Yi=jn(An),Wi=jn(we),Gi=jn(ke),qi=jn(kt);function $i(t,e,n,i,r,o,s,a){const l=[];if(s)for(let u in s){const[t,e]=s[u];l[t]={flags:8,name:u,nonMinifiedName:e,ns:null,securityContext:null,suffix:null}}const c=[];if(a)for(let u in a)c.push({type:1,propName:u,target:null,eventName:a[u]});return Ki(t,e|=16384,n,i,r,r,o,l,c)}function Ki(t,e,n,i,r,o,s,a,l){const{matchedQueries:c,references:u,matchedQueryIds:h}=ei(n);l||(l=[]),a||(a=[]),o=yt(o);const d=ni(s,gt(r));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:h,references:u,ngContentIndex:-1,childCount:i,bindings:a,bindingFlags:fi(a),outputs:l,element:null,provider:{token:r,value:o,deps:d},text:null,query:null,ngContent:null}}function Zi(t,e){return er(t,e)}function Qi(t,e){let n=t;for(;n.parent&&!Jn(n);)n=n.parent;return nr(n.parent,Kn(n),!0,e.provider.value,e.provider.deps)}function Ji(t,e){const n=nr(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(let i=0;i<e.outputs.length;i++){const r=e.outputs[i],o=n[r.propName];if(!He(o))throw new Error(`@Output ${r.propName} not initialized in '${n.constructor.name}'.`);{const n=o.subscribe(tr(t,e.parent.nodeIndex,r.eventName));t.disposables[e.outputIndex+i]=n.unsubscribe.bind(n)}}return n}function tr(t,e,n){return i=>qn(t,e,n,i)}function er(t,e){const n=(8192&e.flags)>0,i=e.provider;switch(201347067&e.flags){case 512:return nr(t,e.parent,n,i.value,i.deps);case 1024:return function(t,e,n,i,r){const o=r.length;switch(o){case 0:return i();case 1:return i(rr(t,e,n,r[0]));case 2:return i(rr(t,e,n,r[0]),rr(t,e,n,r[1]));case 3:return i(rr(t,e,n,r[0]),rr(t,e,n,r[1]),rr(t,e,n,r[2]));default:const s=Array(o);for(let i=0;i<o;i++)s[i]=rr(t,e,n,r[i]);return i(...s)}}(t,e.parent,n,i.value,i.deps);case 2048:return rr(t,e.parent,n,i.deps[0]);case 256:return i.value}}function nr(t,e,n,i,r){const o=r.length;switch(o){case 0:return new i;case 1:return new i(rr(t,e,n,r[0]));case 2:return new i(rr(t,e,n,r[0]),rr(t,e,n,r[1]));case 3:return new i(rr(t,e,n,r[0]),rr(t,e,n,r[1]),rr(t,e,n,r[2]));default:const s=new Array(o);for(let i=0;i<o;i++)s[i]=rr(t,e,n,r[i]);return new i(...s)}}const ir={};function rr(t,e,n,i,r=ke.THROW_IF_NOT_FOUND){if(8&i.flags)return i.token;const o=t;2&i.flags&&(r=null);const s=i.tokenKey;s===Wi&&(n=!(!e||!e.element.componentView)),e&&1&i.flags&&(n=!1,e=e.parent);let a=t;for(;a;){if(e)switch(s){case Ui:return Fi(or(a,e,n));case Hi:return or(a,e,n).renderer;case Bi:return new Qe(On(a,e.nodeIndex).renderElement);case Xi:return On(a,e.nodeIndex).viewContainer;case Yi:if(e.element.template)return On(a,e.nodeIndex).template;break;case Wi:return Ni(or(a,e,n));case Gi:case qi:return Di(a,e);default:const t=(n?e.element.allProviders:e.element.publicProviders)[s];if(t){let e=Dn(a,t.nodeIndex);return e||(e={instance:er(a,t)},a.nodes[t.nodeIndex]=e),e.instance}}n=Jn(a),e=Kn(a),a=a.parent,4&i.flags&&(a=null)}const l=o.root.injector.get(i.token,ir);return l!==ir||r===ir?l:o.root.ngModule.injector.get(i.token,r)}function or(t,e,n){let i;if(n)i=On(t,e.nodeIndex).componentView;else for(i=t;i.parent&&!Jn(i);)i=i.parent;return i}function sr(t,e,n,i,r,o){if(32768&n.flags){const e=On(t,n.parent.nodeIndex).componentView;2&e.def.flags&&(e.state|=8)}if(e.instance[n.bindings[i].name]=r,524288&n.flags){o=o||{};const e=ze.unwrap(t.oldValues[n.bindingIndex+i]);o[n.bindings[i].nonMinifiedName]=new Be(e,r,0!=(2&t.state))}return t.oldValues[n.bindingIndex+i]=r,o}function ar(t,e){if(!(t.def.nodeFlags&e))return;const n=t.def.nodes;let i=0;for(let r=0;r<n.length;r++){const o=n[r];let s=o.parent;for(!s&&o.flags&e&&cr(t,r,o.flags&e,i++),0==(o.childFlags&e)&&(r+=o.childCount);s&&1&s.flags&&r===s.nodeIndex+s.childCount;)s.directChildFlags&e&&(i=lr(t,s,e,i)),s=s.parent}}function lr(t,e,n,i){for(let r=e.nodeIndex+1;r<=e.nodeIndex+e.childCount;r++){const e=t.def.nodes[r];e.flags&n&&cr(t,r,e.flags&n,i++),r+=e.childCount}return i}function cr(t,e,n,i){const r=Dn(t,e);if(!r)return;const o=r.instance;o&&(Fn.setCurrentNode(t,e),1048576&n&&Pn(t,512,i)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&Pn(t,768,i)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}const ur=new Et("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Vt}),hr={},dr=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencySymbol:15,CurrencyName:16,Currencies:17,PluralCase:18,ExtraData:19};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}();var fr=["en",[["a","p"],["AM","PM"],void 0],[["AM","PM"],void 0,void 0],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],void 0,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",void 0,"{1} 'at' {0}",void 0],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];function pr(t){const e=t.toLowerCase().replace(/_/g,"-");let n=hr[e];if(n)return n;const i=e.split("-")[0];if(n=hr[i],n)return n;if("en"===i)return fr;throw new Error(`Missing locale data for the locale "${t}".`)}class gr extends C{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let i,r=t=>null,o=()=>null;t&&"object"==typeof t?(i=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(r=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(i=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(r=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const s=super.subscribe(i,r,o);return t instanceof d&&t.add(s),s}}function vr(){return this._results[Re()]()}class mr{constructor(){this.dirty=!0,this._results=[],this.changes=new gr,this.length=0;const t=Re(),e=mr.prototype;e[t]||(e[t]=vr)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?(n===e&&(n=e.slice(0,i)),t(r,n)):n!==e&&n.push(r)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}const yr=new Et("Application Initializer");class br{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Ue(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}const xr=new Et("AppId");function wr(){return`${Sr()}${Sr()}${Sr()}`}function Sr(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ar=new Et("Platform Initializer"),Er=new Et("Platform ID"),kr=new Et("appBootstrapListener");class _r{log(t){console.log(t)}warn(t){console.warn(t)}}const Cr=new Et("LocaleId");function Tr(){throw new Error("Runtime compiler is not loaded")}const Ir=Tr,Nr=Tr,Pr=Tr,Lr=Tr;class Or{constructor(){this.compileModuleSync=Ir,this.compileModuleAsync=Nr,this.compileModuleAndAllComponentsSync=Pr,this.compileModuleAndAllComponentsAsync=Lr}clearCache(){}clearCacheFor(t){}getModuleId(t){}}class Dr{}let Rr,Mr;function Fr(){const t=At.wtf;return!(!t||(Rr=t.trace,!Rr)||(Mr=Rr.events,0))}const zr=Fr();function Vr(t,e){return null}const jr=zr?function(t,e=null){return Mr.createScope(t,e)}:(t,e)=>Vr,Ur=zr?function(t,e){return Rr.leaveScope(t,e),e}:(t,e)=>e,Hr=(()=>Promise.resolve(0))();function Br(t){"undefined"==typeof Zone?Hr.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Xr{constructor({enableLongStackTrace:t=!1}){if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new gr(!1),this.onMicrotaskEmpty=new gr(!1),this.onStable=new gr(!1),this.onError=new gr(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");var e;Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(e=this)._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,n,i,r,o,s)=>{try{return qr(e),t.invokeTask(i,r,o,s)}finally{$r(e)}},onInvoke:(t,n,i,r,o,s,a)=>{try{return qr(e),t.invoke(i,r,o,s,a)}finally{$r(e)}},onHasTask:(t,n,i,r)=>{t.hasTask(i,r),n===i&&("microTask"==r.change?(e.hasPendingMicrotasks=r.microTask,Gr(e)):"macroTask"==r.change&&(e.hasPendingMacrotasks=r.macroTask))},onHandleError:(t,n,i,r)=>(t.handleError(i,r),e.runOutsideAngular(()=>e.onError.emit(r)),!1)})}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Xr.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Xr.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,i){const r=this._inner,o=r.scheduleEventTask("NgZoneEvent: "+i,t,Wr,Yr,Yr);try{return r.runTask(o,e,n)}finally{r.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function Yr(){}const Wr={};function Gr(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function qr(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function $r(t){t._nesting--,Gr(t)}class Kr{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new gr,this.onMicrotaskEmpty=new gr,this.onStable=new gr,this.onError=new gr}run(t){return t()}runGuarded(t){return t()}runOutsideAngular(t){return t()}runTask(t){return t()}}class Zr{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Xr.assertNotInAngularZone(),Br(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Br(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let i=-1;e&&e>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==i),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}class Qr{constructor(){this._applications=new Map,eo.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return eo.findTestabilityInTree(this,t,e)}}class Jr{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let to,eo=new Jr;const no=new Et("AllowMultipleToken");class io{constructor(t,e){this.name=t,this.token=e}}function ro(t,e,n=[]){const i=`Platform: ${e}`,r=new Et(i);return(e=[])=>{let o=oo();if(!o||o.injector.get(no,!1))if(t)t(n.concat(e).concat({provide:r,useValue:!0}));else{const t=n.concat(e).concat({provide:r,useValue:!0});!function(t){if(to&&!to.destroyed&&!to.injector.get(no,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");to=t.get(so);const e=t.get(Ar,null);e&&e.forEach(t=>t())}(ke.create({providers:t,name:i}))}return function(t){const e=oo();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(r)}}function oo(){return to&&!to.destroyed?to:null}class so{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t){let e;return e="noop"===t?new Kr:("zone.js"===t?void 0:t)||new Xr({enableLongStackTrace:Wt()}),e}(e?e.ngZone:void 0),i=[{provide:Xr,useValue:n}];return n.run(()=>{const e=ke.create({providers:i,parent:this.injector,name:t.moduleType.name}),r=t.create(e),o=r.injector.get(Bt,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return r.onDestroy(()=>co(this._modules,r)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{o.handleError(t)}})),function(t,e,n){try{const i=n();return Ue(i)?i.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}(o,n,()=>{const t=r.injector.get(br);return t.runInitializers(),t.donePromise.then(()=>(this._moduleDoBootstrap(r),r))})})}bootstrapModule(t,e=[]){const n=ao({},e);return function(t,e,n){return t.get(Dr).createCompiler([e]).compileModuleAsync(n)}(this.injector,n,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(lo);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${gt(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. `+"Please define one of these.");t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}function ao(t,e){return Array.isArray(e)?e.reduce(ao,t):Object.assign({},t,e)}let lo=(()=>{class t{constructor(t,e,n,i,r,o){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=i,this._componentFactoryResolver=r,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Wt(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new w(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),a=new w(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Xr.assertNotInAngularZone(),Br(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Xr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=function(...t){let e=Number.POSITIVE_INFINITY,n=null,i=t[t.length-1];return I(i)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof i&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof w?t[0]:Z(e)(Y(t,n))}(s,a.pipe(t=>{return Q()((e=rt,function(t){let n;n="function"==typeof e?e:function(){return e};const i=Object.create(t,nt);return i.source=t,i.subjectFactory=n,i})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Xe?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const i=n instanceof Ke?null:this._injector.get(Dt),r=n.create(ke.NULL,[],e||n.selector,i);r.onDestroy(()=>{this._unloadComponent(r)});const o=r.injector.get(Zr,null);return o&&r.injector.get(Qr).registerApplication(r.location.nativeElement,o),this._loadComponent(r),Wt()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),r}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");const e=t._tickScope();try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1,Ur(e)}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;co(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(kr,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),co(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t._tickScope=jr("ApplicationRef#tick()"),t})();function co(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class uo{}class ho{}const fo={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};class po{constructor(t,e){this._compiler=t,this._config=e||fo}load(t){return this._compiler instanceof Or?this.loadFactory(t):this.loadAndCompile(t)}loadAndCompile(t){let[e,i]=t.split("#");return void 0===i&&(i="default"),n("zn8P")(e).then(t=>t[i]).then(t=>go(t,e,i)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,i]=t.split("#"),r="NgFactory";return void 0===i&&(i="default",r=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[i+r]).then(t=>go(t,e,i))}}function go(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}class vo{constructor(t,e){this.name=t,this.callback=e}}class mo{constructor(t,e,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=t,e&&e instanceof yo&&e.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class yo extends mo{constructor(t,e,n){super(t,e,n),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=t}addChild(t){t&&(this.childNodes.push(t),t.parent=this)}removeChild(t){const e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))}insertChildrenAfter(t,e){const n=this.childNodes.indexOf(t);-1!==n&&(this.childNodes.splice(n+1,0,...e),e.forEach(e=>{e.parent&&e.parent.removeChild(e),t.parent=this}))}insertBefore(t,e){const n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))}query(t){return this.queryAll(t)[0]||null}queryAll(t){const e=[];return function t(e,n,i){e.childNodes.forEach(e=>{e instanceof yo&&(n(e)&&i.push(e),t(e,n,i))})}(this,t,e),e}queryAllNodes(t){const e=[];return function t(e,n,i){e instanceof yo&&e.childNodes.forEach(e=>{n(e)&&i.push(e),e instanceof yo&&t(e,n,i)})}(this,t,e),e}get children(){return this.childNodes.filter(t=>t instanceof yo)}triggerEventHandler(t,e){this.listeners.forEach(n=>{n.name==t&&n.callback(e)})}}const bo=new Map,xo=function(t){return bo.get(t)||null};function wo(t){bo.set(t.nativeNode,t)}const So=ro(null,"core",[{provide:Er,useValue:"unknown"},{provide:so,deps:[ke]},{provide:Qr,deps:[]},{provide:_r,deps:[]}]);function Ao(){return wn}function Eo(){return Sn}function ko(t){return t||"en-US"}function _o(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}class Co{constructor(t){}}function To(t,e,n,i,r,o){t|=1;const{matchedQueries:s,references:a,matchedQueryIds:l}=ei(e);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:s,matchedQueryIds:l,references:a,ngContentIndex:n,childCount:i,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?oi(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:r||zn},provider:null,text:null,query:null,ngContent:null}}function Io(t,e,n,i,r,o,s=[],a,l,c,u,h){c||(c=zn);const{matchedQueries:d,references:f,matchedQueryIds:p}=ei(n);let g=null,v=null;o&&([g,v]=di(o)),a=a||[];const m=new Array(a.length);for(let x=0;x<a.length;x++){const[t,e,n]=a[x],[i,r]=di(e);let o=void 0,s=void 0;switch(15&t){case 4:s=n;break;case 1:case 8:o=n}m[x]={flags:t,ns:i,name:r,nonMinifiedName:r,securityContext:o,suffix:s}}l=l||[];const y=new Array(l.length);for(let x=0;x<l.length;x++){const[t,e]=l[x];y[x]={type:0,target:t,eventName:e,propName:null}}const b=(s=s||[]).map(([t,e])=>{const[n,i]=di(t);return[n,i,e]});return h=function(t){if(t&&"$$undefined"===t.id){const e=null!=t.encapsulation&&t.encapsulation!==zt.None||t.styles.length||Object.keys(t.data).length;t.id=e?`c${Hn++}`:"$$empty"}return t&&"$$empty"===t.id&&(t=null),t||null}(h),u&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:d,matchedQueryIds:p,references:f,ngContentIndex:i,childCount:r,bindings:m,bindingFlags:fi(m),outputs:y,element:{ns:g,name:v,attrs:b,template:null,componentProvider:null,componentView:u||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:c||zn},provider:null,text:null,query:null,ngContent:null}}function No(t,e,n){const i=n.element,r=t.root.selectorOrNode,o=t.renderer;let s;if(t.parent||!r){s=i.name?o.createElement(i.name,i.ns):o.createComment("");const r=ii(t,e,n);r&&o.appendChild(r,s)}else s=o.selectRootElement(r,!!i.componentRendererType&&i.componentRendererType.encapsulation===zt.ShadowDom);if(i.attrs)for(let a=0;a<i.attrs.length;a++){const[t,e,n]=i.attrs[a];o.setAttribute(s,e,n,t)}return s}function Po(t,e,n,i){for(let r=0;r<n.outputs.length;r++){const o=n.outputs[r],s=Lo(t,n.nodeIndex,Qn(o.target,o.eventName));let a=o.target,l=t;"component"===o.target&&(a=null,l=e);const c=l.renderer.listen(a||i,o.eventName,s);t.disposables[n.outputIndex+r]=c}}function Lo(t,e,n){return i=>qn(t,e,n,i)}function Oo(t,e,n,i){if(!Xn(t,e,n,i))return!1;const r=e.bindings[n],o=On(t,e.nodeIndex),s=o.renderElement,a=r.name;switch(15&r.flags){case 1:!function(t,e,n,i,r,o){const s=e.securityContext;let a=s?t.root.sanitizer.sanitize(s,o):o;a=null!=a?a.toString():null;const l=t.renderer;null!=o?l.setAttribute(n,r,a,i):l.removeAttribute(n,r,i)}(t,r,s,r.ns,a,i);break;case 2:!function(t,e,n,i){const r=t.renderer;i?r.addClass(e,n):r.removeClass(e,n)}(t,s,a,i);break;case 4:!function(t,e,n,i,r){let o=t.root.sanitizer.sanitize(pe.STYLE,r);if(null!=o){o=o.toString();const t=e.suffix;null!=t&&(o+=t)}else o=null;const s=t.renderer;null!=o?s.setStyle(n,i,o):s.removeStyle(n,i)}(t,r,s,a,i);break;case 8:!function(t,e,n,i,r){const o=e.securityContext;let s=o?t.root.sanitizer.sanitize(o,r):r;t.renderer.setProperty(n,i,s)}(33554432&e.flags&&32&r.flags?o.componentView:t,r,s,a,i)}return!0}function Do(t){const e=t.def.nodeMatchedQueries;for(;t.parent&&ti(t);){let n=t.parentNodeDef;t=t.parent;const i=n.nodeIndex+n.childCount;for(let r=0;r<=i;r++){const i=t.def.nodes[r];67108864&i.flags&&536870912&i.flags&&(i.query.filterId&e)===i.query.filterId&&Mn(t,r).setDirty(),!(1&i.flags&&r+i.childCount<n.nodeIndex)&&67108864&i.childFlags&&536870912&i.childFlags||(r+=i.childCount)}}if(134217728&t.def.nodeFlags)for(let n=0;n<t.def.nodes.length;n++){const e=t.def.nodes[n];134217728&e.flags&&536870912&e.flags&&Mn(t,n).setDirty(),n+=e.childCount}}function Ro(t,e){const n=Mn(t,e.nodeIndex);if(!n.dirty)return;let i,r=void 0;if(67108864&e.flags){const n=e.parent.parent;r=Mo(t,n.nodeIndex,n.nodeIndex+n.childCount,e.query,[]),i=Dn(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(r=Mo(t,0,t.def.nodes.length-1,e.query,[]),i=t.component);n.reset(r);const o=e.query.bindings;let s=!1;for(let a=0;a<o.length;a++){const t=o[a];let e;switch(t.bindingType){case 0:e=n.first;break;case 1:e=n,s=!0}i[t.propName]=e}s&&n.notifyOnChanges()}function Mo(t,e,n,i,r){for(let o=e;o<=n;o++){const e=t.def.nodes[o],n=e.matchedQueries[i.id];if(null!=n&&r.push(Fo(t,e,n)),1&e.flags&&e.element.template&&(e.element.template.nodeMatchedQueries&i.filterId)===i.filterId){const n=On(t,o);if((e.childMatchedQueries&i.filterId)===i.filterId&&(Mo(t,o+1,o+e.childCount,i,r),o+=e.childCount),16777216&e.flags){const t=n.viewContainer._embeddedViews;for(let e=0;e<t.length;e++){const o=t[e],s=$n(o);s&&s===n&&Mo(o,0,o.def.nodes.length-1,i,r)}}const s=n.template._projectedViews;if(s)for(let t=0;t<s.length;t++){const e=s[t];Mo(e,0,e.def.nodes.length-1,i,r)}}(e.childMatchedQueries&i.filterId)!==i.filterId&&(o+=e.childCount)}return r}function Fo(t,e,n){if(null!=n)switch(n){case 1:return On(t,e.nodeIndex).renderElement;case 0:return new Qe(On(t,e.nodeIndex).renderElement);case 2:return On(t,e.nodeIndex).template;case 3:return On(t,e.nodeIndex).viewContainer;case 4:return Dn(t,e.nodeIndex).instance}}function zo(t,e,n){const i=ii(t,e,n);i&&li(t,n.ngContent.index,1,i,null,void 0)}function Vo(t,e,n){const i=new Array(n.length);for(let r=0;r<n.length;r++){const t=n[r];i[r]={flags:8,name:t,ns:null,nonMinifiedName:t,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:i,bindingFlags:fi(i),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function jo(t,e,n){const i=new Array(n.length-1);for(let r=1;r<n.length;r++)i[r-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[r]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:i,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function Uo(t,e,n){let i;const r=t.renderer;i=r.createText(n.text.prefix);const o=ii(t,e,n);return o&&r.appendChild(o,i),{renderText:i}}function Ho(t,e){return(null!=t?t.toString():"")+e.suffix}function Bo(t,e,n,i){let r=0,o=0,s=0,a=0,l=0,c=null,u=null,h=!1,d=!1,f=null;for(let p=0;p<e.length;p++){const t=e[p];if(t.nodeIndex=p,t.parent=c,t.bindingIndex=r,t.outputIndex=o,t.renderParent=u,s|=t.flags,l|=t.matchedQueryIds,t.element){const e=t.element;e.publicProviders=c?c.element.publicProviders:Object.create(null),e.allProviders=e.publicProviders,h=!1,d=!1,t.element.template&&(l|=t.element.template.nodeMatchedQueries)}if(Yo(c,t,e.length),r+=t.bindings.length,o+=t.outputs.length,!u&&3&t.flags&&(f=t),20224&t.flags){h||(h=!0,c.element.publicProviders=Object.create(c.element.publicProviders),c.element.allProviders=c.element.publicProviders);const e=0!=(32768&t.flags);0==(8192&t.flags)||e?c.element.publicProviders[jn(t.provider.token)]=t:(d||(d=!0,c.element.allProviders=Object.create(c.element.publicProviders)),c.element.allProviders[jn(t.provider.token)]=t),e&&(c.element.componentProvider=t)}if(c?(c.childFlags|=t.flags,c.directChildFlags|=t.flags,c.childMatchedQueries|=t.matchedQueryIds,t.element&&t.element.template&&(c.childMatchedQueries|=t.element.template.nodeMatchedQueries)):a|=t.flags,t.childCount>0)c=t,Xo(t)||(u=t);else for(;c&&p===c.nodeIndex+c.childCount;){const t=c.parent;t&&(t.childFlags|=c.childFlags,t.childMatchedQueries|=c.childMatchedQueries),c=t,u=c&&Xo(c)?c.renderParent:c}}return{factory:null,nodeFlags:s,rootNodeFlags:a,nodeMatchedQueries:l,flags:t,nodes:e,updateDirectives:n||zn,updateRenderer:i||zn,handleEvent:(t,n,i,r)=>e[n].element.handleEvent(t,i,r),bindingCount:r,outputCount:o,lastRenderRootNode:f}}function Xo(t){return 0!=(1&t.flags)&&null===t.element.name}function Yo(t,e,n){const i=e.element&&e.element.template;if(i){if(!i.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(i.lastRenderRootNode&&16777216&i.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${e.nodeIndex}!`)}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${e.nodeIndex}!`);if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${e.nodeIndex}!`);if(134217728&e.flags&&t)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${e.nodeIndex}!`)}if(e.childCount){const i=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=i&&e.nodeIndex+e.childCount>i)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${e.nodeIndex}!`)}}function Wo(t,e,n,i){const r=$o(t.root,t.renderer,t,e,n);return Ko(r,t.component,i),Zo(r),r}function Go(t,e,n){const i=$o(t,t.renderer,null,null,e);return Ko(i,n,n),Zo(i),i}function qo(t,e,n,i){const r=e.element.componentRendererType;let o;return o=r?t.root.rendererFactory.createRenderer(i,r):t.root.renderer,$o(t.root,o,t,e.element.componentProvider,n)}function $o(t,e,n,i,r){const o=new Array(r.nodes.length),s=r.outputCount?new Array(r.outputCount):null;return{def:r,parent:n,viewContainerParent:null,parentNodeDef:i,context:null,component:null,nodes:o,state:13,root:t,renderer:e,oldValues:new Array(r.bindingCount),disposables:s,initIndex:-1}}function Ko(t,e,n){t.component=e,t.context=n}function Zo(t){let e;Jn(t)&&(e=On(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);const n=t.def,i=t.nodes;for(let r=0;r<n.nodes.length;r++){const o=n.nodes[r];let s;switch(Fn.setCurrentNode(t,r),201347067&o.flags){case 1:const n=No(t,e,o);let a=void 0;if(33554432&o.flags){const e=oi(o.element.componentView);a=Fn.createComponentView(t,o,e,n)}Po(t,a,o,n),s={renderElement:n,componentView:a,viewContainer:null,template:o.element.template?Li(t,o):void 0},16777216&o.flags&&(s.viewContainer=Ti(t,o,s));break;case 2:s=Uo(t,e,o);break;case 512:case 1024:case 2048:case 256:s=i[r],s||4096&o.flags||(s={instance:Zi(t,o)});break;case 16:s={instance:Qi(t,o)};break;case 16384:s=i[r],s||(s={instance:Ji(t,o)}),32768&o.flags&&Ko(On(t,o.parent.nodeIndex).componentView,s.instance,s.instance);break;case 32:case 64:case 128:s={value:void 0};break;case 67108864:case 134217728:s=new mr;break;case 8:zo(t,e,o),s=void 0}i[r]=s}ss(t,os.CreateViewNodes),us(t,201326592,268435456,0)}function Qo(t){es(t),Fn.updateDirectives(t,1),as(t,os.CheckNoChanges),Fn.updateRenderer(t,1),ss(t,os.CheckNoChanges),t.state&=-97}function Jo(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,Nn(t,0,256),es(t),Fn.updateDirectives(t,0),as(t,os.CheckAndUpdate),us(t,67108864,536870912,0);let e=Nn(t,256,512);ar(t,2097152|(e?1048576:0)),Fn.updateRenderer(t,0),ss(t,os.CheckAndUpdate),us(t,134217728,536870912,0),e=Nn(t,512,768),ar(t,8388608|(e?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,Nn(t,768,1024)}function ts(t,e,n,i,r,o,s,a,l,c,u,h,d){return 0===n?function(t,e,n,i,r,o,s,a,l,c,u,h){switch(201347067&e.flags){case 1:return function(t,e,n,i,r,o,s,a,l,c,u,h){const d=e.bindings.length;let f=!1;return d>0&&Oo(t,e,0,n)&&(f=!0),d>1&&Oo(t,e,1,i)&&(f=!0),d>2&&Oo(t,e,2,r)&&(f=!0),d>3&&Oo(t,e,3,o)&&(f=!0),d>4&&Oo(t,e,4,s)&&(f=!0),d>5&&Oo(t,e,5,a)&&(f=!0),d>6&&Oo(t,e,6,l)&&(f=!0),d>7&&Oo(t,e,7,c)&&(f=!0),d>8&&Oo(t,e,8,u)&&(f=!0),d>9&&Oo(t,e,9,h)&&(f=!0),f}(t,e,n,i,r,o,s,a,l,c,u,h);case 2:return function(t,e,n,i,r,o,s,a,l,c,u,h){let d=!1;const f=e.bindings,p=f.length;if(p>0&&Xn(t,e,0,n)&&(d=!0),p>1&&Xn(t,e,1,i)&&(d=!0),p>2&&Xn(t,e,2,r)&&(d=!0),p>3&&Xn(t,e,3,o)&&(d=!0),p>4&&Xn(t,e,4,s)&&(d=!0),p>5&&Xn(t,e,5,a)&&(d=!0),p>6&&Xn(t,e,6,l)&&(d=!0),p>7&&Xn(t,e,7,c)&&(d=!0),p>8&&Xn(t,e,8,u)&&(d=!0),p>9&&Xn(t,e,9,h)&&(d=!0),d){let d=e.text.prefix;p>0&&(d+=Ho(n,f[0])),p>1&&(d+=Ho(i,f[1])),p>2&&(d+=Ho(r,f[2])),p>3&&(d+=Ho(o,f[3])),p>4&&(d+=Ho(s,f[4])),p>5&&(d+=Ho(a,f[5])),p>6&&(d+=Ho(l,f[6])),p>7&&(d+=Ho(c,f[7])),p>8&&(d+=Ho(u,f[8])),p>9&&(d+=Ho(h,f[9]));const g=Ln(t,e.nodeIndex).renderText;t.renderer.setValue(g,d)}return d}(t,e,n,i,r,o,s,a,l,c,u,h);case 16384:return function(t,e,n,i,r,o,s,a,l,c,u,h){const d=Dn(t,e.nodeIndex),f=d.instance;let p=!1,g=void 0;const v=e.bindings.length;return v>0&&Bn(t,e,0,n)&&(p=!0,g=sr(t,d,e,0,n,g)),v>1&&Bn(t,e,1,i)&&(p=!0,g=sr(t,d,e,1,i,g)),v>2&&Bn(t,e,2,r)&&(p=!0,g=sr(t,d,e,2,r,g)),v>3&&Bn(t,e,3,o)&&(p=!0,g=sr(t,d,e,3,o,g)),v>4&&Bn(t,e,4,s)&&(p=!0,g=sr(t,d,e,4,s,g)),v>5&&Bn(t,e,5,a)&&(p=!0,g=sr(t,d,e,5,a,g)),v>6&&Bn(t,e,6,l)&&(p=!0,g=sr(t,d,e,6,l,g)),v>7&&Bn(t,e,7,c)&&(p=!0,g=sr(t,d,e,7,c,g)),v>8&&Bn(t,e,8,u)&&(p=!0,g=sr(t,d,e,8,u,g)),v>9&&Bn(t,e,9,h)&&(p=!0,g=sr(t,d,e,9,h,g)),g&&f.ngOnChanges(g),65536&e.flags&&Pn(t,256,e.nodeIndex)&&f.ngOnInit(),262144&e.flags&&f.ngDoCheck(),p}(t,e,n,i,r,o,s,a,l,c,u,h);case 32:case 64:case 128:return function(t,e,n,i,r,o,s,a,l,c,u,h){const d=e.bindings;let f=!1;const p=d.length;if(p>0&&Xn(t,e,0,n)&&(f=!0),p>1&&Xn(t,e,1,i)&&(f=!0),p>2&&Xn(t,e,2,r)&&(f=!0),p>3&&Xn(t,e,3,o)&&(f=!0),p>4&&Xn(t,e,4,s)&&(f=!0),p>5&&Xn(t,e,5,a)&&(f=!0),p>6&&Xn(t,e,6,l)&&(f=!0),p>7&&Xn(t,e,7,c)&&(f=!0),p>8&&Xn(t,e,8,u)&&(f=!0),p>9&&Xn(t,e,9,h)&&(f=!0),f){const f=Rn(t,e.nodeIndex);let g;switch(201347067&e.flags){case 32:g=new Array(d.length),p>0&&(g[0]=n),p>1&&(g[1]=i),p>2&&(g[2]=r),p>3&&(g[3]=o),p>4&&(g[4]=s),p>5&&(g[5]=a),p>6&&(g[6]=l),p>7&&(g[7]=c),p>8&&(g[8]=u),p>9&&(g[9]=h);break;case 64:g={},p>0&&(g[d[0].name]=n),p>1&&(g[d[1].name]=i),p>2&&(g[d[2].name]=r),p>3&&(g[d[3].name]=o),p>4&&(g[d[4].name]=s),p>5&&(g[d[5].name]=a),p>6&&(g[d[6].name]=l),p>7&&(g[d[7].name]=c),p>8&&(g[d[8].name]=u),p>9&&(g[d[9].name]=h);break;case 128:const t=n;switch(p){case 1:g=t.transform(n);break;case 2:g=t.transform(i);break;case 3:g=t.transform(i,r);break;case 4:g=t.transform(i,r,o);break;case 5:g=t.transform(i,r,o,s);break;case 6:g=t.transform(i,r,o,s,a);break;case 7:g=t.transform(i,r,o,s,a,l);break;case 8:g=t.transform(i,r,o,s,a,l,c);break;case 9:g=t.transform(i,r,o,s,a,l,c,u);break;case 10:g=t.transform(i,r,o,s,a,l,c,u,h)}}f.value=g}return f}(t,e,n,i,r,o,s,a,l,c,u,h);default:throw"unreachable"}}(t,e,i,r,o,s,a,l,c,u,h,d):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){let i=!1;for(let r=0;r<n.length;r++)Oo(t,e,r,n[r])&&(i=!0);return i}(t,e,n);case 2:return function(t,e,n){const i=e.bindings;let r=!1;for(let o=0;o<n.length;o++)Xn(t,e,o,n[o])&&(r=!0);if(r){let r="";for(let t=0;t<n.length;t++)r+=Ho(n[t],i[t]);r=e.text.prefix+r;const o=Ln(t,e.nodeIndex).renderText;t.renderer.setValue(o,r)}return r}(t,e,n);case 16384:return function(t,e,n){const i=Dn(t,e.nodeIndex),r=i.instance;let o=!1,s=void 0;for(let a=0;a<n.length;a++)Bn(t,e,a,n[a])&&(o=!0,s=sr(t,i,e,a,n[a],s));return s&&r.ngOnChanges(s),65536&e.flags&&Pn(t,256,e.nodeIndex)&&r.ngOnInit(),262144&e.flags&&r.ngDoCheck(),o}(t,e,n);case 32:case 64:case 128:return function(t,e,n){const i=e.bindings;let r=!1;for(let o=0;o<n.length;o++)Xn(t,e,o,n[o])&&(r=!0);if(r){const r=Rn(t,e.nodeIndex);let o;switch(201347067&e.flags){case 32:o=n;break;case 64:o={};for(let r=0;r<n.length;r++)o[i[r].name]=n[r];break;case 128:const t=n[0],e=n.slice(1);o=t.transform(...e)}r.value=o}return r}(t,e,n);default:throw"unreachable"}}(t,e,i)}function es(t){const e=t.def;if(4&e.nodeFlags)for(let n=0;n<e.nodes.length;n++){const i=e.nodes[n];if(4&i.flags){const e=On(t,n).template._projectedViews;if(e)for(let n=0;n<e.length;n++){const i=e[n];i.state|=32,Gn(i,t)}}else 0==(4&i.childFlags)&&(n+=i.childCount)}}function ns(t,e,n,i,r,o,s,a,l,c,u,h,d){return 0===n?function(t,e,n,i,r,o,s,a,l,c,u,h){const d=e.bindings.length;d>0&&Yn(t,e,0,n),d>1&&Yn(t,e,1,i),d>2&&Yn(t,e,2,r),d>3&&Yn(t,e,3,o),d>4&&Yn(t,e,4,s),d>5&&Yn(t,e,5,a),d>6&&Yn(t,e,6,l),d>7&&Yn(t,e,7,c),d>8&&Yn(t,e,8,u),d>9&&Yn(t,e,9,h)}(t,e,i,r,o,s,a,l,c,u,h,d):function(t,e,n){for(let i=0;i<n.length;i++)Yn(t,e,i,n[i])}(t,e,i),!1}function is(t,e){if(Mn(t,e.nodeIndex).dirty)throw Cn(Fn.createDebugContext(t,e.nodeIndex),`Query ${e.query.id} not dirty`,`Query ${e.query.id} dirty`,0!=(1&t.state))}function rs(t){if(!(128&t.state)){if(as(t,os.Destroy),ss(t,os.Destroy),ar(t,131072),t.disposables)for(let e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(!(16&t.state))return;const e=$n(t);if(e){const n=e.template._projectedViews;n&&(Ft(n,n.indexOf(t)),Fn.dirtyParentQueries(t))}}(t),t.renderer.destroyNode&&function(t){const e=t.def.nodes.length;for(let n=0;n<e;n++){const e=t.def.nodes[n];1&e.flags?t.renderer.destroyNode(On(t,n).renderElement):2&e.flags?t.renderer.destroyNode(Ln(t,n).renderText):(67108864&e.flags||134217728&e.flags)&&Mn(t,n).destroy()}}(t),Jn(t)&&t.renderer.destroy(),t.state|=128}}const os=function(){var t={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return t[t.CreateViewNodes]="CreateViewNodes",t[t.CheckNoChanges]="CheckNoChanges",t[t.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",t[t.Destroy]="Destroy",t}();function ss(t,e){const n=t.def;if(33554432&n.nodeFlags)for(let i=0;i<n.nodes.length;i++){const r=n.nodes[i];33554432&r.flags?ls(On(t,i).componentView,e):0==(33554432&r.childFlags)&&(i+=r.childCount)}}function as(t,e){const n=t.def;if(16777216&n.nodeFlags)for(let i=0;i<n.nodes.length;i++){const r=n.nodes[i];if(16777216&r.flags){const n=On(t,i).viewContainer._embeddedViews;for(let t=0;t<n.length;t++)ls(n[t],e)}else 0==(16777216&r.childFlags)&&(i+=r.childCount)}}function ls(t,e){const n=t.state;switch(e){case os.CheckNoChanges:0==(128&n)&&(12==(12&n)?Qo(t):64&n&&cs(t,os.CheckNoChangesProjectedViews));break;case os.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?Qo(t):64&n&&cs(t,e));break;case os.CheckAndUpdate:0==(128&n)&&(12==(12&n)?Jo(t):64&n&&cs(t,os.CheckAndUpdateProjectedViews));break;case os.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?Jo(t):64&n&&cs(t,e));break;case os.Destroy:rs(t);break;case os.CreateViewNodes:Zo(t)}}function cs(t,e){as(t,e),ss(t,e)}function us(t,e,n,i){if(!(t.def.nodeFlags&e&&t.def.nodeFlags&n))return;const r=t.def.nodes.length;for(let o=0;o<r;o++){const r=t.def.nodes[o];if(r.flags&e&&r.flags&n)switch(Fn.setCurrentNode(t,r.nodeIndex),i){case 0:Ro(t,r);break;case 1:is(t,r)}r.childFlags&e&&r.childFlags&n||(o+=r.childCount)}}let hs=!1;function ds(t,e,n,i,r,o){const s=r.injector.get(en);return Go(ps(t,r,s,e,n),i,o)}function fs(t,e,n,i,r,o){const s=r.injector.get(en),a=ps(t,r,new Ws(s),e,n),l=Es(i);return Xs(Ns.create,Go,null,[a,l,o])}function ps(t,e,n,i,r){const o=e.injector.get(ge),s=e.injector.get(Bt),a=n.createRenderer(null,null);return{ngModule:e,injector:t,projectableNodes:i,selectorOrNode:r,sanitizer:o,rendererFactory:n,renderer:a,errorHandler:s}}function gs(t,e,n,i){const r=Es(n);return Xs(Ns.create,Wo,null,[t,e,r,i])}function vs(t,e,n,i){return n=xs.get(e.element.componentProvider.provider.token)||Es(n),Xs(Ns.create,qo,null,[t,e,n,i])}function ms(t,e,n,i){return Vi(t,e,n,function(t){const{hasOverrides:e,hasDeprecatedOverrides:n}=function(t){let e=!1,n=!1;return 0===ys.size?{hasOverrides:e,hasDeprecatedOverrides:n}:(t.providers.forEach(t=>{const i=ys.get(t.token);3840&t.flags&&i&&(e=!0,n=n||i.deprecatedBehavior)}),t.modules.forEach(t=>{bs.forEach((i,r)=>{ft(r).providedIn===t&&(e=!0,n=n||i.deprecatedBehavior)})}),{hasOverrides:e,hasDeprecatedOverrides:n})}(t);return e?(function(t){for(let e=0;e<t.providers.length;e++){const i=t.providers[e];n&&(i.flags|=4096);const r=ys.get(i.token);r&&(i.flags=-3841&i.flags|r.flags,i.deps=ni(r.deps),i.value=r.value)}if(bs.size>0){let e=new Set(t.modules);bs.forEach((i,r)=>{if(e.has(ft(r).providedIn)){let e={token:r,flags:i.flags|(n?4096:0),deps:ni(i.deps),value:i.value,index:t.providers.length};t.providers.push(e),t.providersByKey[jn(r)]=e}})}}(t=t.factory(()=>zn)),t):t}(i))}const ys=new Map,bs=new Map,xs=new Map;function ws(t){let e;ys.set(t.token,t),"function"==typeof t.token&&(e=ft(t.token))&&"function"==typeof e.providedIn&&bs.set(t.token,t)}function Ss(t,e){const n=oi(e.viewDefFactory),i=oi(n.nodes[0].element.componentView);xs.set(t,i)}function As(){ys.clear(),bs.clear(),xs.clear()}function Es(t){if(0===ys.size)return t;const e=function(t){const e=[];let n=null;for(let i=0;i<t.nodes.length;i++){const r=t.nodes[i];1&r.flags&&(n=r),n&&3840&r.flags&&ys.has(r.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(()=>zn);for(let i=0;i<e.length;i++)n(t,e[i]);return t;function n(t,e){for(let n=e+1;n<t.nodes.length;n++){const e=t.nodes[n];if(1&e.flags)return;if(3840&e.flags){const t=e.provider,n=ys.get(t.token);n&&(e.flags=-3841&e.flags|n.flags,t.deps=ni(n.deps),t.value=n.value)}}}}function ks(t,e,n,i,r,o,s,a,l,c,u,h,d){const f=t.def.nodes[e];return ts(t,f,n,i,r,o,s,a,l,c,u,h,d),224&f.flags?Rn(t,e).value:void 0}function _s(t,e,n,i,r,o,s,a,l,c,u,h,d){const f=t.def.nodes[e];return ns(t,f,n,i,r,o,s,a,l,c,u,h,d),224&f.flags?Rn(t,e).value:void 0}function Cs(t){return Xs(Ns.detectChanges,Jo,null,[t])}function Ts(t){return Xs(Ns.checkNoChanges,Qo,null,[t])}function Is(t){return Xs(Ns.destroy,rs,null,[t])}const Ns=function(){var t={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return t[t.create]="create",t[t.detectChanges]="detectChanges",t[t.checkNoChanges]="checkNoChanges",t[t.destroy]="destroy",t[t.handleEvent]="handleEvent",t}();let Ps,Ls,Os;function Ds(t,e){Ls=t,Os=e}function Rs(t,e,n,i){return Ds(t,e),Xs(Ns.handleEvent,t.def.handleEvent,null,[t,e,n,i])}function Ms(t,e){if(128&t.state)throw In(Ns[Ps]);return Ds(t,js(t,0)),t.def.updateDirectives((function(t,n,i,...r){const o=t.def.nodes[n];return 0===e?zs(t,o,i,r):Vs(t,o,i,r),16384&o.flags&&Ds(t,js(t,n)),224&o.flags?Rn(t,o.nodeIndex).value:void 0}),t)}function Fs(t,e){if(128&t.state)throw In(Ns[Ps]);return Ds(t,Us(t,0)),t.def.updateRenderer((function(t,n,i,...r){const o=t.def.nodes[n];return 0===e?zs(t,o,i,r):Vs(t,o,i,r),3&o.flags&&Ds(t,Us(t,n)),224&o.flags?Rn(t,o.nodeIndex).value:void 0}),t)}function zs(t,e,n,i){if(ts(t,e,n,...i)){const r=1===n?i[0]:i;if(16384&e.flags){const n={};for(let t=0;t<e.bindings.length;t++){const i=e.bindings[t],o=r[t];8&i.flags&&(n[ye(i.nonMinifiedName)]=xe(o))}const i=e.parent,o=On(t,i.nodeIndex).renderElement;if(i.element.name)for(let e in n){const i=n[e];null!=i?t.renderer.setAttribute(o,e,i):t.renderer.removeAttribute(o,e)}else t.renderer.setValue(o,`bindings=${JSON.stringify(n,null,2)}`)}}}function Vs(t,e,n,i){ns(t,e,n,...i)}function js(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(16384&e.flags&&e.bindings&&e.bindings.length)return n}return null}function Us(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(3&e.flags&&e.bindings&&e.bindings.length)return n}return null}class Hs{constructor(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];let n=this.nodeDef,i=t;for(;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&i;)n=Kn(i),i=i.parent;this.elDef=n,this.elView=i}get elOrCompView(){return On(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return Di(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const t=[];if(this.elDef)for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t}get references(){const t={};if(this.elDef){Bs(this.elView,this.elDef,t);for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&Bs(this.elView,n,t),e+=n.childCount}}return t}get componentRenderElement(){const t=function(t){for(;t&&!Jn(t);)t=t.parent;return t.parent?On(t.parent,Kn(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?Zn(this.view,this.nodeDef):Zn(this.elView,this.elDef)}logError(t,...e){let n,i;2&this.nodeDef.flags?(n=this.view.def,i=this.nodeDef.nodeIndex):(n=this.elView.def,i=this.elDef.nodeIndex);const r=function(t,e){let n=-1;for(let i=0;i<=e;i++)3&t.nodes[i].flags&&n++;return n}(n,i);let o=-1;n.factory(()=>(o++,o===r?t.error.bind(t,...e):zn)),o<r&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error(...e))}}function Bs(t,e,n){for(let i in e.references)n[i]=Fo(t,e,e.references[i])}function Xs(t,e,n,i){const r=Ps,o=Ls,s=Os;try{Ps=t;const a=e.apply(n,i);return Ls=o,Os=s,Ps=r,a}catch(a){if(jt(a)||!Ls)throw a;throw function(t,e){return t instanceof Error||(t=new Error(t.toString())),Tn(t,e),t}(a,Ys())}}function Ys(){return Ls?new Hs(Ls,Os):null}class Ws{constructor(t){this.delegate=t}createRenderer(t,e){return new Gs(this.delegate.createRenderer(t,e))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class Gs{constructor(t){this.delegate=t,this.debugContextFactory=Ys,this.data=this.delegate.data}createDebugContext(t){return this.debugContextFactory(t)}destroyNode(t){const e=xo(t);!function(t){bo.delete(t.nativeNode)}(e),e instanceof mo&&(e.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(t)}destroy(){this.delegate.destroy()}createElement(t,e){const n=this.delegate.createElement(t,e),i=this.createDebugContext(n);if(i){const e=new yo(n,null,i);e.name=t,wo(e)}return n}createComment(t){const e=this.delegate.createComment(t),n=this.createDebugContext(e);return n&&wo(new mo(e,null,n)),e}createText(t){const e=this.delegate.createText(t),n=this.createDebugContext(e);return n&&wo(new mo(e,null,n)),e}appendChild(t,e){const n=xo(t),i=xo(e);n&&i&&n instanceof yo&&n.addChild(i),this.delegate.appendChild(t,e)}insertBefore(t,e,n){const i=xo(t),r=xo(e),o=xo(n);i&&r&&i instanceof yo&&i.insertBefore(o,r),this.delegate.insertBefore(t,e,n)}removeChild(t,e){const n=xo(t),i=xo(e);n&&i&&n instanceof yo&&n.removeChild(i),this.delegate.removeChild(t,e)}selectRootElement(t,e){const n=this.delegate.selectRootElement(t,e),i=Ys();return i&&wo(new yo(n,null,i)),n}setAttribute(t,e,n,i){const r=xo(t);r&&r instanceof yo&&(r.attributes[i?i+":"+e:e]=n),this.delegate.setAttribute(t,e,n,i)}removeAttribute(t,e,n){const i=xo(t);i&&i instanceof yo&&(i.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)}addClass(t,e){const n=xo(t);n&&n instanceof yo&&(n.classes[e]=!0),this.delegate.addClass(t,e)}removeClass(t,e){const n=xo(t);n&&n instanceof yo&&(n.classes[e]=!1),this.delegate.removeClass(t,e)}setStyle(t,e,n,i){const r=xo(t);r&&r instanceof yo&&(r.styles[e]=n),this.delegate.setStyle(t,e,n,i)}removeStyle(t,e,n){const i=xo(t);i&&i instanceof yo&&(i.styles[e]=null),this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){const i=xo(t);i&&i instanceof yo&&(i.properties[e]=n),this.delegate.setProperty(t,e,n)}listen(t,e,n){if("string"!=typeof t){const i=xo(t);i&&i.listeners.push(new vo(e,n))}return this.delegate.listen(t,e,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setValue(t,e){return this.delegate.setValue(t,e)}}function qs(t,e,n){return new $s(t,e,n)}class $s extends Rt{constructor(t,e,n){super(),this.moduleType=t,this._bootstrapComponents=e,this._ngModuleDefFactory=n}create(t){!function(){if(hs)return;hs=!0;const t=Wt()?{setCurrentNode:Ds,createRootView:fs,createEmbeddedView:gs,createComponentView:vs,createNgModuleRef:ms,overrideProvider:ws,overrideComponentView:Ss,clearOverrides:As,checkAndUpdateView:Cs,checkNoChangesView:Ts,destroyView:Is,createDebugContext:(t,e)=>new Hs(t,e),handleEvent:Rs,updateDirectives:Ms,updateRenderer:Fs}:{setCurrentNode:()=>{},createRootView:ds,createEmbeddedView:Wo,createComponentView:qo,createNgModuleRef:Vi,overrideProvider:zn,overrideComponentView:zn,clearOverrides:zn,checkAndUpdateView:Jo,checkNoChangesView:Qo,destroyView:rs,createDebugContext:(t,e)=>new Hs(t,e),handleEvent:(t,e,n,i)=>t.def.handleEvent(t,e,n,i),updateDirectives:(t,e)=>t.def.updateDirectives(0===e?ks:_s,t),updateRenderer:(t,e)=>t.def.updateRenderer(0===e?ks:_s,t)};Fn.setCurrentNode=t.setCurrentNode,Fn.createRootView=t.createRootView,Fn.createEmbeddedView=t.createEmbeddedView,Fn.createComponentView=t.createComponentView,Fn.createNgModuleRef=t.createNgModuleRef,Fn.overrideProvider=t.overrideProvider,Fn.overrideComponentView=t.overrideComponentView,Fn.clearOverrides=t.clearOverrides,Fn.checkAndUpdateView=t.checkAndUpdateView,Fn.checkNoChangesView=t.checkNoChangesView,Fn.destroyView=t.destroyView,Fn.resolveDep=rr,Fn.createDebugContext=t.createDebugContext,Fn.handleEvent=t.handleEvent,Fn.updateDirectives=t.updateDirectives,Fn.updateRenderer=t.updateRenderer,Fn.dirtyParentQueries=Do}();const e=function(t){const e=Array.from(t.providers),n=Array.from(t.modules),i={};for(const r in t.providersByKey)i[r]=t.providersByKey[r];return{factory:t.factory,isRoot:t.isRoot,providers:e,modules:n,providersByKey:i}}(oi(this._ngModuleDefFactory));return Fn.createNgModuleRef(this.moduleType,t||ke.NULL,this._bootstrapComponents,e)}}class Ks{}class Zs{}class Qs{}const Js=new Et("Location Initialized");class ta{}const ea=new Et("appBaseHref");class na{constructor(t,e){this._subject=new gr,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=na.stripTrailingSlash(ia(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+na.normalizeQueryParams(e))}normalize(t){return na.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,ia(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+na.normalizeQueryParams(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+na.normalizeQueryParams(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)})}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}static normalizeQueryParams(t){return t&&"?"!==t[0]?"?"+t:t}static joinWithSlash(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}static stripTrailingSlash(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}}function ia(t){return t.replace(/\/index.html$/,"")}class ra extends ta{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=na.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,i){let r=this.prepareExternalUrl(n+na.normalizeQueryParams(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(t,e,r)}replaceState(t,e,n,i){let r=this.prepareExternalUrl(n+na.normalizeQueryParams(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}class oa extends ta{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return na.joinWithSlash(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+na.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,i){const r=this.prepareExternalUrl(n+na.normalizeQueryParams(i));this._platformLocation.pushState(t,e,r)}replaceState(t,e,n,i){const r=this.prepareExternalUrl(n+na.normalizeQueryParams(i));this._platformLocation.replaceState(t,e,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}const sa=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),aa=function(){var t={Format:0,Standalone:1};return t[t.Format]="Format",t[t.Standalone]="Standalone",t}(),la=function(){var t={Narrow:0,Abbreviated:1,Wide:2,Short:3};return t[t.Narrow]="Narrow",t[t.Abbreviated]="Abbreviated",t[t.Wide]="Wide",t[t.Short]="Short",t}(),ca=function(){var t={Short:0,Medium:1,Long:2,Full:3};return t[t.Short]="Short",t[t.Medium]="Medium",t[t.Long]="Long",t[t.Full]="Full",t}(),ua=function(){var t={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return t[t.Decimal]="Decimal",t[t.Group]="Group",t[t.List]="List",t[t.PercentSign]="PercentSign",t[t.PlusSign]="PlusSign",t[t.MinusSign]="MinusSign",t[t.Exponential]="Exponential",t[t.SuperscriptingExponent]="SuperscriptingExponent",t[t.PerMille]="PerMille",t[t.Infinity]="Infinity",t[t.NaN]="NaN",t[t.TimeSeparator]="TimeSeparator",t[t.CurrencyDecimal]="CurrencyDecimal",t[t.CurrencyGroup]="CurrencyGroup",t}();function ha(t,e){return va(pr(t)[dr.DateFormat],e)}function da(t,e){return va(pr(t)[dr.TimeFormat],e)}function fa(t,e){return va(pr(t)[dr.DateTimeFormat],e)}function pa(t,e){const n=pr(t),i=n[dr.NumberSymbols][e];if(void 0===i){if(e===ua.CurrencyDecimal)return n[dr.NumberSymbols][ua.Decimal];if(e===ua.CurrencyGroup)return n[dr.NumberSymbols][ua.Group]}return i}function ga(t){if(!t[dr.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[dr.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function va(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function ma(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const ya=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ba={},xa=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,wa=function(){var t={Short:0,ShortGMT:1,Long:2,Extended:3};return t[t.Short]="Short",t[t.ShortGMT]="ShortGMT",t[t.Long]="Long",t[t.Extended]="Extended",t}(),Sa=function(){var t={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};return t[t.FullYear]="FullYear",t[t.Month]="Month",t[t.Date]="Date",t[t.Hours]="Hours",t[t.Minutes]="Minutes",t[t.Seconds]="Seconds",t[t.FractionalSeconds]="FractionalSeconds",t[t.Day]="Day",t}(),Aa=function(){var t={DayPeriods:0,Days:1,Months:2,Eras:3};return t[t.DayPeriods]="DayPeriods",t[t.Days]="Days",t[t.Months]="Months",t[t.Eras]="Eras",t}();function Ea(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,(function(t,n){return null!=e&&n in e?e[n]:t}))),t}function ka(t,e,n="-",i,r){let o="";(t<0||r&&t<=0)&&(r?t=1-t:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return i&&(s=s.substr(s.length-e)),o+s}function _a(t,e,n=0,i=!1,r=!1){return function(o,s){let a=function(t,e){switch(t){case Sa.FullYear:return e.getFullYear();case Sa.Month:return e.getMonth();case Sa.Date:return e.getDate();case Sa.Hours:return e.getHours();case Sa.Minutes:return e.getMinutes();case Sa.Seconds:return e.getSeconds();case Sa.FractionalSeconds:return e.getMilliseconds();case Sa.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,o);if((n>0||a>-n)&&(a+=n),t===Sa.Hours)0===a&&-12===n&&(a=12);else if(t===Sa.FractionalSeconds)return l=e,ka(a,3).substr(0,l);var l;const c=pa(s,ua.MinusSign);return ka(a,e,c,i,r)}}function Ca(t,e,n=aa.Format,i=!1){return function(r,o){return function(t,e,n,i,r,o){switch(n){case Aa.Months:return function(t,e,n){const i=pr(t),r=va([i[dr.MonthsFormat],i[dr.MonthsStandalone]],e);return va(r,n)}(e,r,i)[t.getMonth()];case Aa.Days:return function(t,e,n){const i=pr(t),r=va([i[dr.DaysFormat],i[dr.DaysStandalone]],e);return va(r,n)}(e,r,i)[t.getDay()];case Aa.DayPeriods:const s=t.getHours(),a=t.getMinutes();if(o){const t=function(t){const e=pr(t);return ga(e),(e[dr.ExtraData][2]||[]).map(t=>"string"==typeof t?ma(t):[ma(t[0]),ma(t[1])])}(e),n=function(t,e,n){const i=pr(t);ga(i);const r=va([i[dr.ExtraData][0],i[dr.ExtraData][1]],e)||[];return va(r,n)||[]}(e,r,i);let o;if(t.forEach((t,e)=>{if(Array.isArray(t)){const{hours:i,minutes:r}=t[0],{hours:l,minutes:c}=t[1];s>=i&&a>=r&&(s<l||s===l&&a<c)&&(o=n[e])}else{const{hours:i,minutes:r}=t;i===s&&r===a&&(o=n[e])}}),o)return o}return function(t,e,n){const i=pr(t),r=va([i[dr.DayPeriodsFormat],i[dr.DayPeriodsStandalone]],e);return va(r,n)}(e,r,i)[s<12?0:1];case Aa.Eras:return function(t,e){return va(pr(t)[dr.Eras],e)}(e,i)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(r,o,t,e,n,i)}}function Ta(t){return function(e,n,i){const r=-1*i,o=pa(n,ua.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(t){case wa.Short:return(r>=0?"+":"")+ka(s,2,o)+ka(Math.abs(r%60),2,o);case wa.ShortGMT:return"GMT"+(r>=0?"+":"")+ka(s,1,o);case wa.Long:return"GMT"+(r>=0?"+":"")+ka(s,2,o)+":"+ka(Math.abs(r%60),2,o);case wa.Extended:return 0===i?"Z":(r>=0?"+":"")+ka(s,2,o)+":"+ka(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}function Ia(t,e=!1){return function(n,i){let r;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();r=1+Math.floor((e+t)/7)}else{const t=function(t){const e=new Date(t,0,1).getDay();return new Date(t,0,1+(e<=4?4:11)-e)}(n.getFullYear()),e=(o=n,new Date(o.getFullYear(),o.getMonth(),o.getDate()+(4-o.getDay()))).getTime()-t.getTime();r=1+Math.round(e/6048e5)}var o;return ka(r,t,pa(i,ua.MinusSign))}}const Na={};function Pa(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function La(t){return t instanceof Date&&!isNaN(t.valueOf())}const Oa=new Et("UseV4Plurals");class Da{}class Ra extends Da{constructor(t,e){super(),this.locale=t,this.deprecatedPluralFn=e}getPluralCategory(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):function(t){return pr(t)[dr.PluralCase]}(e||this.locale)(t)){case sa.Zero:return"zero";case sa.One:return"one";case sa.Two:return"two";case sa.Few:return"few";case sa.Many:return"many";default:return"other"}}}class Ma{constructor(t,e,n,i){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}class Fa{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Wt()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. `+"See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,i)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new Ma(null,this._ngForOf,-1,-1),null===i?void 0:i),r=new za(t,n);e.push(r)}else if(null==i)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const r=this._viewContainer.get(n);this._viewContainer.move(r,i);const o=new za(t,r);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,i=this._viewContainer.length;n<i;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=i,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}class za{constructor(t,e){this.record=t,this.view=e}}class Va{constructor(t,e){this._viewContainer=t,this._context=new ja,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Ua("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Ua("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}class ja{constructor(){this.$implicit=null,this.ngIf=null}}function Ua(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${gt(e)}'.`)}class Ha{constructor(t){this.locale=t}transform(t,e="mediumDate",n,i){if(null==t||""===t||t!=t)return null;try{return function(t,e,n,i){let r=function(t){if(La(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){const[e,n,i]=t.split("-").map(t=>+t);return new Date(e,n-1,i)}let n;if(n=t.match(ya))return function(t){const e=new Date(0);let n=0,i=0;const r=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),i=Number(t[9]+t[11])),r.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const s=Number(t[4]||0)-n,a=Number(t[5]||0)-i,l=Number(t[6]||0),c=Math.round(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,s,a,l,c),e}(n)}const e=new Date(t);if(!La(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=function t(e,n){const i=function(t){return pr(t)[dr.LocaleId]}(e);if(ba[i]=ba[i]||{},ba[i][n])return ba[i][n];let r="";switch(n){case"shortDate":r=ha(e,ca.Short);break;case"mediumDate":r=ha(e,ca.Medium);break;case"longDate":r=ha(e,ca.Long);break;case"fullDate":r=ha(e,ca.Full);break;case"shortTime":r=da(e,ca.Short);break;case"mediumTime":r=da(e,ca.Medium);break;case"longTime":r=da(e,ca.Long);break;case"fullTime":r=da(e,ca.Full);break;case"short":const n=t(e,"shortTime"),i=t(e,"shortDate");r=Ea(fa(e,ca.Short),[n,i]);break;case"medium":const o=t(e,"mediumTime"),s=t(e,"mediumDate");r=Ea(fa(e,ca.Medium),[o,s]);break;case"long":const a=t(e,"longTime"),l=t(e,"longDate");r=Ea(fa(e,ca.Long),[a,l]);break;case"full":const c=t(e,"fullTime"),u=t(e,"fullDate");r=Ea(fa(e,ca.Full),[c,u])}return r&&(ba[i][n]=r),r}(n,e)||e;let o,s=[];for(;e;){if(o=xa.exec(e),!o){s.push(e);break}{s=s.concat(o.slice(1));const t=s.pop();if(!t)break;e=t}}let a=r.getTimezoneOffset();i&&(a=Pa(i,a),r=function(t,e,n){const i=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(Pa(e,i)-i))}(r,i));let l="";return s.forEach(t=>{const e=function(t){if(Na[t])return Na[t];let e;switch(t){case"G":case"GG":case"GGG":e=Ca(Aa.Eras,la.Abbreviated);break;case"GGGG":e=Ca(Aa.Eras,la.Wide);break;case"GGGGG":e=Ca(Aa.Eras,la.Narrow);break;case"y":e=_a(Sa.FullYear,1,0,!1,!0);break;case"yy":e=_a(Sa.FullYear,2,0,!0,!0);break;case"yyy":e=_a(Sa.FullYear,3,0,!1,!0);break;case"yyyy":e=_a(Sa.FullYear,4,0,!1,!0);break;case"M":case"L":e=_a(Sa.Month,1,1);break;case"MM":case"LL":e=_a(Sa.Month,2,1);break;case"MMM":e=Ca(Aa.Months,la.Abbreviated);break;case"MMMM":e=Ca(Aa.Months,la.Wide);break;case"MMMMM":e=Ca(Aa.Months,la.Narrow);break;case"LLL":e=Ca(Aa.Months,la.Abbreviated,aa.Standalone);break;case"LLLL":e=Ca(Aa.Months,la.Wide,aa.Standalone);break;case"LLLLL":e=Ca(Aa.Months,la.Narrow,aa.Standalone);break;case"w":e=Ia(1);break;case"ww":e=Ia(2);break;case"W":e=Ia(1,!0);break;case"d":e=_a(Sa.Date,1);break;case"dd":e=_a(Sa.Date,2);break;case"E":case"EE":case"EEE":e=Ca(Aa.Days,la.Abbreviated);break;case"EEEE":e=Ca(Aa.Days,la.Wide);break;case"EEEEE":e=Ca(Aa.Days,la.Narrow);break;case"EEEEEE":e=Ca(Aa.Days,la.Short);break;case"a":case"aa":case"aaa":e=Ca(Aa.DayPeriods,la.Abbreviated);break;case"aaaa":e=Ca(Aa.DayPeriods,la.Wide);break;case"aaaaa":e=Ca(Aa.DayPeriods,la.Narrow);break;case"b":case"bb":case"bbb":e=Ca(Aa.DayPeriods,la.Abbreviated,aa.Standalone,!0);break;case"bbbb":e=Ca(Aa.DayPeriods,la.Wide,aa.Standalone,!0);break;case"bbbbb":e=Ca(Aa.DayPeriods,la.Narrow,aa.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ca(Aa.DayPeriods,la.Abbreviated,aa.Format,!0);break;case"BBBB":e=Ca(Aa.DayPeriods,la.Wide,aa.Format,!0);break;case"BBBBB":e=Ca(Aa.DayPeriods,la.Narrow,aa.Format,!0);break;case"h":e=_a(Sa.Hours,1,-12);break;case"hh":e=_a(Sa.Hours,2,-12);break;case"H":e=_a(Sa.Hours,1);break;case"HH":e=_a(Sa.Hours,2);break;case"m":e=_a(Sa.Minutes,1);break;case"mm":e=_a(Sa.Minutes,2);break;case"s":e=_a(Sa.Seconds,1);break;case"ss":e=_a(Sa.Seconds,2);break;case"S":e=_a(Sa.FractionalSeconds,1);break;case"SS":e=_a(Sa.FractionalSeconds,2);break;case"SSS":e=_a(Sa.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Ta(wa.Short);break;case"ZZZZZ":e=Ta(wa.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Ta(wa.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Ta(wa.Long);break;default:return null}return Na[t]=e,e}(t);l+=e?e(r,n,a):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}(t,e,i||this.locale,n)}catch(r){throw function(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${gt(t)}'`)}(Ha,r.message)}}}class Ba{}const Xa=new Et("DocumentToken");function Ya(t){return"server"===t}let Wa=(()=>{class t{}return t.ngInjectableDef=dt({token:t,providedIn:"root",factory:()=>new Ga(Pt(Xa),window,Pt(Bt))}),t})();class Ga{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const e=this.document.querySelector(`#${t}`);if(e)return void this.scrollToElement(e);const n=this.document.querySelector(`[name='${t}']`);if(n)return void this.scrollToElement(n)}catch(e){this.errorHandler.handleError(e)}}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(n-r[0],i-r[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}}}const qa=new w(t=>t.complete());function $a(t){return t?function(t){return new w(e=>t.schedule(()=>e.complete()))}(t):qa}function Ka(t){const e=new w(e=>{e.next(t),e.complete()});return e._isScalar=!0,e.value=t,e}function Za(...t){let e=t[t.length-1];switch(I(e)?t.pop():e=void 0,t.length){case 0:return $a(e);case 1:return e?Y(t,e):Ka(t[0]);default:return Y(t,e)}}class Qa extends C{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new E;return this._value}next(t){super.next(this._value=t)}}function Ja(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}Ja.prototype=Object.create(Error.prototype);const tl=Ja,el={};class nl{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new il(t,this.resultSelector))}}class il extends U{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(el),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(j(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,i,r){const o=this.values,s=this.toRespond?o[n]===el?--this.toRespond:this.toRespond:0;o[n]=e,0===s&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function rl(t){return new w(e=>{let n;try{n=t()}catch(i){return void e.error(i)}return(n?W(n):$a()).subscribe(e)})}function ol(){return Z(1)}function sl(t,e){return function(n){return n.lift(new al(t,e))}}class al{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new ll(t,this.predicate,this.thisArg))}}class ll extends g{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function cl(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}cl.prototype=Object.create(Error.prototype);const ul=cl;function hl(t){return function(e){return 0===t?$a():e.lift(new dl(t))}}class dl{constructor(t){if(this.total=t,this.total<0)throw new ul}call(t,e){return e.subscribe(new fl(t,this.total))}}class fl extends g{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,i=this.count++;e.length<n?e.push(t):e[i%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,i=this.ring;for(let r=0;r<n;r++){const r=e++%n;t.next(i[r])}}t.complete()}}function pl(t,e,n){return function(i){return i.lift(new gl(t,e,n))}}class gl{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new vl(t,this.nextOrObserver,this.error,this.complete))}}class vl extends g{constructor(t,e,n,r){super(t),this._tapNext=y,this._tapError=y,this._tapComplete=y,this._tapError=n||y,this._tapComplete=r||y,i(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||y,this._tapError=e.error||y,this._tapComplete=e.complete||y)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}const ml=(t=yl)=>pl({hasValue:!1,next(){this.hasValue=!0},complete(){if(!this.hasValue)throw t()}});function yl(){return new tl}function bl(t=null){return e=>e.lift(new xl(t))}class xl{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new wl(t,this.defaultValue))}}class wl extends g{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Sl(t,e){const n=arguments.length>=2;return i=>i.pipe(t?sl((e,n)=>t(e,n,i)):K,hl(1),n?bl(e):ml(()=>new tl))}function Al(t){return function(e){const n=new El(t),i=e.lift(n);return n.caught=i}}class El{constructor(t){this.selector=t}call(t,e){return e.subscribe(new kl(t,this.selector,this.caught))}}class kl extends U{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const i=new N(this,void 0,void 0);this.add(i),j(this,n,void 0,void 0,i)}}}function _l(t){return e=>0===t?$a():e.lift(new Cl(t))}class Cl{constructor(t){if(this.total=t,this.total<0)throw new ul}call(t,e){return e.subscribe(new Tl(t,this.total))}}class Tl extends g{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Il(t,e){const n=arguments.length>=2;return i=>i.pipe(t?sl((e,n)=>t(e,n,i)):K,_l(1),n?bl(e):ml(()=>new tl))}class Nl{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new Pl(t,this.predicate,this.thisArg,this.source))}}class Pl extends g{constructor(t,e,n,i){super(t),this.predicate=e,this.thisArg=n,this.source=i,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function Ll(t,e){return"function"==typeof e?n=>n.pipe(Ll((n,i)=>W(t(n,i)).pipe(H((t,r)=>e(n,t,i,r))))):e=>e.lift(new Ol(t))}class Ol{constructor(t){this.project=t}call(t,e){return e.subscribe(new Dl(t,this.project))}}class Dl extends U{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this._innerSub(e,t,n)}_innerSub(t,e,n){const i=this.innerSubscription;i&&i.unsubscribe();const r=new N(this,void 0,void 0);this.destination.add(r),this.innerSubscription=j(this,t,e,n,r)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,i,r){this.destination.next(e)}}function Rl(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new Ml(t,e,n))}}class Ml{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Fl(t,this.accumulator,this.seed,this.hasSeed))}}class Fl extends g{constructor(t,e,n,i){super(t),this.accumulator=e,this._seed=n,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(i){this.destination.error(i)}this.seed=n,this.destination.next(n)}}function zl(t,e){return G(t,e,1)}class Vl{constructor(t){this.callback=t}call(t,e){return e.subscribe(new jl(t,this.callback))}}class jl extends g{constructor(t,e){super(t),this.add(new d(e))}}let Ul=null;function Hl(){return Ul}const Bl={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},Xl={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Yl={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Wl=(()=>{if(At.Node)return At.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))}})();class Gl extends class extends class{constructor(){this.resourceLoaderType=null}get attrToPropMap(){return this._attrToPropMap}set attrToPropMap(t){this._attrToPropMap=t}}{constructor(){super(),this._animationPrefix=null,this._transitionEnd=null;try{const t=this.createElement("div",document);if(null!=this.getStyle(t,"animationName"))this._animationPrefix="";else{const e=["Webkit","Moz","O","ms"];for(let n=0;n<e.length;n++)if(null!=this.getStyle(t,e[n]+"AnimationName")){this._animationPrefix="-"+e[n].toLowerCase()+"-";break}}const e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(e).forEach(n=>{null!=this.getStyle(t,n)&&(this._transitionEnd=e[n])})}catch(t){this._animationPrefix=null,this._transitionEnd=null}}getDistributedNodes(t){return t.getDistributedNodes()}resolveAndSetHref(t,e,n){t.href=null==n?e:e+"/../"+n}supportsDOMEvents(){return!0}supportsNativeShadowDOM(){return"function"==typeof document.body.createShadowRoot}getAnimationPrefix(){return this._animationPrefix?this._animationPrefix:""}getTransitionEnd(){return this._transitionEnd?this._transitionEnd:""}supportsAnimation(){return null!=this._animationPrefix&&null!=this._transitionEnd}}{parse(t){throw new Error("parse not implemented")}static makeCurrent(){var t;t=new Gl,Ul||(Ul=t)}hasProperty(t,e){return e in t}setProperty(t,e,n){t[e]=n}getProperty(t,e){return t[e]}invoke(t,e,n){t[e](...n)}logError(t){window.console&&(console.error?console.error(t):console.log(t))}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}get attrToPropMap(){return Bl}contains(t,e){return Wl.call(t,e)}querySelector(t,e){return t.querySelector(e)}querySelectorAll(t,e){return t.querySelectorAll(e)}on(t,e,n){t.addEventListener(e,n,!1)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}createMouseEvent(t){const e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e}createEvent(t){const e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e}preventDefault(t){t.preventDefault(),t.returnValue=!1}isPrevented(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue}getInnerHTML(t){return t.innerHTML}getTemplateContent(t){return"content"in t&&this.isTemplateElement(t)?t.content:null}getOuterHTML(t){return t.outerHTML}nodeName(t){return t.nodeName}nodeValue(t){return t.nodeValue}type(t){return t.type}content(t){return this.hasProperty(t,"content")?t.content:t}firstChild(t){return t.firstChild}nextSibling(t){return t.nextSibling}parentElement(t){return t.parentNode}childNodes(t){return t.childNodes}childNodesAsList(t){const e=t.childNodes,n=new Array(e.length);for(let i=0;i<e.length;i++)n[i]=e[i];return n}clearNodes(t){for(;t.firstChild;)t.removeChild(t.firstChild)}appendChild(t,e){t.appendChild(e)}removeChild(t,e){t.removeChild(e)}replaceChild(t,e,n){t.replaceChild(e,n)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}insertBefore(t,e,n){t.insertBefore(n,e)}insertAllBefore(t,e,n){n.forEach(n=>t.insertBefore(n,e))}insertAfter(t,e,n){t.insertBefore(n,e.nextSibling)}setInnerHTML(t,e){t.innerHTML=e}getText(t){return t.textContent}setText(t,e){t.textContent=e}getValue(t){return t.value}setValue(t,e){t.value=e}getChecked(t){return t.checked}setChecked(t,e){t.checked=e}createComment(t){return this.getDefaultDocument().createComment(t)}createTemplate(t){const e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createElementNS(t,e,n){return(n=n||this.getDefaultDocument()).createElementNS(t,e)}createTextNode(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)}createScriptTag(t,e,n){const i=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return i.setAttribute(t,e),i}createStyleElement(t,e){const n=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(t,e)),n}createShadowRoot(t){return t.createShadowRoot()}getShadowRoot(t){return t.shadowRoot}getHost(t){return t.host}clone(t){return t.cloneNode(!0)}getElementsByClassName(t,e){return t.getElementsByClassName(e)}getElementsByTagName(t,e){return t.getElementsByTagName(e)}classList(t){return Array.prototype.slice.call(t.classList,0)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}hasClass(t,e){return t.classList.contains(e)}setStyle(t,e,n){t.style[e]=n}removeStyle(t,e){t.style[e]=""}getStyle(t,e){return t.style[e]}hasStyle(t,e,n){const i=this.getStyle(t,e)||"";return n?i==n:i.length>0}tagName(t){return t.tagName}attributeMap(t){const e=new Map,n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i);e.set(t.name,t.value)}return e}hasAttribute(t,e){return t.hasAttribute(e)}hasAttributeNS(t,e,n){return t.hasAttributeNS(e,n)}getAttribute(t,e){return t.getAttribute(e)}getAttributeNS(t,e,n){return t.getAttributeNS(e,n)}setAttribute(t,e,n){t.setAttribute(e,n)}setAttributeNS(t,e,n,i){t.setAttributeNS(e,n,i)}removeAttribute(t,e){t.removeAttribute(e)}removeAttributeNS(t,e,n){t.removeAttributeNS(e,n)}templateAwareRoot(t){return this.isTemplateElement(t)?this.content(t):t}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}getBoundingClientRect(t){try{return t.getBoundingClientRect()}catch(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}getTitle(t){return t.title}setTitle(t,e){t.title=e||""}elementMatches(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))}isTemplateElement(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName}isTextNode(t){return t.nodeType===Node.TEXT_NODE}isCommentNode(t){return t.nodeType===Node.COMMENT_NODE}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}hasShadowRoot(t){return null!=t.shadowRoot&&t instanceof HTMLElement}isShadowRoot(t){return t instanceof DocumentFragment}importIntoDoc(t){return document.importNode(this.templateAwareRoot(t),!0)}adoptNode(t){return document.adoptNode(t)}getHref(t){return t.getAttribute("href")}getEventKey(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Yl.hasOwnProperty(e)&&(e=Yl[e]))}return Xl[e]||e}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=$l||($l=document.querySelector("base"),$l)?$l.getAttribute("href"):null;return null==e?null:(n=e,ql||(ql=document.createElement("a")),ql.setAttribute("href",n),"/"===ql.pathname.charAt(0)?ql.pathname:"/"+ql.pathname);var n}resetBaseElement(){$l=null}getUserAgent(){return window.navigator.userAgent}setData(t,e,n){this.setAttribute(t,"data-"+e,n)}getData(t,e){return this.getAttribute(t,"data-"+e)}getComputedStyle(t){return getComputedStyle(t)}supportsWebAnimation(){return"function"==typeof Element.prototype.animate}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[i,r]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(i.trim()===e)return decodeURIComponent(r)}return null}(document.cookie,t)}setCookie(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)}}let ql,$l=null;function Kl(){return!!window.history.pushState}const Zl=new Et("TRANSITION_ID"),Ql=[{provide:yr,useFactory:function(t,e,n){return()=>{n.get(br).donePromise.then(()=>{const n=Hl();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter(e=>n.getAttribute(e,"ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Zl,Xa,ke],multi:!0}];class Jl{static init(){var t;t=new Jl,eo=t}addToWindow(t){At.getAngularTestability=(e,n=!0)=>{const i=t.findTestabilityInTree(e,n);if(null==i)throw new Error("Could not find testability for element.");return i},At.getAllAngularTestabilities=()=>t.getAllTestabilities(),At.getAllAngularRootElements=()=>t.getAllRootElements(),At.frameworkStabilizers||(At.frameworkStabilizers=[]),At.frameworkStabilizers.push(t=>{const e=At.getAllAngularTestabilities();let n=e.length,i=!1;const r=function(e){i=i||e,n--,0==n&&t(i)};e.forEach((function(t){t.whenStable(r)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const i=t.getTestability(e);return null!=i?i:n?Hl().isShadowRoot(e)?this.findTestabilityInTree(t,Hl().getHost(e),!0):this.findTestabilityInTree(t,Hl().parentElement(e),!0):null}}function tc(t,e){"undefined"!=typeof COMPILED&&COMPILED||((At.ng=At.ng||{})[t]=e)}const ec=(()=>({ApplicationRef:lo,NgZone:Xr}))();function nc(t){return xo(t)}const ic=new Et("EventManagerPlugins");class rc{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let i=0;i<n.length;i++){const e=n[i];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}class oc{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const i=Hl().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,n)}}class sc{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}class ac extends sc{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>Hl().remove(t))}}const lc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},cc=/%COMP%/g;function uc(t,e,n){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?uc(t,r,n):(r=r.replace(cc,t),n.push(r))}return n}function hc(t){return e=>{!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}class dc{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new fc(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case zt.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new vc(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case zt.Native:case zt.ShadowDom:return new mc(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=uc(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}class fc{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(lc[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,i){if(i){e=i+":"+e;const r=lc[i];r?t.setAttributeNS(r,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const i=lc[n];i?t.removeAttributeNS(i,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&nn.DashCase?t.style.setProperty(e,n,i&nn.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&nn.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){gc(e,"property"),t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return gc(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,hc(n)):this.eventManager.addEventListener(t,e,hc(n))}}const pc=(()=>"@".charCodeAt(0))();function gc(t,e){if(t.charCodeAt(0)===pc)throw new Error(`Found the synthetic ${e} ${t}. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.`)}class vc extends fc{constructor(t,e,n,i){super(t),this.component=n;const r=uc(i+"-"+n.id,n.styles,[]);e.addStyles(r),this.contentAttr="_ngcontent-%COMP%".replace(cc,i+"-"+n.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(cc,t)}(i+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class mc extends fc{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=i,this.shadowRoot=i.encapsulation===zt.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const r=uc(i.id,i.styles,[]);for(let o=0;o<r.length;o++){const t=document.createElement("style");t.textContent=r[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}const yc=(()=>"undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t})(),bc=yc("addEventListener"),xc=yc("removeEventListener"),wc={},Sc="__zone_symbol__propagationStopped",Ac=(()=>{const t="undefined"!=typeof Zone&&Zone[yc("BLACK_LISTED_EVENTS")];if(t){const e={};return t.forEach(t=>{e[t]=t}),e}})(),Ec=function(t){return!!Ac&&Ac.hasOwnProperty(t)},kc=function(t){const e=wc[t.type];if(!e)return;const n=this[e];if(!n)return;const i=[t];if(1===n.length){const t=n[0];return t.zone!==Zone.current?t.zone.run(t.handler,this,i):t.handler.apply(this,i)}{const e=n.slice();for(let n=0;n<e.length&&!0!==t[Sc];n++){const t=e[n];t.zone!==Zone.current?t.zone.run(t.handler,this,i):t.handler.apply(this,i)}}};class _c extends oc{constructor(t,e,n){super(t),this.ngZone=e,n&&Ya(n)||this.patchEvent()}patchEvent(){if("undefined"==typeof Event||!Event||!Event.prototype)return;if(Event.prototype.__zone_symbol__stopImmediatePropagation)return;const t=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[Sc]=!0),t&&t.apply(this,arguments)}}supports(t){return!0}addEventListener(t,e,n){let i=n;if(!t[bc]||Xr.isInAngularZone()&&!Ec(e))t.addEventListener(e,i,!1);else{let n=wc[e];n||(n=wc[e]=yc("ANGULAR"+e+"FALSE"));let r=t[n];const o=r&&r.length>0;r||(r=t[n]=[]);const s=Ec(e)?Zone.root:Zone.current;if(0===r.length)r.push({zone:s,handler:i});else{let t=!1;for(let e=0;e<r.length;e++)if(r[e].handler===i){t=!0;break}t||r.push({zone:s,handler:i})}o||t[bc](e,kc,!1)}return()=>this.removeEventListener(t,e,i)}removeEventListener(t,e,n){let i=t[xc];if(!i)return t.removeEventListener.apply(t,[e,n,!1]);let r=wc[e],o=r&&t[r];if(!o)return t.removeEventListener.apply(t,[e,n,!1]);let s=!1;for(let a=0;a<o.length;a++)if(o[a].handler===n){s=!0,o.splice(a,1);break}s?0===o.length&&i.apply(t,[e,kc,!1]):t.removeEventListener.apply(t,[e,n,!1])}}const Cc={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},Tc=new Et("HammerGestureConfig"),Ic=new Et("HammerLoader");class Nc{constructor(){this.events=[],this.overrides={}}buildHammer(t){const e=new Hammer(t,this.options);e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0});for(const n in this.overrides)e.get(n).set(this.overrides[n]);return e}}class Pc extends oc{constructor(t,e,n,i){super(t),this._config=e,this.console=n,this.loader=i}supports(t){return!(!Cc.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&!this.loader&&(this.console.warn(`The "${t}" event cannot be bound because Hammer.JS is not `+"loaded and no custom loader has been specified."),1))}addEventListener(t,e,n){const i=this.manager.getZone();if(e=e.toLowerCase(),!window.Hammer&&this.loader){let i=!1,r=()=>{i=!0};return this.loader().then(()=>{if(!window.Hammer)return this.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(r=()=>{});i||(r=this.addEventListener(t,e,n))}).catch(()=>{this.console.warn(`The "${e}" event cannot be bound because the custom `+"Hammer.JS loader failed."),r=()=>{}}),()=>{r()}}return i.runOutsideAngular(()=>{const r=this._config.buildHammer(t),o=function(t){i.runGuarded((function(){n(t)}))};return r.on(e,o),()=>{r.off(e,o),"function"==typeof r.destroy&&r.destroy()}})}isCustomEvent(t){return this._config.events.indexOf(t)>-1}}const Lc=["alt","control","meta","shift"],Oc={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};class Dc extends oc{constructor(t){super(t)}supports(t){return null!=Dc.parseEventName(t)}addEventListener(t,e,n){const i=Dc.parseEventName(e),r=Dc.eventCallback(i.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Hl().onAndCancel(t,i.domEventName,r))}static parseEventName(t){const e=t.toLowerCase().split("."),n=e.shift();if(0===e.length||"keydown"!==n&&"keyup"!==n)return null;const i=Dc._normalizeKey(e.pop());let r="";if(Lc.forEach(t=>{const n=e.indexOf(t);n>-1&&(e.splice(n,1),r+=t+".")}),r+=i,0!=e.length||0===i.length)return null;const o={};return o.domEventName=n,o.fullKey=r,o}static getEventFullKey(t){let e="",n=Hl().getEventKey(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Lc.forEach(i=>{i!=n&&(0,Oc[i])(t)&&(e+=i+".")}),e+=n,e}static eventCallback(t,e,n){return i=>{Dc.getEventFullKey(i)===t&&n.runGuarded(()=>e(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}class Rc{}class Mc extends Rc{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case pe.NONE:return e;case pe.HTML:return e instanceof zc?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),function(t,e){let n=null;try{de=de||new Gt(t);let i=e?String(e):"";n=de.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=n.innerHTML,n=de.getInertBodyElement(i)}while(i!==o);const s=new le,a=s.sanitizeChildren(fe(n)||n);return Wt()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=fe(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}(this._doc,String(e)));case pe.STYLE:return e instanceof Vc?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),function(t){if(!(t=String(t).trim()))return"";const e=t.match(me);return e&&Kt(e[1])===e[1]||t.match(ve)&&function(t){let e=!0,n=!0;for(let i=0;i<t.length;i++){const r=t.charAt(i);"'"===r&&n?e=!e:'"'===r&&e&&(n=!n)}return e&&n}(t)?t:(Wt()&&console.warn(`WARNING: sanitizing unsafe style value ${t} (see http://g.co/ng/security#xss).`),"unsafe")}(e));case pe.SCRIPT:if(e instanceof jc)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case pe.URL:return e instanceof Hc||e instanceof Uc?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),Kt(String(e)));case pe.RESOURCE_URL:if(e instanceof Hc)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}checkNotSafeValue(t,e){if(t instanceof Fc)throw new Error(`Required a safe ${e}, got a ${t.getTypeName()} `+"(see http://g.co/ng/security#xss)")}bypassSecurityTrustHtml(t){return new zc(t)}bypassSecurityTrustStyle(t){return new Vc(t)}bypassSecurityTrustScript(t){return new jc(t)}bypassSecurityTrustUrl(t){return new Uc(t)}bypassSecurityTrustResourceUrl(t){return new Hc(t)}}class Fc{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}class zc extends Fc{getTypeName(){return"HTML"}}class Vc extends Fc{getTypeName(){return"Style"}}class jc extends Fc{getTypeName(){return"Script"}}class Uc extends Fc{getTypeName(){return"URL"}}class Hc extends Fc{getTypeName(){return"ResourceURL"}}const Bc=ro(So,"browser",[{provide:Er,useValue:"browser"},{provide:Ar,useValue:function(){Gl.makeCurrent(),Jl.init()},multi:!0},{provide:Qs,useClass:class extends Qs{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=Hl().getLocation(),this._history=Hl().getHistory()}getBaseHrefFromDOM(){return Hl().getBaseHref(this._doc)}onPopState(t){Hl().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){Hl().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){Kl()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){Kl()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}},deps:[Xa]},{provide:Xa,useFactory:function(){return document},deps:[]}]);function Xc(){return new Bt}class Yc{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:Yc,providers:[{provide:xr,useValue:t.appId},{provide:Zl,useExisting:xr},Ql]}}}"undefined"!=typeof window&&window;class Wc{constructor(t,e){this.id=t,this.url=e}}class Gc extends Wc{constructor(t,e,n="imperative",i=null){super(t,e),this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class qc extends Wc{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class $c extends Wc{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Kc extends Wc{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Zc extends Wc{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qc extends Wc{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jc extends Wc{constructor(t,e,n,i,r){super(t,e),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=r}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class tu extends Wc{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class eu extends Wc{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nu{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class iu{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ru{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ou{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class su{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class au{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lu{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class cu{}class uu{constructor(t){this.params=t||{}}has(t){return this.params.hasOwnProperty(t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function hu(t){return new uu(t)}function du(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function fu(t,e,n){const i=n.path.split("/");if(i.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||i.length<t.length))return null;const r={};for(let o=0;o<i.length;o++){const e=i[o],n=t[o];if(e.startsWith(":"))r[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}class pu{constructor(t,e){this.routes=t,this.module=e}}function gu(t,e=""){for(let n=0;n<t.length;n++){const i=t[n];vu(i,mu(e,i))}}function vu(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&gu(t.children,e)}function mu(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function yu(t){const e=t.children&&t.children.map(yu),n=e?Object.assign({},t,{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=cu),n}function bu(t,e){const n=Object.keys(t),i=Object.keys(e);if(!n||!i||n.length!=i.length)return!1;let r;for(let o=0;o<n.length;o++)if(r=n[o],t[r]!==e[r])return!1;return!0}function xu(t){return Array.prototype.concat.apply([],t)}function wu(t){return t.length>0?t[t.length-1]:null}function Su(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Au(t){return He(t)?t:Ue(t)?W(Promise.resolve(t)):Za(t)}function Eu(t,e,n){return n?function(t,e){return bu(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!Tu(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children){if(!e.children[i])return!1;if(!t(e.children[i],n.children[i]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>e[n]===t[n])}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,i,r){if(n.segments.length>r.length)return!!Tu(n.segments.slice(0,r.length),r)&&!i.hasChildren();if(n.segments.length===r.length){if(!Tu(n.segments,r))return!1;for(const e in i.children){if(!n.children[e])return!1;if(!t(n.children[e],i.children[e]))return!1}return!0}{const t=r.slice(0,n.segments.length),o=r.slice(n.segments.length);return!!Tu(n.segments,t)&&!!n.children.primary&&e(n.children.primary,i,o)}}(e,n,n.segments)}(t.root,e.root)}class ku{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=hu(this.queryParams)),this._queryParamMap}toString(){return Lu.serialize(this)}}class _u{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Su(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ou(this)}}class Cu{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=hu(this.parameters)),this._parameterMap}toString(){return Vu(this)}}function Tu(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function Iu(t,e){let n=[];return Su(t.children,(t,i)=>{"primary"===i&&(n=n.concat(e(t,i)))}),Su(t.children,(t,i)=>{"primary"!==i&&(n=n.concat(e(t,i)))}),n}class Nu{}class Pu{parse(t){const e=new Xu(t);return new ku(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`${`/${function t(e,n){if(!e.hasChildren())return Ou(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",i=[];return Su(e.children,(e,n)=>{"primary"!==n&&i.push(`${n}:${t(e,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}{const n=Iu(e,(n,i)=>"primary"===i?[t(e.children.primary,!1)]:[`${i}:${t(n,!1)}`]);return`${Ou(e)}/(${n.join("//")})`}}(t.root,!0)}`}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Ru(e)}=${Ru(t)}`).join("&"):`${Ru(e)}=${Ru(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const Lu=new Pu;function Ou(t){return t.segments.map(t=>Vu(t)).join("/")}function Du(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ru(t){return Du(t).replace(/%3B/gi,";")}function Mu(t){return Du(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Fu(t){return decodeURIComponent(t)}function zu(t){return Fu(t.replace(/\+/g,"%20"))}function Vu(t){return`${Mu(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Mu(t)}=${Mu(e[t])}`).join("")}`;var e}const ju=/^[^\/()?;=#]+/;function Uu(t){const e=t.match(ju);return e?e[0]:""}const Hu=/^[^=?&#]+/,Bu=/^[^?&#]+/;class Xu{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new _u([],{}):new _u([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new _u(t,e)),n}parseSegment(){const t=Uu(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Cu(Fu(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Uu(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Uu(this.remaining);t&&(n=t,this.capture(n))}t[Fu(e)]=Fu(n)}parseQueryParam(t){const e=function(t){const e=t.match(Hu);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Bu);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const i=zu(e),r=zu(n);if(t.hasOwnProperty(i)){let e=t[i];Array.isArray(e)||(e=[e],t[i]=e),e.push(r)}else t[i]=r}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Uu(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let r=void 0;n.indexOf(":")>-1?(r=n.substr(0,n.indexOf(":")),this.capture(r),this.capture(":")):t&&(r="primary");const o=this.parseChildren();e[r]=1===Object.keys(o).length?o.primary:new _u([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Yu{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Wu(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Wu(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Gu(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Gu(t,this._root).map(t=>t.value)}}function Wu(t,e){if(t===e.value)return e;for(const n of e.children){const e=Wu(t,n);if(e)return e}return null}function Gu(t,e){if(t===e.value)return[e];for(const n of e.children){const i=Gu(t,n);if(i.length)return i.unshift(e),i}return[]}class qu{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function $u(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Ku extends Yu{constructor(t,e){super(t),this.snapshot=e,nh(this,t)}toString(){return this.snapshot.toString()}}function Zu(t,e){const n=function(t,e){const n=new th([],{},{},"",{},"primary",e,null,t.root,-1,{});return new eh("",new qu(n,[]))}(t,e),i=new Qa([new Cu("",{})]),r=new Qa({}),o=new Qa({}),s=new Qa({}),a=new Qa(""),l=new Qu(i,r,s,a,o,"primary",e,n.root);return l.snapshot=n.root,new Ku(new qu(l,[]),n)}class Qu{constructor(t,e,n,i,r,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(H(t=>hu(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(H(t=>hu(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ju(t,e="emptyOnly"){const n=t.pathFromRoot;let i=0;if("always"!==e)for(i=n.length-1;i>=1;){const t=n[i],e=n[i-1];if(t.routeConfig&&""===t.routeConfig.path)i--;else{if(e.component)break;i--}}return function(t){return t.reduce((t,e)=>({params:Object.assign({},t.params,e.params),data:Object.assign({},t.data,e.data),resolve:Object.assign({},t.resolve,e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(i))}class th{constructor(t,e,n,i,r,o,s,a,l,c,u){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=hu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=hu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class eh extends Yu{constructor(t,e){super(e),this.url=t,nh(this,e)}toString(){return ih(this._root)}}function nh(t,e){e.value._routerState=t,e.children.forEach(e=>nh(t,e))}function ih(t){const e=t.children.length>0?` { ${t.children.map(ih).join(", ")} } `:"";return`${t.value}${e}`}function rh(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,bu(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),bu(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!bu(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),bu(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function oh(t,e){var n,i;return bu(t.params,e.params)&&Tu(n=t.url,i=e.url)&&n.every((t,e)=>bu(t.parameters,i[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||oh(t.parent,e.parent))}function sh(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function ah(t,e,n,i,r){let o={};return i&&Su(i,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new ku(n.root===t?e:function t(e,n,i){const r={};return Su(e.children,(e,o)=>{r[o]=e===n?i:t(e,n,i)}),new _u(e.segments,r)}(n.root,t,e),o,r)}class lh{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&sh(n[0]))throw new Error("Root segment cannot have matrix parameters");const i=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(i&&i!==wu(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ch{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function uh(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:`${t}`}function hh(t,e,n){if(t||(t=new _u([],{})),0===t.segments.length&&t.hasChildren())return dh(t,e,n);const i=function(t,e,n){let i=0,r=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return o;const e=t.segments[r],s=uh(n[i]),a=i<n.length-1?n[i+1]:null;if(r>0&&void 0===s)break;if(s&&a&&"object"==typeof a&&void 0===a.outlets){if(!vh(s,a,e))return o;i+=2}else{if(!vh(s,{},e))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const e=new _u(t.segments.slice(0,i.pathIndex),{});return e.children.primary=new _u(t.segments.slice(i.pathIndex),t.children),dh(e,0,r)}return i.match&&0===r.length?new _u(t.segments,{}):i.match&&!t.hasChildren()?fh(t,e,n):i.match?dh(t,0,r):fh(t,e,n)}function dh(t,e,n){if(0===n.length)return new _u(t.segments,{});{const i=function(t){return"object"!=typeof t[0]?{primary:t}:void 0===t[0].outlets?{primary:t}:t[0].outlets}(n),r={};return Su(i,(n,i)=>{null!==n&&(r[i]=hh(t.children[i],e,n))}),Su(t.children,(t,e)=>{void 0===i[e]&&(r[e]=t)}),new _u(t.segments,r)}}function fh(t,e,n){const i=t.segments.slice(0,e);let r=0;for(;r<n.length;){if("object"==typeof n[r]&&void 0!==n[r].outlets){const t=ph(n[r].outlets);return new _u(i,t)}if(0===r&&sh(n[0])){i.push(new Cu(t.segments[e].path,n[0])),r++;continue}const o=uh(n[r]),s=r<n.length-1?n[r+1]:null;o&&s&&sh(s)?(i.push(new Cu(o,gh(s))),r+=2):(i.push(new Cu(o,{})),r++)}return new _u(i,{})}function ph(t){const e={};return Su(t,(t,n)=>{null!==t&&(e[n]=fh(new _u([],{}),0,t))}),e}function gh(t){const e={};return Su(t,(t,n)=>e[n]=`${t}`),e}function vh(t,e,n){return t==n.path&&bu(e,n.parameters)}class mh{constructor(t,e,n,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=i}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),rh(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const i=$u(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,i[e],n),delete i[e]}),Su(i,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const i=t.value,r=e?e.value:null;if(i===r)if(i.component){const r=n.getContext(i.outlet);r&&this.deactivateChildRoutes(t,e,r.children)}else this.deactivateChildRoutes(t,e,n);else r&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:i})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const i=$u(t),r=t.value.component?n.children:e;Su(i,(t,e)=>this.deactivateRouteAndItsChildren(t,r)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const i=$u(e);t.children.forEach(t=>{this.activateRoutes(t,i[t.value.outlet],n),this.forwardEvent(new au(t.value.snapshot))}),t.children.length&&this.forwardEvent(new ou(t.value.snapshot))}activateRoutes(t,e,n){const i=t.value,r=e?e.value:null;if(rh(i),i===r)if(i.component){const r=n.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,r.children)}else this.activateChildRoutes(t,e,n);else if(i.component){const e=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const t=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),yh(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),r=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=i,e.resolver=r,e.outlet&&e.outlet.activateWith(i,r),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function yh(t){rh(t.value),t.children.forEach(yh)}function bh(t){return"function"==typeof t}function xh(t){return t instanceof ku}class wh{constructor(t){this.segmentGroup=t||null}}class Sh{constructor(t){this.urlTree=t}}function Ah(t){return new w(e=>e.error(new wh(t)))}function Eh(t){return new w(e=>e.error(new Sh(t)))}function kh(t){return new w(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class _h{constructor(t,e,n,i,r){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=r,this.allowRedirects=!0,this.ngModule=t.get(Dt)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(H(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Al(t=>{if(t instanceof Sh)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof wh)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(H(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(Al(t=>{if(t instanceof wh)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const i=t.segments.length>0?new _u([],{primary:t}):t;return new ku(i,e,n)}expandSegmentGroup(t,e,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(H(t=>new _u([],t))):this.expandSegment(t,n,e,n.segments,i,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Za({});const n=[],i=[],r={};return Su(t,(t,o)=>{const s=e(o,t).pipe(H(t=>r[o]=t));"primary"===o?n.push(s):i.push(s)}),Za.apply(null,n.concat(i)).pipe(ol(),Sl(),H(()=>r))}(n.children,(n,i)=>this.expandSegmentGroup(t,e,i,n))}expandSegment(t,e,n,i,r,o){return Za(...n).pipe(H(s=>this.expandSegmentAgainstRoute(t,e,n,s,i,r,o).pipe(Al(t=>{if(t instanceof wh)return Za(null);throw t}))),ol(),Il(t=>!!t),Al((t,n)=>{if(t instanceof tl||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,i,r))return Za(new _u([],{}));throw new wh(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,i,r,o,s){return Nh(i)!==o?Ah(e):void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,r):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,o):Ah(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,i){const r=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Eh(r):this.lineralizeSegments(n,r).pipe(G(n=>{const r=new _u(n,{});return this.expandSegment(t,r,e,n,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,o){const{matched:s,consumedSegments:a,lastChild:l,positionalParamSegments:c}=Ch(e,i,r);if(!s)return Ah(e);const u=this.applyRedirectCommands(a,i.redirectTo,c);return i.redirectTo.startsWith("/")?Eh(u):this.lineralizeSegments(i,u).pipe(G(i=>this.expandSegment(t,e,n,i.concat(r.slice(l)),o,!1)))}matchSegmentAgainstRoute(t,e,n,i){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(H(t=>(n._loadedConfig=t,new _u(i,{})))):Za(new _u(i,{}));const{matched:r,consumedSegments:o,lastChild:s}=Ch(e,n,i);if(!r)return Ah(e);const a=i.slice(s);return this.getChildConfig(t,n,i).pipe(G(t=>{const n=t.module,i=t.routes,{segmentGroup:r,slicedSegments:s}=function(t,e,n,i){return n.length>0&&function(t,e,n){return n.some(n=>Ih(t,e,n)&&"primary"!==Nh(n))}(t,n,i)?{segmentGroup:Th(new _u(e,function(t,e){const n={};n.primary=e;for(const i of t)""===i.path&&"primary"!==Nh(i)&&(n[Nh(i)]=new _u([],{}));return n}(i,new _u(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>Ih(t,e,n))}(t,n,i)?{segmentGroup:Th(new _u(t.segments,function(t,e,n,i){const r={};for(const o of n)Ih(t,e,o)&&!i[Nh(o)]&&(r[Nh(o)]=new _u([],{}));return Object.assign({},i,r)}(t,n,i,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,o,a,i);return 0===s.length&&r.hasChildren()?this.expandChildren(n,i,r).pipe(H(t=>new _u(o,t))):0===i.length&&0===s.length?Za(new _u(o,{})):this.expandSegment(n,r,i,s,"primary",!0).pipe(H(t=>new _u(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Za(new pu(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Za(e._loadedConfig):function(t,e,n){const i=e.canLoad;return i&&0!==i.length?W(i).pipe(H(i=>{const r=t.get(i);let o;if(function(t){return t&&bh(t.canLoad)}(r))o=r.canLoad(e,n);else{if(!bh(r))throw new Error("Invalid CanLoad guard");o=r(e,n)}return Au(o)})).pipe(ol(),(r=t=>!0===t,t=>t.lift(new Nl(r,void 0,t)))):Za(!0);var r}(t.injector,e,n).pipe(G(n=>n?this.configLoader.load(t.injector,e).pipe(H(t=>(e._loadedConfig=t,t))):function(t){return new w(e=>e.error(du(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Za(new pu([],t))}lineralizeSegments(t,e){let n=[],i=e.root;for(;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return Za(n);if(i.numberOfChildren>1||!i.children.primary)return kh(t.redirectTo);i=i.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,i){const r=this.createSegmentGroup(t,e.root,n,i);return new ku(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Su(t,(t,i)=>{if("string"==typeof t&&t.startsWith(":")){const r=t.substring(1);n[i]=e[r]}else n[i]=t}),n}createSegmentGroup(t,e,n,i){const r=this.createSegments(t,e.segments,n,i);let o={};return Su(e.children,(e,r)=>{o[r]=this.createSegmentGroup(t,e,n,i)}),new _u(r,o)}createSegments(t,e,n,i){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,i):this.findOrReturn(e,n))}findPosParam(t,e,n){const i=n[e.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return i}findOrReturn(t,e){let n=0;for(const i of e){if(i.path===t.path)return e.splice(n),i;n++}return t}}function Ch(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const i=(e.matcher||fu)(n,t,e);return i?{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,positionalParamSegments:i.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Th(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new _u(t.segments.concat(e.segments),e.children)}return t}function Ih(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Nh(t){return t.outlet||"primary"}class Ph{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Lh{constructor(t,e){this.component=t,this.route=e}}function Oh(t,e,n){const i=t._root;return function t(e,n,i,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=$u(n);return e.children.forEach(e=>{!function(e,n,i,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,a=n?n.value:null,l=i?i.getContext(e.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Tu(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Tu(t.url,e.url)||!bu(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!oh(t,e)||!bu(t.queryParams,e.queryParams);case"paramsChange":default:return!oh(t,e)}}(a,s,s.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new Ph(r)):(s.data=a.data,s._resolvedData=a._resolvedData),t(e,n,s.component?l?l.children:null:i,r,o),c&&o.canDeactivateChecks.push(new Lh(l&&l.outlet&&l.outlet.component||null,a))}else a&&Rh(n,l,o),o.canActivateChecks.push(new Ph(r)),t(e,null,s.component?l?l.children:null:i,r,o)}(e,s[e.value.outlet],i,r.concat([e.value]),o),delete s[e.value.outlet]}),Su(s,(t,e)=>Rh(t,i.getContext(e),o)),o}(i,e?e._root:null,n,[i.value])}function Dh(t,e,n){const i=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(i?i.module.injector:n).get(t)}function Rh(t,e,n){const i=$u(t),r=t.value;Su(i,(t,i)=>{Rh(t,r.component?e?e.children.getContext(i):null:e,n)}),n.canDeactivateChecks.push(new Lh(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}const Mh=Symbol("INITIAL_VALUE");function Fh(){return Ll(t=>function(...t){let e=null,n=null;return I(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&l(t[0])&&(t=t[0]),Y(t,n).lift(new nl(e))}(...t.map(t=>t.pipe(_l(1),function(...t){return e=>{let n=t[t.length-1];I(n)?t.pop():n=null;const i=t.length;return function(...t){return ol()(Za(...t))}(1!==i||n?i>0?Y(t,n):$a(n):Ka(t[0]),e)}}(Mh)))).pipe(Rl((t,e)=>{let n=!1;return e.reduce((t,i,r)=>{if(t!==Mh)return t;if(i===Mh&&(n=!0),!n){if(!1===i)return i;if(r===e.length-1||xh(i))return i}return t},t)},Mh),sl(t=>t!==Mh),H(t=>xh(t)?t:!0===t),_l(1)))}function zh(t,e){return null!==t&&e&&e(new su(t)),Za(!0)}function Vh(t,e){return null!==t&&e&&e(new ru(t)),Za(!0)}function jh(t,e,n){const i=e.routeConfig?e.routeConfig.canActivate:null;return i&&0!==i.length?Za(i.map(i=>rl(()=>{const r=Dh(i,e,n);let o;if(function(t){return t&&bh(t.canActivate)}(r))o=Au(r.canActivate(e,t));else{if(!bh(r))throw new Error("Invalid CanActivate guard");o=Au(r(e,t))}return o.pipe(Il())}))).pipe(Fh()):Za(!0)}function Uh(t,e,n){const i=e[e.length-1],r=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>rl(()=>Za(e.guards.map(r=>{const o=Dh(r,e.node,n);let s;if(function(t){return t&&bh(t.canActivateChild)}(o))s=Au(o.canActivateChild(i,t));else{if(!bh(o))throw new Error("Invalid CanActivateChild guard");s=Au(o(i,t))}return s.pipe(Il())})).pipe(Fh())));return Za(r).pipe(Fh())}class Hh{}class Bh{constructor(t,e,n,i,r,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=i,this.paramsInheritanceStrategy=r,this.relativeLinkResolution=o}recognize(){try{const t=Wh(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new th([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),i=new qu(n,e),r=new eh(this.url,i);return this.inheritParamsAndData(r._root),Za(r)}catch(t){return new w(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=Ju(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=Iu(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),i=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${i}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,i){for(const o of t)try{return this.processSegmentAgainstRoute(o,e,n,i)}catch(r){if(!(r instanceof Hh))throw r}if(this.noLeftoversInUrl(e,n,i))return[];throw new Hh}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,i){if(t.redirectTo)throw new Hh;if((t.outlet||"primary")!==i)throw new Hh;let r,o=[],s=[];if("**"===t.path){const o=n.length>0?wu(n).parameters:{};r=new th(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,$h(t),i,t.component,t,Xh(e),Yh(e)+n.length,Kh(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Hh;return{consumedSegments:[],lastChild:0,parameters:{}}}const i=(e.matcher||fu)(n,t,e);if(!i)throw new Hh;const r={};Su(i.posParams,(t,e)=>{r[e]=t.path});const o=i.consumed.length>0?Object.assign({},r,i.consumed[i.consumed.length-1].parameters):r;return{consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o}}(e,t,n);o=a.consumedSegments,s=n.slice(a.lastChild),r=new th(o,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,$h(t),i,t.component,t,Xh(e),Yh(e)+o.length,Kh(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:l,slicedSegments:c}=Wh(e,o,s,a,this.relativeLinkResolution);if(0===c.length&&l.hasChildren()){const t=this.processChildren(a,l);return[new qu(r,t)]}if(0===a.length&&0===c.length)return[new qu(r,[])];const u=this.processSegment(a,l,c,"primary");return[new qu(r,u)]}}function Xh(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Yh(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Wh(t,e,n,i,r){if(n.length>0&&function(t,e,n){return n.some(n=>Gh(t,e,n)&&"primary"!==qh(n))}(t,n,i)){const r=new _u(e,function(t,e,n,i){const r={};r.primary=i,i._sourceSegment=t,i._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&"primary"!==qh(o)){const n=new _u([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,r[qh(o)]=n}return r}(t,e,i,new _u(n,t.children)));return r._sourceSegment=t,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Gh(t,e,n))}(t,n,i)){const o=new _u(t.segments,function(t,e,n,i,r,o){const s={};for(const a of i)if(Gh(t,n,a)&&!r[qh(a)]){const n=new _u([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[qh(a)]=n}return Object.assign({},r,s)}(t,e,n,i,t.children,r));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new _u(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function Gh(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function qh(t){return t.outlet||"primary"}function $h(t){return t.data||{}}function Kh(t){return t.resolve||{}}function Zh(t,e,n,i){const r=Dh(t,e,i);return Au(r.resolve?r.resolve(e,n):r(e,n))}function Qh(t){return function(e){return e.pipe(Ll(e=>{const n=t(e);return n?W(n).pipe(H(()=>e)):W([e])}))}}class Jh{}class td{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}const ed=new Et("ROUTES");class nd{constructor(t,e,n,i){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=i}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(H(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new pu(xu(i.injector.get(ed)).map(yu),i)}))}loadModuleFactory(t){return"string"==typeof t?W(this.loader.load(t)):Au(t()).pipe(G(t=>t instanceof Rt?Za(t):W(this.compiler.compileModuleAsync(t))))}}class id{}class rd{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function od(t){throw t}function sd(t,e,n){return e.parse("/")}function ad(t,e){return Za(null)}class ld{constructor(t,e,n,i,r,o,s,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new C,this.errorHandler=od,this.malformedUriErrorHandler=sd,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ad,afterPreactivation:ad},this.urlHandlingStrategy=new rd,this.routeReuseStrategy=new td,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=r.get(Dt),this.console=r.get(_r);const l=r.get(Xr);this.isNgZoneEnabled=l instanceof Xr,this.resetConfig(a),this.currentUrlTree=new ku(new _u([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new nd(o,s,t=>this.triggerEvent(new nu(t)),t=>this.triggerEvent(new iu(t))),this.routerState=Zu(this.currentUrlTree,this.rootComponentType),this.transitions=new Qa({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(sl(t=>0!==t.id),H(t=>Object.assign({},t,{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Ll(t=>{let n=!1,i=!1;return Za(t).pipe(pl(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign({},this.lastSuccessfulNavigation,{previousNavigation:null}):null}}),Ll(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Za(t).pipe(Ll(t=>{const n=this.transitions.getValue();return e.next(new Gc(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?qa:[t]}),Ll(t=>Promise.resolve(t)),(i=this.ngModule.injector,r=this.configLoader,o=this.urlSerializer,s=this.config,function(t){return t.pipe(Ll(t=>function(t,e,n,i,r){return new _h(t,e,n,i,r).apply()}(i,r,o,t.extractedUrl,s).pipe(H(e=>Object.assign({},t,{urlAfterRedirects:e})))))}),pl(t=>{this.currentNavigation=Object.assign({},this.currentNavigation,{finalUrl:t.urlAfterRedirects})}),function(t,e,n,i,r){return function(o){return o.pipe(G(o=>function(t,e,n,i,r="emptyOnly",o="legacy"){return new Bh(t,e,n,i,r,o).recognize()}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),i,r).pipe(H(t=>Object.assign({},o,{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),pl(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),pl(t=>{const n=new Zc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var i,r,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:i,source:r,restoredState:o,extras:s}=t,a=new Gc(n,this.serializeUrl(i),r,o);e.next(a);const l=Zu(i,this.rootComponentType).snapshot;return Za(Object.assign({},t,{targetSnapshot:l,urlAfterRedirects:i,extras:Object.assign({},s,{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),qa}),Qh(t=>{const{targetSnapshot:e,id:n,extractedUrl:i,rawUrl:r,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:i,rawUrlTree:r,skipLocationChange:!!o,replaceUrl:!!s})}),pl(t=>{const e=new Qc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),H(t=>Object.assign({},t,{guards:Oh(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(G(n=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Za(Object.assign({},n,{guardsResult:!0})):function(t,e,n,i){return W(t).pipe(G(t=>function(t,e,n,i,r){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?Za(o.map(o=>{const s=Dh(o,e,r);let a;if(function(t){return t&&bh(t.canDeactivate)}(s))a=Au(s.canDeactivate(t,e,n,i));else{if(!bh(s))throw new Error("Invalid CanDeactivate guard");a=Au(s(t,e,n,i))}return a.pipe(Il())})).pipe(Fh()):Za(!0)}(t.component,t.route,n,e,i)),Il(t=>!0!==t,!0))}(s,i,r,t).pipe(G(n=>n&&"boolean"==typeof n?function(t,e,n,i){return W(e).pipe(zl(e=>W([Vh(e.route.parent,i),zh(e.route,i),Uh(t,e.path,n),jh(t,e.route,n)]).pipe(ol(),Il(t=>!0!==t,!0))),Il(t=>!0!==t,!0))}(i,o,t,e):Za(n)),H(t=>Object.assign({},n,{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),pl(t=>{if(xh(t.guardsResult)){const e=du(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),pl(t=>{const e=new Jc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),sl(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new $c(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Qh(t=>{if(t.guards.canActivateChecks.length)return Za(t).pipe(pl(t=>{const e=new tu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),(e=this.paramsInheritanceStrategy,n=this.ngModule.injector,function(t){return t.pipe(G(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;return r.length?W(r).pipe(zl(t=>function(t,e,n,i){return function(t,e,n,i){const r=Object.keys(t);if(0===r.length)return Za({});if(1===r.length){const o=r[0];return Zh(t[o],e,n,i).pipe(H(t=>({[o]:t})))}const o={};return W(r).pipe(G(r=>Zh(t[r],e,n,i).pipe(H(t=>(o[r]=t,t))))).pipe(Sl(),H(()=>o))}(t._resolve,t,e,i).pipe(H(e=>(t._resolvedData=e,t.data=Object.assign({},t.data,Ju(t,n).resolve),null)))}(t.route,i,e,n)),function(t,e){return arguments.length>=2?function(n){return b(Rl(t,e),hl(1),bl(e))(n)}:function(e){return b(Rl((e,n,i)=>t(e,n,i+1)),hl(1))(e)}}((t,e)=>t),H(e=>t)):Za(t)}))}),pl(t=>{const e=new eu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}));var e,n}),Qh(t=>{const{targetSnapshot:e,id:n,extractedUrl:i,rawUrl:r,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:i,rawUrlTree:r,skipLocationChange:!!o,replaceUrl:!!s})}),H(t=>{const e=function(t,e,n){const i=function t(e,n,i){if(i&&e.shouldReuseRoute(n.value,i.value.snapshot)){const r=i.value;r._futureSnapshot=n.value;const o=function(e,n,i){return n.children.map(n=>{for(const r of i.children)if(e.shouldReuseRoute(r.value.snapshot,n.value))return t(e,n,r);return t(e,n)})}(e,n,i);return new qu(r,o)}{const i=e.retrieve(n.value);if(i){const t=i.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let i=0;i<e.children.length;++i)t(e.children[i],n.children[i])}(n,t),t}{const i=new Qu(new Qa((r=n.value).url),new Qa(r.params),new Qa(r.queryParams),new Qa(r.fragment),new Qa(r.data),r.outlet,r.component,r),o=n.children.map(n=>t(e,n));return new qu(i,o)}}var r}(t,e._root,n?n._root:void 0);return new Ku(i,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign({},t,{targetRouterState:e})}),pl(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),H(t=>(new mh(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),pl({next(){n=!0},complete(){n=!0}}),(r=()=>{if(!n&&!i){this.resetUrlToCurrentUrlTree();const n=new $c(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new Vl(r))),Al(n=>{if(i=!0,(r=n)&&r.ngNavigationCancelingError){const i=xh(n.url);i||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const r=new $c(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(r),t.resolve(!1),i&&this.navigateByUrl(n.url)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const i=new Kc(t.id,this.serializeUrl(t.extractedUrl),n);e.next(i);try{t.resolve(this.errorHandler(n))}catch(o){t.reject(o)}}var r;return qa}));var r,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign({},this.getTransition(),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const n="popstate"===t.type?"popstate":"hashchange",i=t.state&&t.state.navigationId?t.state:null;setTimeout(()=>{this.scheduleNavigation(e,n,i,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){gu(t),this.config=t.map(yu),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:r,preserveQueryParams:o,queryParamsHandling:s,preserveFragment:a}=e;Wt()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const l=n||this.routerState.root,c=a?this.currentUrlTree.fragment:r;let u=null;if(s)switch(s){case"merge":u=Object.assign({},this.currentUrlTree.queryParams,i);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=i||null}else u=o?this.currentUrlTree.queryParams:i||null;return null!==u&&(u=this.removeEmptyProps(u)),function(t,e,n,i,r){if(0===n.length)return ah(e.root,e.root,e,i,r);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new lh(!0,0,t);let e=0,n=!1;const i=t.reduce((t,i,r)=>{if("object"==typeof i&&null!=i){if(i.outlets){const e={};return Su(i.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(i.segmentPath)return[...t,i.segmentPath]}return"string"!=typeof i?[...t,i]:0===r?(i.split("/").forEach((i,r)=>{0==r&&"."===i||(0==r&&""===i?n=!0:".."===i?e++:""!=i&&t.push(i))}),t):[...t,i]},[]);return new lh(n,e,i)}(n);if(o.toRoot())return ah(e.root,new _u([],{}),e,i,r);const s=function(t,e,n){if(t.isAbsolute)return new ch(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new ch(n.snapshot._urlSegment,!0,0);const i=sh(t.commands[0])?0:1;return function(t,e,n){let i=t,r=e,o=n;for(;o>r;){if(o-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new ch(i,!1,r-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?dh(s.segmentGroup,s.index,o.commands):hh(s.segmentGroup,s.index,o.commands);return ah(s.segmentGroup,a,e,i,r)}(l,this.currentUrlTree,t,u,c)}navigateByUrl(t,e={skipLocationChange:!1}){Wt()&&this.isNgZoneEnabled&&!Xr.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=xh(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(xh(t))return Eu(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Eu(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const i=t[n];return null!=i&&(e[n]=i),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new qc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,i){const r=this.getTransition();if(r&&"imperative"!==e&&"imperative"===r.source&&r.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(r&&"hashchange"==e&&"popstate"===r.source&&r.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(r&&"popstate"==e&&"hashchange"===r.source&&r.rawUrl.toString()===t.toString())return Promise.resolve(!0);let o=null,s=null;const a=new Promise((t,e)=>{o=t,s=e}),l=++this.navigationId;return this.setTransition({id:l,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:i,resolve:o,reject:s,promise:a,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),a.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,i){const r=this.urlSerializer.serialize(t);i=i||{},this.location.isCurrentPathEqualTo(r)||e?this.location.replaceState(r,"",Object.assign({},i,{navigationId:n})):this.location.go(r,"",Object.assign({},i,{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}class cd{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(t=>{t instanceof qc&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Wt()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,i){if(0!==t||e||n||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const r={skipLocationChange:ud(this.skipLocationChange),replaceUrl:ud(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,r),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:ud(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:ud(this.preserveFragment)})}}function ud(t){return""===t||!!t}class hd{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new dd,this.attachRef=null}}class dd{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new hd,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class fd{constructor(t,e,n,i,r){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=r,this.activated=null,this._activatedRoute=null,this.activateEvents=new gr,this.deactivateEvents=new gr,this.name=i||"primary",t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,r=new pd(t,i,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,r),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}class pd{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Qu?this.route:t===dd?this.childContexts:this.parent.get(t,e)}}class gd{}class vd{preload(t,e){return e().pipe(Al(()=>Za(null)))}}class md{preload(t,e){return Za(null)}}class yd{constructor(t,e,n,i,r){this.router=t,this.injector=i,this.preloadingStrategy=r,this.loader=new nd(e,n,e=>t.triggerEvent(new nu(e)),e=>t.triggerEvent(new iu(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(sl(t=>t instanceof qc),zl(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Dt);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const i of e)if(i.loadChildren&&!i.canLoad&&i._loadedConfig){const t=i._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else i.loadChildren&&!i.canLoad?n.push(this.preloadConfig(t,i)):i.children&&n.push(this.processRoutes(t,i.children));return W(n).pipe(Z(),H(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(G(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}class bd{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Gc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof qc&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof lu&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new lu(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}const xd=new Et("ROUTER_CONFIGURATION"),wd=new Et("ROUTER_FORROOT_GUARD"),Sd=[na,{provide:Nu,useClass:Pu},{provide:ld,useFactory:Id,deps:[lo,Nu,dd,na,ke,uo,Or,ed,xd,[id,new at],[Jh,new at]]},dd,{provide:Qu,useFactory:Nd,deps:[ld]},{provide:uo,useClass:po},yd,md,vd,{provide:xd,useValue:{enableTracing:!1}}];function Ad(){return new io("Router",ld)}class Ed{constructor(t,e){}static forRoot(t,e){return{ngModule:Ed,providers:[Sd,Td(t),{provide:wd,useFactory:Cd,deps:[[ld,new at,new ct]]},{provide:xd,useValue:e||{}},{provide:ta,useFactory:_d,deps:[Qs,[new st(ea),new at],xd]},{provide:bd,useFactory:kd,deps:[ld,Wa,xd]},{provide:gd,useExisting:e&&e.preloadingStrategy?e.preloadingStrategy:md},{provide:io,multi:!0,useFactory:Ad},[Pd,{provide:yr,multi:!0,useFactory:Ld,deps:[Pd]},{provide:Dd,useFactory:Od,deps:[Pd]},{provide:kr,multi:!0,useExisting:Dd}]]}}static forChild(t){return{ngModule:Ed,providers:[Td(t)]}}}function kd(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new bd(t,e,n)}function _d(t,e,n={}){return n.useHash?new ra(t,e):new oa(t,e)}function Cd(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Td(t){return[{provide:Oe,multi:!0,useValue:t},{provide:ed,multi:!0,useValue:t}]}function Id(t,e,n,i,r,o,s,a,l={},c,u){const h=new ld(null,e,n,i,r,o,s,xu(a));if(c&&(h.urlHandlingStrategy=c),u&&(h.routeReuseStrategy=u),l.errorHandler&&(h.errorHandler=l.errorHandler),l.malformedUriErrorHandler&&(h.malformedUriErrorHandler=l.malformedUriErrorHandler),l.enableTracing){const t=Hl();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return l.onSameUrlNavigation&&(h.onSameUrlNavigation=l.onSameUrlNavigation),l.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=l.paramsInheritanceStrategy),l.urlUpdateStrategy&&(h.urlUpdateStrategy=l.urlUpdateStrategy),l.relativeLinkResolution&&(h.relativeLinkResolution=l.relativeLinkResolution),h}function Nd(t){return t.routerState.root}class Pd{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new C}appInitializer(){return this.injector.get(Js,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(ld),i=this.injector.get(xd);if(this.isLegacyDisabled(i)||this.isLegacyEnabled(i))t(!0);else if("disabled"===i.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==i.initialNavigation)throw new Error(`Invalid initialNavigation options: '${i.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Za(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(xd),n=this.injector.get(yd),i=this.injector.get(bd),r=this.injector.get(ld),o=this.injector.get(lo);t===o.components[0]&&(this.isLegacyEnabled(e)?r.initialNavigation():this.isLegacyDisabled(e)&&r.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),r.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}function Ld(t){return t.appInitializer.bind(t)}function Od(t){return t.bootstrapListener.bind(t)}const Dd=new Et("Router Initializer");var Rd=Un({encapsulation:2,styles:[],data:{}});function Md(t){return Bo(0,[(t()(),Io(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),$i(1,212992,null,0,fd,[dd,kn,qe,[8,null],we],null,null)],(function(t,e){t(e,1,0)}),null)}function Fd(t){return Bo(0,[(t()(),Io(0,0,null,null,1,"ng-component",[],null,null,null,Md,Rd)),$i(1,49152,null,0,cu,[],null,null)],null,null)}var zd=ki("ng-component",cu,Fd,{},{},[]);class Vd{constructor(){}ngOnInit(){}}var jd=Un({encapsulation:0,styles:[[""]],data:{}});function Ud(t){return Bo(0,[(t()(),Io(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),jo(-1,null,["home works!"]))],null,null)}function Hd(t){return Bo(0,[(t()(),Io(0,0,null,null,1,"app-home",[],null,null,null,Ud,jd)),$i(1,114688,null,0,Vd,[],null,null)],(function(t,e){t(e,1,0)}),null)}var Bd=ki("app-home",Vd,Hd,{},{},[]);class Xd{constructor(){}ngOnInit(){}}var Yd=Un({encapsulation:0,styles:[["[_nghost-%COMP%]{display:table-row}"]],data:{}});function Wd(t){return Bo(0,[(e=0,n=Ha,i=[Cr],Ki(-1,e|=16,null,0,n,n,i)),(t()(),Io(1,0,null,null,1,"td",[["class","td analytics"]],null,null,null,null,null)),(t()(),jo(2,null,["",""])),(t()(),Io(3,0,null,null,2,"td",[["class","td analytics"]],null,null,null,null,null)),(t()(),jo(4,null,["",""])),Vo(128,5,new Array(3)),(t()(),Io(6,0,null,null,1,"td",[["class","td analytics"]],null,null,null,null,null)),(t()(),jo(7,null,["",""]))],null,(function(t,e){var n=e.component;t(e,2,0,n.event.type);var i=function(t,e,n,i){if(ze.isWrapped(i)){i=ze.unwrap(i);const e=t.def.nodes[4].bindingIndex+0,n=ze.unwrap(t.oldValues[e]);t.oldValues[e]=new ze(n)}return i}(e,0,0,t(e,5,0,Mi(e,0),n.event.createdAt,"long"));t(e,4,0,i),t(e,7,0,n.event.data)}));var e,n,i}class Gd{constructor(){}ngOnInit(){}}var qd=Un({encapsulation:0,styles:[["[_nghost-%COMP%]{display:table-row}"]],data:{}});function $d(t){return Bo(0,[(t()(),Io(0,0,null,null,1,"analytics-event",[["class","tr analytics"]],null,null,null,Wd,Yd)),$i(1,114688,null,0,Xd,[],{event:[0,"event"]},null)],(function(t,e){t(e,1,0,e.context.$implicit)}),null)}function Kd(t){return Bo(0,[(t()(),Io(0,0,null,null,1,"td",[["class","td analytics"]],null,null,null,null,null)),(t()(),jo(1,null,["",""])),(t()(),Io(2,0,null,null,10,"td",[],null,null,null,null,null)),(t()(),Io(3,0,null,null,9,"table",[["class","table analytics"]],null,null,null,null,null)),(t()(),Io(4,0,null,null,6,"tr",[["class","tr analytics"]],null,null,null,null,null)),(t()(),Io(5,0,null,null,1,"th",[["class","th analytics"]],null,null,null,null,null)),(t()(),jo(-1,null,["type"])),(t()(),Io(7,0,null,null,1,"th",[["class","th analytics"]],null,null,null,null,null)),(t()(),jo(-1,null,["created"])),(t()(),Io(9,0,null,null,1,"th",[["class","th analytics"]],null,null,null,null,null)),(t()(),jo(-1,null,["data"])),(t()(),To(16777216,null,null,1,null,$d)),$i(12,278528,null,0,Fa,[kn,An,yn],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,12,0,e.component.session.events)}),(function(t,e){t(e,1,0,e.component.session.id)}))}class Zd{constructor(){}ngOnInit(){}}var Qd=Un({encapsulation:0,styles:[["[_nghost-%COMP%]{display:table-row}"]],data:{}});function Jd(t){return Bo(0,[(t()(),Io(0,0,null,null,1,"analytics-session",[["class","tr analytics"]],null,null,null,Kd,qd)),$i(1,114688,null,0,Gd,[],{session:[0,"session"]},null)],(function(t,e){t(e,1,0,e.context.$implicit)}),null)}function tf(t){return Bo(0,[(t()(),Io(0,0,null,null,1,"td",[["class","td analytics"]],null,null,null,null,null)),(t()(),jo(1,null,["",""])),(t()(),Io(2,0,null,null,8,"td",[],null,null,null,null,null)),(t()(),Io(3,0,null,null,7,"table",[["class","table analytics"]],null,null,null,null,null)),(t()(),Io(4,0,null,null,4,"tr",[["class","tr analytics"]],null,null,null,null,null)),(t()(),Io(5,0,null,null,1,"th",[["class","th analytics"]],null,null,null,null,null)),(t()(),jo(-1,null,["session"])),(t()(),Io(7,0,null,null,1,"th",[["class","th analytics"]],null,null,null,null,null)),(t()(),jo(-1,null,["events"])),(t()(),To(16777216,null,null,1,null,Jd)),$i(10,278528,null,0,Fa,[kn,An,yn],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,10,0,e.component.device.sessions)}),(function(t,e){t(e,1,0,e.component.device.id)}))}class ef{constructor(){}ngOnInit(){}}var nf=Un({encapsulation:0,styles:[["[_nghost-%COMP%]{display:table-row}"]],data:{}});function rf(t){return Bo(0,[(t()(),Io(0,0,null,null,1,"analytics-device",[["class","tr analytics"]],null,null,null,tf,Qd)),$i(1,114688,null,0,Zd,[],{device:[0,"device"]},null)],(function(t,e){t(e,1,0,e.context.$implicit)}),null)}function of(t){return Bo(0,[(t()(),Io(0,0,null,null,1,"td",[["class","td analytics"]],null,null,null,null,null)),(t()(),jo(1,null,["",""])),(t()(),Io(2,0,null,null,8,"td",[],null,null,null,null,null)),(t()(),Io(3,0,null,null,7,"table",[["class","table analytics"]],null,null,null,null,null)),(t()(),Io(4,0,null,null,4,"tr",[["class","tr analytics"]],null,null,null,null,null)),(t()(),Io(5,0,null,null,1,"th",[["class","th analytics"]],null,null,null,null,null)),(t()(),jo(-1,null,["device"])),(t()(),Io(7,0,null,null,1,"th",[["class","th analytics"]],null,null,null,null,null)),(t()(),jo(-1,null,["sessions"])),(t()(),To(16777216,null,null,1,null,rf)),$i(10,278528,null,0,Fa,[kn,An,yn],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,10,0,e.component.build.devices)}),(function(t,e){t(e,1,0,e.component.build.id)}))}var sf=n("4SJn");class af{constructor(t,e){console.info("AnalyticsEvent()",t,this),this.createdAt=t.createdAt.toDate(),this.createdAtUTC=new Date;const n=6e4*this.createdAt.getTimezoneOffset();this.createdAtUTC.setTime(this.createdAt.getTime()-n),this.build=t.build,this.session=t.session,this.device=t.device,this.type=t.type,this.data=e}calculateRoundCreateAt(t){const e=new Date(this.createdAtUTC);switch(t){case lf.Day:e.setHours(0,0,0,0);break;case lf.Hour:e.setHours(e.getHours(),0,0,0)}return e}}var lf=function(t){return t[t.Hour=0]="Hour",t[t.Day=1]="Day",t}({}),cf=function(t){return t.SessionStart="SessionStart",t.SessionEnd="SessionEnd",t}({});class uf{constructor(t,e){this.builds=t,this.events=e,console.info("AnalyticsStatistic()",this)}}class hf{constructor(t,e,n){this.id=t,this.devices=e,this.events=n,console.info("AnalyticsBuild()",t,this)}}class df{constructor(t,e,n){this.id=t,this.sessions=e,this.events=n,console.info("AnalyticsDevice()",t,this)}}class ff{constructor(t,e){this.id=t,this.events=e,console.info("AnalyticsSession()",t,this)}}let pf=(()=>{class t{static CreateStatistic(e){const n={};console.group("AnalyticsCommon.CreateStatistic()"),console.log("events:",e),e.forEach(t=>{const e=t.build;n[e]||(n[e]=[]),n[e].push(t)}),console.log("buildsPair:",n);const i=[];for(const o in n)i.push(t.CreateBuild(o,n[o]));console.log("builds:",i);const r=new uf(i,e);return console.groupEnd(),r}static CreateBuild(e,n){const i={};console.group("AnalyticsCommon.CreateBuild()",e),console.log("events:",n),n.forEach(t=>{const e=t.device;i[e]||(i[e]=[]),i[e].push(t)}),console.log("devicesPair:",i);const r=[];for(const s in i)r.push(t.CreateDevice(s,i[s]));console.log("devices:",r);const o=new hf(e,r,n);return console.groupEnd(),o}static CreateDevice(e,n){const i={};console.group("AnalyticsCommon.CreateDevice()",e),console.log("events:",n),n.forEach(t=>{const e=t.session;i[e]||(i[e]=[]),i[e].push(t)}),console.log("sessionsPair:",i);const r=[];for(const s in i)r.push(t.CreateSession(s,i[s]));console.log("sessions:",r);const o=new df(e,r,n);return console.groupEnd(),o}static CreateSession(t,e){console.group("AnalyticsCommon.CreateSession()",t),console.log("events:",e);const n=new ff(t,e);return console.groupEnd(),n}static CreateEvent(e){console.group("AnalyticsCommon.CreateEvent()"),console.log("initializer:",e);try{let i=e.data;try{i=JSON.parse(e.data)}catch(n){}console.log("data:",i);const r=t.TypeToEventMap.get(e.type);if(r){const t=new r(e,i);return console.groupEnd(),t}{const t=new af(e,i);return console.groupEnd(),t}}catch(n){return console.warn("AnalyticsCommon.CreateEvent() error",n),console.groupEnd(),null}}static SplitEventsByDate(t,e){const n=this.SortEventsByDate(t),i=new Map;return n.forEach(t=>{const n=t.calculateRoundCreateAt(e),r=n.toDateString();i.has(r)||i.set(r,{date:n,events:[]}),i.get(r).events.push(t)}),i}static SortEventsByDate(t){return t.sort((t,e)=>t.createdAt.getTime()-e.createdAt.getTime())}}return t.TypeToEventMap=new Map,t})();pf.TypeToEventMap.set(cf.SessionStart,class extends af{constructor(t,e){super(t,e)}});class gf{constructor(){}ngOnInit(){this.createChart()}createChart(){const t={},e=[];this.statistic.events.forEach(e=>{t[e.type]||(t[e.type]=[]),t[e.type].push(e)});for(const i in t){const n=Array.from(pf.SplitEventsByDate(t[i],lf.Hour).entries()).map(t=>({time:t[1].date.getTime(),date:t[1].date,events:t[1].events,count:t[1].events.length}));e.push({type:i,eventsByDate:n})}console.log(e);const n={chart:{type:"bar",stacked:!0},xaxis:{type:"datetime"},plotOptions:{bar:{horizontal:!1,columnWidth:`${100/24}%`}},series:e.map(t=>({name:t.type,data:t.eventsByDate.map(t=>({x:t.time,y:t.count}))}))};new sf.a(document.querySelector("#chart1"),n).render()}}var vf=Un({encapsulation:0,styles:[[""]],data:{}});function mf(t){return Bo(0,[(t()(),Io(0,0,null,null,1,"analytics-build",[["class","tr analytics"]],null,null,null,of,nf)),$i(1,114688,null,0,ef,[],{build:[0,"build"]},null)],(function(t,e){t(e,1,0,e.context.$implicit)}),null)}function yf(t){return Bo(0,[(t()(),Io(0,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),jo(-1,null,["Statistic"])),(t()(),Io(2,0,null,null,0,"div",[["id","chart1"]],null,null,null,null,null)),(t()(),Io(3,0,null,null,7,"table",[["class","table analytics"]],null,null,null,null,null)),(t()(),Io(4,0,null,null,4,"tr",[["class","tr analytics"]],null,null,null,null,null)),(t()(),Io(5,0,null,null,1,"th",[["class","th analytics"]],null,null,null,null,null)),(t()(),jo(-1,null,["build"])),(t()(),Io(7,0,null,null,1,"th",[["class","th analytics"]],null,null,null,null,null)),(t()(),jo(-1,null,["devices"])),(t()(),To(16777216,null,null,1,null,mf)),$i(10,278528,null,0,Fa,[kn,An,yn],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,10,0,e.component.statistic.builds)}),null)}function bf(t,e,n,i){return new(n||(n=Promise))((function(r,o){function s(t){try{l(i.next(t))}catch(e){o(e)}}function a(t){try{l(i.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((i=i.apply(t,e||[])).next())}))}class xf{constructor(t){this.analytics=t}get statistic(){return this.analytics.statistic}ngOnInit(){return bf(this,void 0,void 0,(function*(){console.info(this)}))}}class wf extends d{constructor(t,e){super()}schedule(t,e=0){return this}}class Sf extends wf{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,i=void 0;try{this.work(t)}catch(r){n=!0,i=!!r&&r||new Error(r)}if(n)return this.unsubscribe(),i}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let Af=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class Ef extends Af{constructor(t,e=Af.now){super(t,()=>Ef.delegate&&Ef.delegate!==this?Ef.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return Ef.delegate&&Ef.delegate!==this?Ef.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}const kf=new Ef(Sf);function _f(t,e){return function(t,e=kf){return new w(n=>{let i;return null!=e?e.schedule(()=>{i=t.onSnapshot(n)}):i=t.onSnapshot(n),function(){null!=i&&i()}})}(t,e)}function Cf(t,e){return _f(t,e).pipe(H(t=>({payload:t,type:"query"})))}let Tf=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Za(this.value);case"E":return t=this.error,new w(e=>e.error(t));case"C":return $a()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function If(t,e=0){return function(n){return n.lift(new Nf(t,e))}}class Nf{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new Pf(t,this.scheduler,this.delay))}}class Pf extends g{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(Pf.dispatch,this.delay,new Lf(t,this.destination)))}_next(t){this.scheduleMessage(Tf.createNext(t))}_error(t){this.scheduleMessage(Tf.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(Tf.createComplete()),this.unsubscribe()}}class Lf{constructor(t,e){this.notification=t,this.destination=e}}function Of(t,e){return Cf(t,e).pipe(H(t=>t.payload.docChanges().map(t=>({type:t.type,payload:t}))))}function Df(t,e,n){return Cf(t,n).pipe(H(t=>t.payload.docChanges()),Rl((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)||t.splice(e.newIndex,0,e);break;case"modified":(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))&&(e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e));break;case"removed":t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref)&&t.splice(e.oldIndex,1)}return t}(t,e))}),t}(t,n,e),[]),H(t=>t.map(t=>({type:t.type,payload:t}))))}function Rf(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class Mf{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){return t&&0!==t.length?Of(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,H(e=>e.filter(e=>t.indexOf(e.type)>-1)),sl(t=>t.length>0)):Of(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Rl((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Rf(t);return Df(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Cf(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,H(e=>e.payload.docs.map(e=>t.idField?Object.assign({},e.data(),{[t.idField]:e.id}):e.data())))}get(t){return W(this.query.get(t)).pipe(If(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new Ff(this.ref.doc(t),this.afs)}}class Ff{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:i,query:r}=mp(n,e);return new Mf(i,r,this.afs)}snapshotChanges(){return _f(this.ref,this.afs.schedulers.outsideAngular).pipe(H(t=>({payload:t,type:"value"}))).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return this.snapshotChanges().pipe(H(t=>t.payload.data()))}get(t){return W(this.ref.get(t)).pipe(If(this.afs.schedulers.insideAngular))}}class zf{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Of(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,H(e=>e.filter(e=>t.indexOf(e.type)>-1)),sl(t=>t.length>0)):Of(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Rl((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Rf(t);return Df(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return Cf(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,H(t=>t.payload.docs.map(t=>t.data())))}get(t){return W(this.query.get(t)).pipe(If(this.afs.schedulers.insideAngular))}}class Vf extends Sf{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}class jf extends Ef{}const Uf=new jf(Vf);let Hf=1;const Bf={},Xf={setImmediate(t){const e=Hf++;return Bf[e]=t,Promise.resolve().then(()=>function(t){const e=Bf[t];e&&e()}(e)),e},clearImmediate(t){delete Bf[t]}};class Yf extends Sf{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=Xf.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(Xf.clearImmediate(e),t.scheduled=void 0)}}class Wf extends Ef{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,i=-1,r=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++i<r&&(t=e.shift()));if(this.active=!1,n){for(;++i<r&&(t=e.shift());)t.unsubscribe();throw n}}}const Gf=new Wf(Yf);class qf extends w{constructor(t,e=0,n=Gf){var i;super(),this.source=t,this.delayTime=e,this.scheduler=n,(l(i=e)||!(i-parseFloat(i)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=Gf)}static create(t,e=0,n=Gf){return new qf(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(qf.dispatch,this.delayTime,{source:this.source,subscriber:t})}}class $f{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new qf(e,this.delay,this.scheduler).subscribe(t)}}function Kf(){}class Zf{constructor(t,e=Uf){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const i=this.zone;return this.delegate.schedule((function(e){i.runGuarded(()=>{t.apply(this,[e])})}),e,n)}}class Qf{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Kf,{},Kf,Kf)),e.pipe(pl(n,n,n)).subscribe(t).add(n)}unscheduleTask(){null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)}}class Jf{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Zf(Zone.current)),this.insideAngular=t.run(()=>new Zf(Zone.current,kf))}}function tp(t,e){return function(n){return Ya(e)&&(n=n.lift(new Qf(t.ngZone))),n.pipe(function(t,e=0){return function(n){return n.lift(new $f(t,e))}}(t.outsideAngular),If(t.insideAngular))}}var ep,np=n("Wcq6"),ip=n.n(np);const rp=new Et("angularfire2.app.options"),op=new Et("angularfire2.app.nameOrConfig"),sp=rp,ap=op;class lp{}const cp=new sn("5.4.2");function up(t,e,n){const i="object"==typeof n&&n||{};return i.name=i.name||"string"==typeof n&&n||"[DEFAULT]",ip.a.apps.filter(t=>t&&t.name===i.name)[0]||e.runOutsideAngular(()=>ip.a.initializeApp(t,i))}let hp=ep=class{constructor(t){ip.a.registerVersion&&(ip.a.registerVersion("angularfire",cp.full,t.toString()),ip.a.registerVersion("angular",an.full))}static initializeApp(t,e){return{ngModule:ep,providers:[{provide:sp,useValue:t},{provide:ap,useValue:e}]}}};const dp=new Et("angularfire2.enableFirestorePersistence"),fp=new Et("angularfire2.firestore.persistenceSettings"),pp=new Et("angularfire2.firestore.settings"),gp=parseInt(ip.a.SDK_VERSION.split(".")[0]),vp=gp<5||5==gp&&parseInt(ip.a.SDK_VERSION.split(".")[1])<8?{timestampsInSnapshots:!0}:{};function mp(t,e=(t=>t)){return{query:e(t),ref:t}}let yp=class{constructor(t,e,n,i,r,o,s){this.schedulers=new Jf(o),this.keepUnstableUntilFirst=tp(this.schedulers,r),this.firestore=o.runOutsideAngular(()=>{const n=up(t,o,e).firestore();return n.settings(i||vp),n}),this.persistenceEnabled$=n&&!Ya(r)?o.runOutsideAngular(()=>{try{return W(this.firestore.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(t){return Za(!1)}}):Za(!1)}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:i,query:r}=mp(n,e);return new Mf(i,r,this)}collectionGroup(t,e){if(gp<6)throw"collection group queries require Firebase JS SDK >= 6.0";const n=e||(t=>t),i=this.firestore.collectionGroup(t);return new zf(n(i),this)}doc(t){let e;return e="string"==typeof t?this.firestore.doc(t):t,new Ff(e,this)}createId(){return this.firestore.collection("_").doc().id}},bp=(()=>{class t{constructor(t){this.store=t,this.events=[],this.collection=this.store.collection("LastDaysAnalytics"),this.collection.valueChanges().subscribe(t=>{this.events=t.map(t=>pf.CreateEvent(t)).filter(t=>!!t),this.statistic=pf.CreateStatistic(this.events)})}log(t){return bf(this,void 0,void 0,(function*(){yield this.collection.add(t)}))}}return t.ngInjectableDef=dt({factory:function(){return new t(Pt(yp))},token:t,providedIn:"root"}),t})();var xp=Un({encapsulation:0,styles:[[""]],data:{}});function wp(t){return Bo(0,[(t()(),Io(0,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),Io(1,0,null,null,1,"analytics-statistic",[],null,null,null,yf,vf)),$i(2,114688,null,0,gf,[],{statistic:[0,"statistic"]},null)],(function(t,e){t(e,2,0,e.component.statistic)}),null)}function Sp(t){return Bo(0,[(t()(),To(16777216,null,null,1,null,wp)),$i(1,16384,null,0,Va,[kn,An],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,1,0,e.component.statistic)}),null)}function Ap(t){return Bo(0,[(t()(),Io(0,0,null,null,1,"app-admin",[],null,null,null,Sp,xp)),$i(1,114688,null,0,xf,[bp],null,null)],(function(t,e){t(e,1,0)}),null)}var Ep=ki("app-admin",xf,Ap,{},{},[]),kp=np.firestore.Timestamp;class _p{constructor(t,e){this.route=t,this.analytics=e,this.status="None"}ngOnInit(){return bf(this,void 0,void 0,(function*(){console.info(this),this.route.queryParams.subscribe(t=>{this.log(t.m)})}))}log(t){if(console.info("AnalyticsBackendComponent.log()"),console.log("message:",t),t)try{const e=JSON.parse(t);console.log("payload:",e);const n={createdAt:kp.fromDate(new Date),build:e.build||"None",device:e.device||"deviceID",session:e.session||"sessionID",type:e.type,data:e.data};console.log("eventInterface:",n),this.analytics.log(n),this.status="log success"}catch(e){this.status=`log error. ${e.toString()}`}else this.status="message is undefined"}}var Cp=Un({encapsulation:0,styles:[[""]],data:{}});function Tp(t){return Bo(0,[(t()(),Io(0,0,null,null,4,"div",[],null,null,null,null,null)),(t()(),Io(1,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),jo(-1,null,["Status: "])),(t()(),Io(3,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),jo(4,null,["",""]))],null,(function(t,e){t(e,4,0,e.component.status)}))}function Ip(t){return Bo(0,[(t()(),Io(0,0,null,null,1,"app-analytics-backend",[],null,null,null,Tp,Cp)),$i(1,114688,null,0,_p,[Qu,bp],null,null)],(function(t,e){t(e,1,0)}),null)}var Np=ki("app-analytics-backend",_p,Ip,{},{},[]),Pp=Un({encapsulation:0,styles:[[".top-bar[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:100%;height:50px;background-color:#1e88e5}.top-bar[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:1000px;margin:0 auto}.top-bar[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .button.navigation[_ngcontent-%COMP%]{display:inline-block;vertical-align:top;margin:0 10px 0 0;height:20px;min-width:100px;color:#fff;text-transform:uppercase;padding:15px 10px;font-size:18px;text-decoration:none}.content[_ngcontent-%COMP%]{width:1000px;margin:100px auto 0}.footer[_ngcontent-%COMP%]{margin-top:50px;height:50px}"]],data:{}});function Lp(t){return Bo(0,[(t()(),Io(0,0,null,null,10,"div",[["class","top-bar"]],null,null,null,null,null)),(t()(),Io(1,0,null,null,9,"div",[["class","content"]],null,null,null,null,null)),(t()(),Io(2,0,null,null,2,"a",[["class","button navigation"],["routerLink","home"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==Mi(t,3).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),$i(3,671744,null,0,cd,[ld,Qu,ta],{routerLink:[0,"routerLink"]},null),(t()(),jo(-1,null,["Home"])),(t()(),Io(5,0,null,null,2,"a",[["class","button navigation"],["routerLink","admin"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==Mi(t,6).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),$i(6,671744,null,0,cd,[ld,Qu,ta],{routerLink:[0,"routerLink"]},null),(t()(),jo(-1,null,["Admin"])),(t()(),Io(8,0,null,null,2,"a",[["class","button navigation"],["routerLink","a"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==Mi(t,9).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),$i(9,671744,null,0,cd,[ld,Qu,ta],{routerLink:[0,"routerLink"]},null),(t()(),jo(-1,null,["analytics-backend"])),(t()(),Io(11,0,null,null,2,"div",[["class","content"]],null,null,null,null,null)),(t()(),Io(12,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),$i(13,212992,null,0,fd,[dd,kn,qe,[8,null],we],null,null),(t()(),Io(14,0,null,null,0,"div",[["class","footer"]],null,null,null,null,null))],(function(t,e){t(e,3,0,"home"),t(e,6,0,"admin"),t(e,9,0,"a"),t(e,13,0)}),(function(t,e){t(e,2,0,Mi(e,3).target,Mi(e,3).href),t(e,5,0,Mi(e,6).target,Mi(e,6).href),t(e,8,0,Mi(e,9).target,Mi(e,9).href)}))}function Op(t){return Bo(0,[(t()(),Io(0,0,null,null,1,"app-root",[],null,null,null,Lp,Pp)),$i(1,49152,null,0,Zs,[],null,null)],null,null)}var Dp=ki("app-root",Zs,Op,{},{},[]);let Rp=class{constructor(t,e,n,i){const r=tp(new Jf(i),n);this.auth=i.runOutsideAngular(()=>up(t,i,e).auth()),this.authState=new w(t=>i.runOutsideAngular(()=>this.auth.onAuthStateChanged(t))).pipe(r),this.user=new w(t=>i.runOutsideAngular(()=>this.auth.onIdTokenChanged(t))).pipe(r),this.idToken=this.user.pipe(Ll(t=>t?W(t.getIdToken()):Za(null))),this.idTokenResult=this.user.pipe(Ll(t=>t?W(t.getIdTokenResult()):Za(null)))}};var Mp=n("wj3C"),Fp=n.n(Mp);(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function i(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function r(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:i(t)}}!function(t,i){if(i){var r=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in r||(r[s]={}),r=r[s]}(i=i(o=r[t=t[t.length-1]]))!=o&&null!=i&&e(r,t,{configurable:!0,writable:!0,value:i})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function i(){this.a=null}function o(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;i.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var s=n.setTimeout;i.prototype.c=function(t){s(t,0)},i.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(i){this.f(i)}}}this.a=null},i.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(i){n||(n=!0,t.call(e,i))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.u(t):this.h(t)}},e.prototype.u=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.w(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new i;return e.prototype.s=function(t){var e=this.f();t.Oa(e.resolve,e.reject)},e.prototype.w=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(i){n.reject(i)}},e.prototype.then=function(t,n){function i(t,e){return"function"==typeof t?function(e){try{r(t(e))}catch(n){o(n)}}:e}var r,o,s=new e((function(t,e){r=t,o=e}));return this.Oa(i(t,r),i(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Oa=function(t,e){function n(){switch(i.b){case 1:t(i.c);break;case 2:e(i.c);break;default:throw Error("Unexpected state: "+i.b)}}var i=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=o,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var i=r(t),s=i.next();!s.done;s=i.next())o(s.value).Oa(e,n)}))},e.all=function(t){var n=r(t),i=n.next();return i.done?o([]):new e((function(t,e){function r(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,o(i.value).Oa(r(s.length-1),e),i=n.next()}while(!i.done)}))},e}));var o=o||{},s=this||self,a=/^[\w+/_-]+[=]{0,2}$/,l=null;function c(){}function u(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function h(t){var e=u(t);return"array"==e||"object"==e&&"number"==typeof t.length}function d(t){return"function"==u(t)}function f(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function p(t){return Object.prototype.hasOwnProperty.call(t,g)&&t[g]||(t[g]=++v)}var g="closure_uid_"+(1e9*Math.random()>>>0),v=0;function m(t,e,n){return t.call.apply(t.bind,arguments)}function y(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function b(t,e,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?m:y).apply(null,arguments)}function x(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var w=Date.now||function(){return+new Date};function S(t,e){function n(){}n.prototype=e.prototype,t.Za=e.prototype,t.prototype=new n,t.prototype.constructor=t}function A(t,e,n){this.code=_+t,this.message=e||C[t]||"",this.a=n||null}function E(t){var e=t&&t.code;return e?new A(e.substring(_.length),t.message,t.serverResponse):null}S(A,Error),A.prototype.v=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},A.prototype.toJSON=function(){return this.v()};var k,_="auth/",C={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},T={hd:{Ra:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},pd:{Ra:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://securetoken.googleapis.com/v1/token",Ua:"https://identitytoolkit.googleapis.com/v2/",id:"p"},rd:{Ra:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},sd:{Ra:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Xa:"https://test-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function I(t){for(var e in T)if(T[e].id===t)return{firebaseEndpoint:(t=T[e]).Ra,secureTokenEndpoint:t.Xa,identityPlatformEndpoint:t.Ua};return null}function N(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function P(t){if(Error.captureStackTrace)Error.captureStackTrace(this,P);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function L(t,e){for(var n="",i=(t=t.split("%s")).length-1,r=0;r<i;r++)n+=t[r]+(r<e.length?e[r]:"%s");P.call(this,n+t[i])}function O(t,e){throw new L("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function D(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function R(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function M(){this.b=this.a=null}k=I("__EID__")?"__EID__":void 0,S(P,Error),P.prototype.name="CustomError",S(L,P),L.prototype.name="AssertionError",D.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var F=new D((function(){return new V}),(function(t){t.reset()}));function z(){var t=ge,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function V(){this.next=this.b=this.a=null}M.prototype.add=function(t,e){var n=F.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},V.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},V.prototype.reset=function(){this.next=this.b=this.a=null};var j=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},U=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,r="string"==typeof t?t.split(""):t,o=0;o<i;o++)o in r&&e.call(n,r[o],o,t)},H=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,i=[],r=0,o="string"==typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(i[r++]=a)}return i},B=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,i=Array(n),r="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in r&&(i[o]=e.call(void 0,r[o],o,t));return i},X=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,i="string"==typeof t?t.split(""):t,r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t))return!0;return!1};function Y(t,e){return 0<=j(t,e)}function W(t,e){var n;return(n=0<=(e=j(t,e)))&&Array.prototype.splice.call(t,e,1),n}function G(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,i=t.length-1;0<=i;--i)i in n&&e.call(void 0,n[i],i,t)}(t,(function(n,i){e.call(void 0,n,i,t)&&Array.prototype.splice.call(t,i,1)}))}function q(t){return Array.prototype.concat.apply([],arguments)}function $(t){var e=t.length;if(0<e){for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}return[]}var K,Z=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},Q=/&/g,J=/</g,tt=/>/g,et=/"/g,nt=/'/g,it=/\x00/g,rt=/[\x00&<>"']/;function ot(t,e){return-1!=t.indexOf(e)}function st(t,e){return t<e?-1:t>e?1:0}t:{var at=s.navigator;if(at){var lt=at.userAgent;if(lt){K=lt;break t}}K=""}function ct(t){return ot(K,t)}function ut(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function ht(t){for(var e in t)return!1;return!0}function dt(t){var e,n={};for(e in t)n[e]=t[e];return n}var ft="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pt(t,e){for(var n,i,r=1;r<arguments.length;r++){for(n in i=arguments[r])t[n]=i[n];for(var o=0;o<ft.length;o++)n=ft[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function gt(t,e){t:{try{var n=t&&t.ownerDocument,i=n&&(n.defaultView||n.parentWindow);if((i=i||s).Element&&i.Location){var r=i;break t}}catch(a){}r=null}if(r&&void 0!==r[e]&&(!t||!(t instanceof r[e])&&(t instanceof r.Location||t instanceof r.Element))){if(f(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(a){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;O("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function vt(t,e){this.a=t===bt&&e||"",this.b=yt}function mt(t){return t instanceof vt&&t.constructor===vt&&t.b===yt?t.a:(O("expected object of type Const, got '"+t+"'"),"type_error:Const")}vt.prototype.ra=!0,vt.prototype.qa=function(){return this.a},vt.prototype.toString=function(){return"Const{"+this.a+"}"};var yt={},bt={},xt=new vt(bt,"");function wt(t,e){this.a=t===Ct&&e||"",this.b=_t}function St(t){return t instanceof wt&&t.constructor===wt&&t.b===_t?t.a:(O("expected object of type TrustedResourceUrl, got '"+t+"' of type "+u(t)),"type_error:TrustedResourceUrl")}function At(t,e){var n=mt(t);if(!kt.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return t=n.replace(Et,(function(t,i){if(!Object.prototype.hasOwnProperty.call(e,i))throw Error('Found marker, "'+i+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[i])instanceof vt?mt(t):encodeURIComponent(String(t))})),new wt(Ct,t)}wt.prototype.ra=!0,wt.prototype.qa=function(){return this.a.toString()},wt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Et=/%{(\w+)}/g,kt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,_t={},Ct={};function Tt(t,e){this.a=t===Ot&&e||"",this.b=Lt}function It(t){return t instanceof Tt&&t.constructor===Tt&&t.b===Lt?t.a:(O("expected object of type SafeUrl, got '"+t+"' of type "+u(t)),"type_error:SafeUrl")}Tt.prototype.ra=!0,Tt.prototype.qa=function(){return this.a.toString()},Tt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Nt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Pt(t){return t instanceof Tt?t:(t="object"==typeof t&&t.ra?t.qa():String(t),Nt.test(t)||(t="about:invalid#zClosurez"),new Tt(Ot,t))}var Lt={},Ot={};function Dt(){this.a="",this.b=Mt}function Rt(t){return t instanceof Dt&&t.constructor===Dt&&t.b===Mt?t.a:(O("expected object of type SafeHtml, got '"+t+"' of type "+u(t)),"type_error:SafeHtml")}Dt.prototype.ra=!0,Dt.prototype.qa=function(){return this.a.toString()},Dt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Mt={};function Ft(t){var e=new Dt;return e.a=t,e}Ft("<!DOCTYPE html>");var zt=Ft("");function Vt(t,e){for(var n=t.split("%s"),i="",r=Array.prototype.slice.call(arguments,1);r.length&&1<n.length;)i+=n.shift()+r.shift();return i+n.join("%s")}function jt(t){return rt.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(Q,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(J,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(tt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(et,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(nt,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(it,"&#0;"))),t}function Ut(t){return Ut[" "](t),t}Ft("<br>"),Ut[" "]=c;var Ht,Bt,Xt=ct("Opera"),Yt=ct("Trident")||ct("MSIE"),Wt=ct("Edge"),Gt=Wt||Yt,qt=ct("Gecko")&&!(ot(K.toLowerCase(),"webkit")&&!ct("Edge"))&&!(ct("Trident")||ct("MSIE"))&&!ct("Edge"),$t=ot(K.toLowerCase(),"webkit")&&!ct("Edge");function Kt(){var t=s.document;return t?t.documentMode:void 0}t:{var Zt="",Qt=(Bt=K,qt?/rv:([^\);]+)(\)|;)/.exec(Bt):Wt?/Edge\/([\d\.]+)/.exec(Bt):Yt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Bt):$t?/WebKit\/(\S+)/.exec(Bt):Xt?/(?:Version)[ \/]?(\S+)/.exec(Bt):void 0);if(Qt&&(Zt=Qt?Qt[1]:""),Yt){var Jt=Kt();if(null!=Jt&&Jt>parseFloat(Zt)){Ht=String(Jt);break t}}Ht=Zt}var te,ee={};function ne(t){return function(t,e){var n=ee;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=Z(String(Ht)).split("."),i=Z(String(t)).split("."),r=Math.max(n.length,i.length),o=0;0==e&&o<r;o++){var s=n[o]||"",a=i[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=st(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||st(0==s[2].length,0==a[2].length)||st(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}te=s.document&&Yt?Kt():void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Bt){}var ie=!Yt||9<=Number(te);function re(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function oe(t,e){ut(e,(function(e,n){e&&"object"==typeof e&&e.ra&&(e=e.qa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:le.hasOwnProperty(n)?t.setAttribute(le[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var se,ae,le={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ce(t,e,n){function i(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var r=2;r<n.length;r++){var o=n[r];!h(o)||f(o)&&0<o.nodeType?i(o):U(he(o)?$(o):o,i)}}function ue(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function he(t){if(t&&"number"==typeof t.length){if(f(t))return"function"==typeof t.item||"string"==typeof t.item;if(d(t))return"function"==typeof t.item}return!1}function de(t){s.setTimeout((function(){throw t}),0)}function fe(t,e){ae||function(){if(s.Promise&&s.Promise.resolve){var t=s.Promise.resolve(void 0);ae=function(){t.then(ve)}}else ae=function(){var t=ve;!d(s.setImmediate)||s.Window&&s.Window.prototype&&!ct("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(se||(se=function(){var t=s.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ct("Presto")&&(t=function(){var t=ue(document,"IFRAME");t.style.display="none",function(t){var e=new wt(Ct,mt(xt));gt(t,"HTMLIFrameElement"),t.src=St(e).toString()}(t),document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(Rt(zt)),t.close();var n="callImmediate"+Math.random(),i="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=b((function(t){"*"!=i&&t.origin!=i||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,i)}}}),void 0!==t&&!ct("Trident")&&!ct("MSIE")){var e=new t,n={},i=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Db;n.Db=null,t()}},function(t){i.next={Db:t},i=i.next,e.port2.postMessage(0)}}return function(t){s.setTimeout(t,0)}}()),se(t)):s.setImmediate(t)}}(),pe||(ae(),pe=!0),ge.add(t,e)}var pe=!1,ge=new M;function ve(){for(var t;t=z();){try{t.a.call(t.b)}catch(e){de(e)}R(F,t)}pe=!1}function me(t,e){if(this.a=ye,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=c)try{var n=this;t.call(e,(function(t){Ne(n,be,t)}),(function(t){if(!(t instanceof Fe))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}Ne(n,xe,t)}))}catch(i){Ne(this,xe,i)}}var ye=0,be=2,xe=3;function we(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}we.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Se=new D((function(){return new we}),(function(t){t.reset()}));function Ae(t,e,n){var i=Se.get();return i.g=t,i.b=e,i.f=n,i}function Ee(t){if(t instanceof me)return t;var e=new me(c);return Ne(e,be,t),e}function ke(t){return new me((function(e,n){n(t)}))}function _e(t,e,n){Pe(t,e,n,null)||fe(x(e,t))}function Ce(t){return new me((function(e){var n=t.length,i=[];if(n)for(var r=function(t,r,o){n--,i[t]=r?{Mb:!0,value:o}:{Mb:!1,reason:o},0==n&&e(i)},o=0;o<t.length;o++)_e(t[o],x(r,o,!0),x(r,o,!1));else e(i)}))}function Te(t,e){t.b||t.a!=be&&t.a!=xe||Le(t),t.f?t.f.next=e:t.b=e,t.f=e}function Ie(t,e,n,i){var r=Ae(null,null,null);return r.a=new me((function(t,o){r.g=e?function(n){try{var r=e.call(i,n);t(r)}catch(s){o(s)}}:t,r.b=n?function(e){try{var r=n.call(i,e);void 0===r&&e instanceof Fe?o(e):t(r)}catch(s){o(s)}}:o})),r.a.c=t,Te(t,r),r.a}function Ne(t,e,n){t.a==ye&&(t===n&&(e=xe,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Pe(n,t.Yc,t.Zc,t)||(t.i=n,t.a=e,t.c=null,Le(t),e!=xe||n instanceof Fe||function(t,e){t.g=!0,fe((function(){t.g&&Me.call(null,e)}))}(t,n)))}function Pe(t,e,n,i){if(t instanceof me)return Te(t,Ae(e||c,n||null,i)),!0;if(N(t))return t.then(e,n,i),!0;if(f(t))try{var r=t.then;if(d(r))return function(t,e,n,i,r){function o(t){s||(s=!0,i.call(r,t))}var s=!1;try{e.call(t,(function(t){s||(s=!0,n.call(r,t))}),o)}catch(a){o(a)}}(t,r,e,n,i),!0}catch(o){return n.call(i,o),!0}return!1}function Le(t){t.h||(t.h=!0,fe(t.ec,t))}function Oe(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function De(t,e,n,i){if(n==xe&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Re(e,n,i);else try{e.c?e.g.call(e.f):Re(e,n,i)}catch(r){Me.call(null,r)}R(Se,e)}function Re(t,e,n){e==be?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}me.prototype.then=function(t,e,n){return Ie(this,d(t)?t:null,d(e)?e:null,n)},me.prototype.$goog_Thenable=!0,(t=me.prototype).ma=function(t,e){return(t=Ae(t,t,e)).c=!0,Te(this,t),this},t.o=function(t,e){return Ie(this,null,t,e)},t.cancel=function(t){if(this.a==ye){var e=new Fe(t);fe((function(){!function t(e,n){if(e.a==ye)if(e.c){var i=e.c;if(i.b){for(var r=0,o=null,s=null,a=i.b;a&&(a.c||(r++,a.a==e&&(o=a),!(o&&1<r)));a=a.next)o||(s=a);o&&(i.a==ye&&1==r?t(i,n):(s?((r=s).next==i.f&&(i.f=r),r.next=r.next.next):Oe(i),De(i,o,xe,n)))}e.c=null}else Ne(e,xe,n)}(this,e)}),this)}},t.Yc=function(t){this.a=ye,Ne(this,be,t)},t.Zc=function(t){this.a=ye,Ne(this,xe,t)},t.ec=function(){for(var t;t=Oe(this);)De(this,t,this.a,this.i);this.h=!1};var Me=de;function Fe(t){P.call(this,t)}function ze(){0!=Ve&&(je[p(this)]=this),this.wa=this.wa,this.na=this.na}S(Fe,P),Fe.prototype.name="cancel";var Ve=0,je={};function Ue(t){if(!t.wa&&(t.wa=!0,t.Ba(),0!=Ve)){var e=p(t);if(0!=Ve&&t.na&&0<t.na.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete je[e]}}ze.prototype.wa=!1,ze.prototype.Ba=function(){if(this.na)for(;this.na.length;)this.na.shift()()};var He=Object.freeze||function(t){return t},Be=!Yt||9<=Number(te),Xe=Yt&&!ne("9"),Ye=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{s.addEventListener("test",c,e),s.removeEventListener("test",c,e)}catch(n){}return t}();function We(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Ge(t,e){if(We.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(qt){t:{try{Ut(e.nodeName);var r=!0;break t}catch(o){}r=!1}r||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:qe[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}We.prototype.preventDefault=function(){this.defaultPrevented=!0},S(Ge,We);var qe=He({2:"touch",3:"pen",4:"mouse"});Ge.prototype.preventDefault=function(){Ge.Za.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Xe)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Ge.prototype.f=function(){return this.a};var $e="closure_listenable_"+(1e6*Math.random()|0),Ke=0;function Ze(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.Ta=r,this.key=++Ke,this.ua=this.Na=!1}function Qe(t){t.ua=!0,t.listener=null,t.proxy=null,t.src=null,t.Ta=null}function Je(t){this.src=t,this.a={},this.b=0}function tn(t,e){var n=e.type;n in t.a&&W(t.a[n],e)&&(Qe(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function en(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r];if(!o.ua&&o.listener==e&&o.capture==!!n&&o.Ta==i)return r}return-1}Je.prototype.add=function(t,e,n,i,r){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=en(t,e,i,r);return-1<s?(e=t[s],n||(e.Na=!1)):((e=new Ze(e,this.src,o,!!i,r)).Na=n,t.push(e)),e};var nn="closure_lm_"+(1e6*Math.random()|0),rn={};function on(t,e,n,i,r){if(i&&i.once)an(t,e,n,i,r);else if(Array.isArray(e))for(var o=0;o<e.length;o++)on(t,e[o],n,i,r);else n=vn(n),t&&t[$e]?yn(t,e,n,f(i)?!!i.capture:!!i,r):sn(t,e,n,!1,i,r)}function sn(t,e,n,i,r,o){if(!e)throw Error("Invalid event type");var s=f(r)?!!r.capture:!!r,a=pn(t);if(a||(t[nn]=a=new Je(t)),!(n=a.add(e,n,i,s,o)).proxy)if(i=function(){var t=fn,e=Be?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)Ye||(r=s),void 0===r&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(un(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}}function an(t,e,n,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)an(t,e[o],n,i,r);else n=vn(n),t&&t[$e]?bn(t,e,n,f(i)?!!i.capture:!!i,r):sn(t,e,n,!0,i,r)}function ln(t,e,n,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)ln(t,e[o],n,i,r);else i=f(i)?!!i.capture:!!i,n=vn(n),t&&t[$e]?(t=t.u,(e=String(e).toString())in t.a&&-1<(n=en(o=t.a[e],n,i,r))&&(Qe(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=pn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=en(e,n,i,r)),(n=-1<t?e[t]:null)&&cn(n))}function cn(t){if("number"!=typeof t&&t&&!t.ua){var e=t.src;if(e&&e[$e])tn(e.u,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(un(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=pn(e))?(tn(n,t),0==n.b&&(n.src=null,e[nn]=null)):Qe(t)}}}function un(t){return t in rn?rn[t]:rn[t]="on"+t}function hn(t,e,n,i){var r=!0;if((t=pn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.ua&&(o=dn(o,i),r=r&&!1!==o)}return r}function dn(t,e){var n=t.listener,i=t.Ta||t.src;return t.Na&&cn(t),n.call(i,e)}function fn(t,e){if(t.ua)return!0;if(!Be){if(!e)t:{e=["window","event"];for(var n=s,i=0;i<e.length;i++)if(null==(n=n[e[i]])){e=null;break t}e=n}if(e=new Ge(i=e,this),n=!0,!(0>i.keyCode||null!=i.returnValue)){t:{var r=!1;if(0==i.keyCode)try{i.keyCode=-1;break t}catch(a){r=!0}(r||null==i.returnValue)&&(i.returnValue=!0)}for(i=[],r=e.b;r;r=r.parentNode)i.push(r);for(t=t.type,r=i.length-1;0<=r;r--){e.b=i[r];var o=hn(i[r],t,!0,e);n=n&&o}for(r=0;r<i.length;r++)e.b=i[r],o=hn(i[r],t,!1,e),n=n&&o}return n}return dn(t,new Ge(e,this))}function pn(t){return(t=t[nn])instanceof Je?t:null}var gn="__closure_events_fn_"+(1e9*Math.random()>>>0);function vn(t){return d(t)?t:(t[gn]||(t[gn]=function(e){return t.handleEvent(e)}),t[gn])}function mn(){ze.call(this),this.u=new Je(this),this.Yb=this,this.eb=null}function yn(t,e,n,i,r){t.u.add(String(e),n,!1,i,r)}function bn(t,e,n,i,r){t.u.add(String(e),n,!0,i,r)}function xn(t,e,n,i){if(!(e=t.u.a[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.ua&&s.capture==n){var a=s.listener,l=s.Ta||s.src;s.Na&&tn(t.u,s),r=!1!==a.call(l,i)&&r}}return r&&!i.defaultPrevented}function wn(t,e,n){if(d(t))n&&(t=b(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=b(t.handleEvent,t)}return 2147483647<Number(e)?-1:s.setTimeout(t,e||0)}function Sn(t){var e=null;return new me((function(n,i){-1==(e=wn((function(){n(void 0)}),t))&&i(Error("Failed to schedule timer."))})).o((function(t){throw s.clearTimeout(e),t}))}function An(t){if(t.V&&"function"==typeof t.V)return t.V();if("string"==typeof t)return t.split("");if(h(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}function En(t){if(t.X&&"function"==typeof t.X)return t.X();if(!t.V||"function"!=typeof t.V){if(h(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var i in e=[],n=0,t)e[n++]=i;return e}}function kn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(t)if(t instanceof kn)for(n=t.X(),i=0;i<n.length;i++)this.set(n[i],t.get(n[i]));else for(i in t)this.set(i,t[i])}function _n(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var i=t.a[e];Cn(t.b,i)&&(t.a[n++]=i),e++}t.a.length=n}if(t.c!=t.a.length){var r={};for(n=e=0;e<t.a.length;)Cn(r,i=t.a[e])||(t.a[n++]=i,r[i]=1),e++;t.a.length=n}}function Cn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}S(mn,ze),mn.prototype[$e]=!0,mn.prototype.addEventListener=function(t,e,n,i){on(this,t,e,n,i)},mn.prototype.removeEventListener=function(t,e,n,i){ln(this,t,e,n,i)},mn.prototype.dispatchEvent=function(t){var e,n=this.eb;if(n)for(e=[];n;n=n.eb)e.push(n);n=this.Yb;var i=t.type||t;if("string"==typeof t)t=new We(t,n);else if(t instanceof We)t.target=t.target||n;else{var r=t;pt(t=new We(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];r=xn(s,i,!0,t)&&r}if(r=xn(s=t.b=n,i,!0,t)&&r,r=xn(s,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=xn(s=t.b=e[o],i,!1,t)&&r;return r},mn.prototype.Ba=function(){if(mn.Za.Ba.call(this),this.u){var t,e=this.u;for(t in e.a){for(var n=e.a[t],i=0;i<n.length;i++)Qe(n[i]);delete e.a[t],e.b--}}this.eb=null},(t=kn.prototype).V=function(){_n(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.X=function(){return _n(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Cn(this.b,t)?this.b[t]:e},t.set=function(t,e){Cn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.X(),i=0;i<n.length;i++){var r=n[i],o=this.get(r);t.call(e,o,r,this)}};var Tn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/\\#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function In(t,e){var n;this.b=this.i=this.f="",this.l=null,this.g=this.c="",this.h=!1,t instanceof In?(this.h=void 0!==e?e:t.h,Nn(this,t.f),this.i=t.i,this.b=t.b,Pn(this,t.l),this.c=t.c,Ln(this,Zn(t.a)),this.g=t.g):t&&(n=String(t).match(Tn))?(this.h=!!e,Nn(this,n[1]||"",!0),this.i=Fn(n[2]||""),this.b=Fn(n[3]||"",!0),Pn(this,n[4]),this.c=Fn(n[5]||"",!0),Ln(this,n[6]||"",!0),this.g=Fn(n[7]||"")):(this.h=!!e,this.a=new Yn(null,this.h))}function Nn(t,e,n){t.f=n?Fn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Pn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.l=e}else t.l=null}function Ln(t,e,n){e instanceof Yn?(t.a=e,function(t,e){e&&!t.f&&(Wn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(qn(this,e),Kn(this,n,t))}),t)),t.f=e}(t.a,t.h)):(n||(e=zn(e,Bn)),t.a=new Yn(e,t.h))}function On(t,e,n){t.a.set(e,n)}function Dn(t,e){return t.a.get(e)}function Rn(t){return t instanceof In?new In(t):new In(t,void 0)}function Mn(t,e){var n=new In(null,void 0);return Nn(n,"https"),t&&(n.b=t),e&&(n.c=e),n}function Fn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function zn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Vn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Vn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}In.prototype.toString=function(){var t=[],e=this.f;e&&t.push(zn(e,jn,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.i)&&t.push(zn(e,jn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.l)&&t.push(":",String(n))),(n=this.c)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(zn(n,"/"==n.charAt(0)?Hn:Un,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.g)&&t.push("#",zn(n,Xn)),t.join("")},In.prototype.resolve=function(t){var e=new In(this),n=!!t.f;n?Nn(e,t.f):n=!!t.i,n?e.i=t.i:n=!!t.b,n?e.b=t.b:n=null!=t.l;var i=t.c;if(n)Pn(e,t.l);else if(n=!!t.c){if("/"!=i.charAt(0))if(this.b&&!this.c)i="/"+i;else{var r=e.c.lastIndexOf("/");-1!=r&&(i=e.c.substr(0,r+1)+i)}if(".."==(r=i)||"."==r)i="";else if(ot(r,"./")||ot(r,"/.")){i=0==r.lastIndexOf("/",0),r=r.split("/");for(var o=[],s=0;s<r.length;){var a=r[s++];"."==a?i&&s==r.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),i&&s==r.length&&o.push("")):(o.push(a),i=!0)}i=o.join("/")}else i=r}return n?e.c=i:n=""!==t.a.toString(),n?Ln(e,Zn(t.a)):n=!!t.g,n&&(e.g=t.g),e};var jn=/[#\/\?@]/g,Un=/[#\?:]/g,Hn=/[#\?]/g,Bn=/[#\?@]/g,Xn=/#/g;function Yn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Wn(t){t.a||(t.a=new kn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var o=t[n].substring(0,i);r=t[n].substring(i+1)}else o=t[n];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Gn(t){var e=En(t);if(void 0===e)throw Error("Keys are undefined");var n=new Yn(null,void 0);t=An(t);for(var i=0;i<e.length;i++){var r=e[i],o=t[i];Array.isArray(o)?Kn(n,r,o):n.add(r,o)}return n}function qn(t,e){Wn(t),e=Qn(t,e),Cn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Cn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&_n(t)))}function $n(t,e){return Wn(t),e=Qn(t,e),Cn(t.a.b,e)}function Kn(t,e,n){qn(t,e),0<n.length&&(t.c=null,t.a.set(Qn(t,e),$(n)),t.b+=n.length)}function Zn(t){var e=new Yn;return e.c=t.c,t.a&&(e.a=new kn(t.a),e.b=t.b),e}function Qn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Jn(t){var e=[];return function t(e,n,i){if(null==n)i.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var r=n;n=r.length,i.push("[");for(var o="",s=0;s<n;s++)i.push(o),t(e,r[s],i),o=",";return void i.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(r in i.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,r)&&"function"!=typeof(s=n[r])&&(i.push(o),ii(r,i),i.push(":"),t(e,s,i),o=",");return void i.push("}")}n=n.valueOf()}switch(typeof n){case"string":ii(n,i);break;case"number":i.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":i.push(String(n));break;case"function":i.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new ti,t,e),e.join("")}function ti(){}(t=Yn.prototype).add=function(t,e){Wn(this),this.c=null,t=Qn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Wn(this),this.a.forEach((function(n,i){U(n,(function(n){t.call(e,n,i,this)}),this)}),this)},t.X=function(){Wn(this);for(var t=this.a.V(),e=this.a.X(),n=[],i=0;i<e.length;i++)for(var r=t[i],o=0;o<r.length;o++)n.push(e[i]);return n},t.V=function(t){Wn(this);var e=[];if("string"==typeof t)$n(this,t)&&(e=q(e,this.a.get(Qn(this,t))));else{t=this.a.V();for(var n=0;n<t.length;n++)e=q(e,t[n])}return e},t.set=function(t,e){return Wn(this),this.c=null,$n(this,t=Qn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.X(),n=0;n<e.length;n++){var i=e[n],r=encodeURIComponent(String(i));i=this.V(i);for(var o=0;o<i.length;o++){var s=r;""!==i[o]&&(s+="="+encodeURIComponent(String(i[o]))),t.push(s)}}return this.c=t.join("&")};var ei={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ni=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ii(t,e){e.push('"',t.replace(ni,(function(t){var e=ei[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),ei[t]=e),e})),'"')}function ri(){var t=Si();return Yt&&!!te&&11==te||/Edge\/\d+/.test(t)}function oi(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function si(t,e){e=e||s.window;var n="about:blank";t&&(n=It(Pt(t))),e.location.href=n}function ai(t){return!!((t=(t||Si()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function li(t){t=t||s.window;try{t.close()}catch(e){}}function ci(t,e,n){var i=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var r=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<r?r:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Si().toLowerCase(),i&&(e.target=i,ot(n,"crios/")&&(e.target="_blank")),bi(Si())==yi&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),i=window,e=n instanceof Tt?n:Pt(void 0!==n.href?n.href:String(n)),n=t.target||n.target,r=[],t)switch(s){case"width":case"height":case"top":case"left":r.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:r.push(s+"="+(t[s]?1:0))}var s=r.join(",");if((ct("iPhone")&&!ct("iPod")&&!ct("iPad")||ct("iPad")||ct("iPod"))&&i.navigator&&i.navigator.standalone&&n&&"_self"!=n?(gt(s=ue(document,"A"),"HTMLAnchorElement"),e instanceof Tt||e instanceof Tt||(e="object"==typeof e&&e.ra?e.qa():String(e),Nt.test(e)||(e="about:invalid#zClosurez"),e=new Tt(Ot,e)),s.href=It(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,i,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=i.open("",n,s),t=It(e),s&&(Gt&&ot(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t=Ft('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+jt(t)+'">'),i=s.document)&&(i.write(Rt(t)),i.close())):(s=i.open(It(e),n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(a){}return s}var ui=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hi=/^[^@]+@[^@]+$/;function di(){var t=null;return new me((function(e){"complete"==s.document.readyState?e():(t=function(){e()},an(window,"load",t))})).o((function(e){throw ln(window,"load",t),e}))}function fi(t){return t=t||Si(),!("file:"!==Ci()&&"ionic:"!==Ci()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function pi(){var t=s.window;try{return!(!t||t==t.top)}catch(e){return!1}}function gi(){return void 0!==s.WorkerGlobalScope&&"function"==typeof s.importScripts}function vi(){return Fp.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Fp.a.INTERNAL.hasOwnProperty("node")?"Node":gi()?"Worker":"Browser"}function mi(){var t=vi();return"ReactNative"===t||"Node"===t}var yi="Firefox";function bi(t){var e=t.toLowerCase();return ot(e,"opera/")||ot(e,"opr/")||ot(e,"opios/")?"Opera":ot(e,"iemobile")?"IEMobile":ot(e,"msie")||ot(e,"trident/")?"IE":ot(e,"edge/")?"Edge":ot(e,"firefox/")?yi:ot(e,"silk/")?"Silk":ot(e,"blackberry")?"Blackberry":ot(e,"webos")?"Webos":!ot(e,"safari/")||ot(e,"chrome/")||ot(e,"crios/")||ot(e,"android")?!ot(e,"chrome/")&&!ot(e,"crios/")||ot(e,"edge/")?ot(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":"Chrome":"Safari"}var xi={jd:"FirebaseCore-web",ld:"FirebaseUI-web"};function wi(t,e){e=e||[];var n,i=[],r={};for(n in xi)r[xi[n]]=!0;for(n=0;n<e.length;n++)void 0!==r[e[n]]&&(delete r[e[n]],i.push(e[n]));return i.sort(),(e=i).length||(e=["FirebaseCore-web"]),"Browser"===(i=vi())?i=bi(r=Si()):"Worker"===i&&(i=bi(r=Si())+"-"+i),i+"/JsCore/"+t+"/"+e.join(",")}function Si(){return s.navigator&&s.navigator.userAgent||""}function Ai(t,e){t=t.split("."),e=e||s;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Ei(){try{var t=s.localStorage,e=Li();if(t)return t.setItem(e,"1"),t.removeItem(e),!ri()||!!s.indexedDB}catch(n){return gi()&&!!s.indexedDB}return!1}function ki(){return(_i()||"chrome-extension:"===Ci()||fi())&&!mi()&&Ei()&&!gi()}function _i(){return"http:"===Ci()||"https:"===Ci()}function Ci(){return s.location&&s.location.protocol||null}function Ti(t){return!ai(t=t||Si())&&bi(t)!=yi}function Ii(t){return void 0===t?null:Jn(t)}function Ni(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(n[e]=t[e]);return n}function Pi(t){if(null!==t)return JSON.parse(t)}function Li(t){return t||Math.floor(1e9*Math.random()).toString()}function Oi(t){return"Safari"!=bi(t=t||Si())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Di(){var t=s.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Ri(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Si(),e=vi(),this.b=ai(t)||"ReactNative"===e}function Mi(){var t=s.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Fi(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function zi(){return!(!Ai("fireauth.oauthhelper",s)&&!Ai("fireauth.iframe",s))}Ri.prototype.get=function(){var t=s.navigator;return!t||"boolean"!=typeof t.onLine||!_i()&&"chrome-extension:"!==Ci()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Vi,ji={};function Ui(t){ji[t]||(ji[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Hi={};Object.defineProperty(Hi,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Hi,"abcd",{configurable:!0,enumerable:!0,value:2}),Vi=2==Hi.abcd}catch(Bt){Vi=!1}function Bi(t,e,n){Vi?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Xi(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Bi(t,n,e[n])}function Yi(t){var e={};return Xi(e,t),e}function Wi(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Bi(e,n,Wi(t[n]));return e}function Gi(t){var e=t&&(t[Qi]?"phone":null);if(!(e&&t&&t[Zi]))throw new A("internal-error","Internal assert: invalid MultiFactorInfo object");Bi(this,"uid",t[Zi]),Bi(this,"displayName",t[$i]||null);var n=null;t[Ki]&&(n=new Date(t[Ki]).toUTCString()),Bi(this,"enrollmentTime",n),Bi(this,"factorId",e)}function qi(t){try{var e=new Ji(t)}catch(n){e=null}return e}Gi.prototype.v=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var $i="displayName",Ki="enrolledAt",Zi="mfaEnrollmentId",Qi="phoneInfo";function Ji(t){Gi.call(this,t),Bi(this,"phoneNumber",t[Qi])}function tr(t){var e={},n=t[rr],i=t[sr],r=t[ar];if(t=qi(t[or]),!r||r!=nr&&r!=ir&&!n||r==ir&&!i||r==er&&!t)throw Error("Invalid checkActionCode response!");r==ir?(e[cr]=n||null,e[hr]=n||null,e[lr]=i):(e[cr]=i||null,e[hr]=i||null,e[lr]=n||null),e[ur]=t||null,Bi(this,fr,r),Bi(this,dr,Wi(e))}S(Ji,Gi),Ji.prototype.v=function(){var t=Ji.Za.v.call(this);return t.phoneNumber=this.phoneNumber,t};var er="REVERT_SECOND_FACTOR_ADDITION",nr="EMAIL_SIGNIN",ir="VERIFY_AND_CHANGE_EMAIL",rr="email",or="mfaInfo",sr="newEmail",ar="requestType",lr="email",cr="fromEmail",ur="multiFactorInfo",hr="previousEmail",dr="data",fr="operation";function pr(t){var e=Dn(t=Rn(t),gr)||null,n=Dn(t,vr)||null,i=Dn(t,br)||null;if(i=i&&wr[i]||null,!e||!n||!i)throw new A("argument-error",gr+", "+vr+"and "+br+" are required in a valid action code URL.");Xi(this,{apiKey:e,operation:i,code:n,continueUrl:Dn(t,mr)||null,languageCode:Dn(t,yr)||null,tenantId:Dn(t,xr)||null})}var gr="apiKey",vr="oobCode",mr="continueUrl",yr="languageCode",br="mode",xr="tenantId",wr={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:er,signIn:nr,verifyAndChangeEmail:ir,verifyEmail:"VERIFY_EMAIL"};function Sr(t){try{return new pr(t)}catch(e){return null}}function Ar(t){var e=t[Tr];if(void 0===e)throw new A("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new A("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Er];if(n&&"object"==typeof n){e=n[Pr];var i=n[Ir];if(n=n[Nr],"string"==typeof e&&e.length){if(this.a=e,void 0!==i&&"boolean"!=typeof i)throw new A("argument-error",Ir+" property must be a boolean when specified.");if(this.g=!!i,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new A("argument-error",Nr+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new A("argument-error",Pr+" property must be a non empty string when specified.");if(void 0!==i||void 0!==n)throw new A("missing-android-pkg-name")}}else if(void 0!==n)throw new A("argument-error",Er+" property must be a non null object when specified.");if(this.f=null,(e=t[Cr])&&"object"==typeof e){if("string"==typeof(e=e[Lr])&&e.length)this.f=e;else if(void 0!==e)throw new A("argument-error",Lr+" property must be a non empty string when specified.")}else if(void 0!==e)throw new A("argument-error",Cr+" property must be a non null object when specified.");if(void 0!==(e=t[_r])&&"boolean"!=typeof e)throw new A("argument-error",_r+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[kr])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new A("argument-error",kr+" property must be a non empty string when specified.");this.i=t||null}var Er="android",kr="dynamicLinkDomain",_r="handleCodeInApp",Cr="iOS",Tr="url",Ir="installApp",Nr="minimumVersion",Pr="packageName",Lr="bundleId";function Or(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Dr=null;function Rr(t){var e=Fr(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.g=t,this.c=e.exp,this.h=e.sub,w(),this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function Mr(t){try{return new Rr(t)}catch(e){return null}}function Fr(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(function(t){var e="";return function(t,e){function n(e){for(;i<t.length;){var n=t.charAt(i++),r=Dr[n];if(null!=r)return r;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Dr){Dr={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var i=t.concat(e[n].split("")),r=0;r<i.length;r++){var o=i[r];void 0===Dr[o]&&(Dr[o]=r)}}}();for(var i=0;;){var r=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===r)break;e(r<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,(function(t){e+=String.fromCharCode(t)})),e}(t))}catch(i){}return null}Rr.prototype.S=function(){return this.f},Rr.prototype.i=function(){return this.b},Rr.prototype.toString=function(){return this.g};var zr="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Vr=["client_id","response_type","scope","redirect_uri","state"],jr={kd:{Ha:"locale",ta:700,sa:600,ea:"facebook.com",Va:Vr},md:{Ha:null,ta:500,sa:750,ea:"github.com",Va:Vr},nd:{Ha:"hl",ta:515,sa:680,ea:"google.com",Va:Vr},td:{Ha:"lang",ta:485,sa:705,ea:"twitter.com",Va:zr},gd:{Ha:"locale",ta:640,sa:600,ea:"apple.com",Va:[]}};function Ur(t){for(var e in jr)if(jr[e].ea==t)return jr[e];return null}function Hr(t){var e={};e["facebook.com"]=Gr,e["google.com"]=$r,e["github.com"]=qr,e["twitter.com"]=Kr;var n=t&&t[Xr];try{if(n)return e[n]?new e[n](t):new Wr(t);if(void 0!==t[Br])return new Yr(t)}catch(i){}return null}var Br="idToken",Xr="providerId";function Yr(t){var e=t[Xr];if(!e&&t[Br]){var n=Mr(t[Br]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Bi(this,"providerId",e),Bi(this,"isNewUser",n)}function Wr(t){Yr.call(this,t),Bi(this,"profile",Wi((t=Pi(t.rawUserInfo||"{}"))||{}))}function Gr(t){if(Wr.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function qr(t){if(Wr.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Bi(this,"username",this.profile&&this.profile.login||null)}function $r(t){if(Wr.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Kr(t){if(Wr.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Bi(this,"username",t.screenName||null)}function Zr(t){var e=Rn(t),n=Dn(e,"link"),i=Dn(Rn(n),"link");return e=Dn(e,"deep_link_id"),Dn(Rn(e),"link")||e||i||n||t}function Qr(t,e){if(!t&&!e)throw new A("internal-error","Internal assert: no raw session string available");if(t&&e)throw new A("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?Jr:to}S(Wr,Yr),S(Gr,Wr),S(qr,Wr),S($r,Wr),S(Kr,Wr);var Jr="enroll",to="signin";function eo(){}function no(t,e){return t.then((function(t){if(t[Hs]){var n=Mr(t[Hs]);if(!n||e!=n.h)throw new A("user-mismatch");return t}throw new A("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==_+"user-not-found"?new A("user-mismatch"):t}))}function io(t,e){if(!e)throw new A("internal-error","failed to construct a credential");this.a=e,Bi(this,"providerId",t),Bi(this,"signInMethod",t)}function ro(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function oo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new io(t.providerId,t.pendingToken)}catch(e){}return null}function so(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Bi(this,"idToken",e.idToken),e.accessToken&&Bi(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Bi(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new A("internal-error","failed to construct a credential");Bi(this,"accessToken",e.oauthToken),Bi(this,"secret",e.oauthTokenSecret)}Bi(this,"providerId",t),Bi(this,"signInMethod",n)}function ao(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Gn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function lo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new so(t.providerId,e,t.signInMethod)}catch(n){}}return null}function co(t,e){this.Oc=e||[],Xi(this,{providerId:t,isOAuthProvider:!0}),this.Fb={},this.lb=(Ur(t)||{}).Ha||null,this.kb=null}function uo(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new A("argument-error",'SAML provider IDs must be prefixed with "saml."');co.call(this,t,[])}function ho(t){co.call(this,t,Vr),this.a=[]}function fo(){ho.call(this,"facebook.com")}function po(t){if(!t)throw new A("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return f(t)&&(e=t.accessToken),(new fo).credential({accessToken:e})}function go(){ho.call(this,"github.com")}function vo(t){if(!t)throw new A("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return f(t)&&(e=t.accessToken),(new go).credential({accessToken:e})}function mo(){ho.call(this,"google.com"),this.Aa("profile")}function yo(t,e){var n=t;return f(t)&&(n=t.idToken,e=t.accessToken),(new mo).credential({idToken:n,accessToken:e})}function bo(){co.call(this,"twitter.com",zr)}function xo(t,e){var n=t;if(f(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new A("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new so("twitter.com",n,"twitter.com")}function wo(t,e,n){this.a=t,this.f=e,Bi(this,"providerId","password"),Bi(this,"signInMethod",n===Ao.EMAIL_LINK_SIGN_IN_METHOD?Ao.EMAIL_LINK_SIGN_IN_METHOD:Ao.EMAIL_PASSWORD_SIGN_IN_METHOD)}function So(t){return t&&t.email&&t.password?new wo(t.email,t.password,t.signInMethod):null}function Ao(){Xi(this,{providerId:"password",isOAuthProvider:!1})}function Eo(t,e){if(!(e=ko(e)))throw new A("argument-error","Invalid email link!");return new wo(t,e.code,Ao.EMAIL_LINK_SIGN_IN_METHOD)}function ko(t){return(t=Sr(t=Zr(t)))&&t.operation===nr?t:null}function _o(t){if(!(t.bb&&t.ab||t.Ja&&t.da))throw new A("internal-error");this.a=t,Bi(this,"providerId","phone"),this.ea="phone",Bi(this,"signInMethod","phone")}function Co(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return U(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new _o(e)}return null}function To(t){return t.a.Ja&&t.a.da?{temporaryProof:t.a.Ja,phoneNumber:t.a.da}:{sessionInfo:t.a.bb,code:t.a.ab}}function Io(t){try{this.a=t||Fp.a.auth()}catch(e){throw new A("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Xi(this,{providerId:"phone",isOAuthProvider:!1})}function No(t,e){if(!t)throw new A("missing-verification-id");if(!e)throw new A("missing-verification-code");return new _o({bb:t,ab:e})}function Po(t){if(t.temporaryProof&&t.phoneNumber)return new _o({Ja:t.temporaryProof,da:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,i=t&&t.oauthTokenSecret,r=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return yo(o,n);case"facebook.com":return po(n);case"github.com":return vo(n);case"twitter.com":return xo(n,i);default:return n||i||o||s?s?0==e.indexOf("saml.")?new io(e,s):new so(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new ho(e).credential({idToken:o,accessToken:n,rawNonce:r}):null}}catch(a){return null}}function Lo(t){if(!t.isOAuthProvider)throw new A("invalid-oauth-provider")}function Oo(t,e,n,i,r,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=i||null,this.i=o||null,this.h=s||null,this.a=r||null,!this.g&&!this.a)throw new A("invalid-auth-event");if(this.g&&this.a)throw new A("invalid-auth-event");if(this.g&&!this.f)throw new A("invalid-auth-event")}function Do(t){return(t=t||{}).type?new Oo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&E(t.error),t.postBody,t.tenantId):null}function Ro(){this.b=null,this.a=[]}Qr.prototype.Fa=function(){return Ee(this.a?this.a:this.b)},Qr.prototype.v=function(){return this.type==Jr?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},eo.prototype.ia=function(){},eo.prototype.b=function(){},eo.prototype.c=function(){},eo.prototype.v=function(){},io.prototype.ia=function(t){return aa(t,ro(this))},io.prototype.b=function(t,e){var n=ro(this);return n.idToken=e,la(t,n)},io.prototype.c=function(t,e){return no(ca(t,ro(this)),e)},io.prototype.v=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},so.prototype.ia=function(t){return aa(t,ao(this))},so.prototype.b=function(t,e){var n=ao(this);return n.idToken=e,la(t,n)},so.prototype.c=function(t,e){return no(ca(t,ao(this)),e)},so.prototype.v=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},co.prototype.Ia=function(t){return this.Fb=dt(t),this},S(uo,co),S(ho,co),ho.prototype.Aa=function(t){return Y(this.a,t)||this.a.push(t),this},ho.prototype.Nb=function(){return $(this.a)},ho.prototype.credential=function(t,e){var n;if(!(n=f(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new A("argument-error","credential failed: must provide the ID token and/or the access token.");return new so(this.providerId,n,this.providerId)},S(fo,ho),Bi(fo,"PROVIDER_ID","facebook.com"),Bi(fo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),S(go,ho),Bi(go,"PROVIDER_ID","github.com"),Bi(go,"GITHUB_SIGN_IN_METHOD","github.com"),S(mo,ho),Bi(mo,"PROVIDER_ID","google.com"),Bi(mo,"GOOGLE_SIGN_IN_METHOD","google.com"),S(bo,co),Bi(bo,"PROVIDER_ID","twitter.com"),Bi(bo,"TWITTER_SIGN_IN_METHOD","twitter.com"),wo.prototype.ia=function(t){return this.signInMethod==Ao.EMAIL_LINK_SIGN_IN_METHOD?Xa(t,ma,{email:this.a,oobCode:this.f}):Xa(t,Va,{email:this.a,password:this.f})},wo.prototype.b=function(t,e){return this.signInMethod==Ao.EMAIL_LINK_SIGN_IN_METHOD?Xa(t,ya,{idToken:e,email:this.a,oobCode:this.f}):Xa(t,Pa,{idToken:e,email:this.a,password:this.f})},wo.prototype.c=function(t,e){return no(this.ia(t),e)},wo.prototype.v=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Xi(Ao,{PROVIDER_ID:"password"}),Xi(Ao,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Xi(Ao,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),_o.prototype.ia=function(t){return t.cb(To(this))},_o.prototype.b=function(t,e){var n=To(this);return n.idToken=e,Xa(t,Ua,n)},_o.prototype.c=function(t,e){var n=To(this);return n.operation="REAUTH",no(t=Xa(t,Ha,n),e)},_o.prototype.v=function(){var t={providerId:"phone"};return this.a.bb&&(t.verificationId=this.a.bb),this.a.ab&&(t.verificationCode=this.a.ab),this.a.Ja&&(t.temporaryProof=this.a.Ja),this.a.da&&(t.phoneNumber=this.a.da),t},Io.prototype.cb=function(t,e){var n=this.a.b;return Ee(e.verify()).then((function(i){if("string"!=typeof i)throw new A("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var r=f(t)?t.session:null,o=f(t)?t.phoneNumber:t;return(r&&r.type==Jr?r.Fa().then((function(t){return function(t,e){return Xa(t,Oa,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:i}})})):r&&r.type==to?r.Fa().then((function(e){return function(t,e){return Xa(t,Da,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:i}})})):function(t,e){return Xa(t,Ia,e)}(n,{phoneNumber:o,recaptchaToken:i})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new A("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Xi(Io,{PROVIDER_ID:"phone"}),Xi(Io,{PHONE_SIGN_IN_METHOD:"phone"}),Oo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Oo.prototype.S=function(){return this.h},Oo.prototype.v=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.v()}};var Mo,Fo=null;function zo(t){var e="unauthorized-domain",n=void 0,i=Rn(t);t=i.b,"chrome-extension"==(i=i.f)?n=Vt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==i||"https"==i?n=Vt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",A.call(this,e,n)}function Vo(t,e,n){A.call(this,t,n),(t=e||{}).Gb&&Bi(this,"email",t.Gb),t.da&&Bi(this,"phoneNumber",t.da),t.credential&&Bi(this,"credential",t.credential),t.Wb&&Bi(this,"tenantId",t.Wb)}function jo(t){if(t.code){var e=t.code||"";0==e.indexOf(_)&&(e=e.substring(_.length));var n={credential:Po(t),Wb:t.tenantId};if(t.email)n.Gb=t.email;else if(t.phoneNumber)n.da=t.phoneNumber;else if(!n.credential)return new A(e,t.message||void 0);return new Vo(e,n,t.message)}return null}function Uo(){}function Ho(){}function Bo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var i=e[n];try{return new ActiveXObject(i),t.f=i}catch(r){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Xo(){}function Yo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=b(this.oc,this),this.a.onerror=b(this.Pb,this),this.a.onprogress=b(this.pc,this),this.a.ontimeout=b(this.tc,this)}function Wo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Go(t,e,n){this.reset(t,e,n,void 0,void 0)}function qo(t){this.f=t,this.b=this.c=this.a=null}function $o(t,e){this.name=t,this.value=e}S(zo,A),S(Vo,A),Vo.prototype.v=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.v();return e&&pt(t,e),t},Vo.prototype.toJSON=function(){return this.v()},Uo.prototype.c=null,S(Ho,Uo),Ho.prototype.a=function(){var t=Bo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Ho.prototype.b=function(){var t={};return Bo(this)&&(t[0]=!0,t[1]=!0),t},Mo=new Ho,S(Xo,Uo),Xo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Yo;throw Error("Unsupported browser")},Xo.prototype.b=function(){return{}},(t=Yo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.oc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Wo(this,4)},t.Pb=function(){this.status=500,this.response=this.responseText="",Wo(this,4)},t.tc=function(){this.Pb()},t.pc=function(){this.status=200,Wo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Go.prototype.a=null,Go.prototype.reset=function(t,e,n,i,r){i||w(),delete this.a},$o.prototype.toString=function(){return this.name};var Ko=new $o("SEVERE",1e3),Zo=new $o("WARNING",900),Qo=new $o("CONFIG",700),Jo=new $o("FINE",500);qo.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(O("Root logger has no level set."),null)}(this).value)for(d(e)&&(e=e()),t=new Go(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var ts={},es=null;function ns(t){var e;if(es||(es=new qo(""),ts[""]=es,es.c=Qo),!(e=ts[t])){e=new qo(t);var n=t.lastIndexOf("."),i=t.substr(n+1);(n=ns(t.substr(0,n))).b||(n.b={}),n.b[i]=e,e.a=n,ts[t]=e}return e}function is(t,e){t&&t.log(Jo,e,void 0)}function rs(t){this.f=t}function os(t){mn.call(this),this.s=t,this.readyState=ss,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=ns("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}S(rs,Uo),rs.prototype.a=function(){return new os(this.f)},rs.prototype.b=function(t){return function(){return t}}({}),S(os,mn);var ss=0;function as(t){t.c.read().then(t.nc.bind(t)).catch(t.Sa.bind(t))}function ls(t,e){e&&t.f&&(t.status=t.f.status,t.statusText=t.f.statusText),t.readyState=4,t.f=null,t.c=null,t.l=null,cs(t)}function cs(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function us(t){mn.call(this),this.headers=new kn,this.D=t||null,this.c=!1,this.B=this.a=null,this.h=this.P=this.l="",this.f=this.O=this.i=this.N=!1,this.g=0,this.s=null,this.m=hs,this.w=this.R=!1}(t=os.prototype).open=function(t,e){if(this.readyState!=ss)throw this.abort(),Error("Error reopening a connection");this.m=t,this.g=e,this.readyState=1,cs(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.i,method:this.m,credentials:void 0,cache:void 0};t&&(e.body=t),this.s.fetch(new Request(this.g,e)).then(this.sc.bind(this),this.Sa.bind(this))},t.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ls(this,!1)),this.readyState=ss},t.sc=function(t){this.a&&(this.f=t,this.b||(this.b=t.headers,this.readyState=2,cs(this)),this.a&&(this.readyState=3,cs(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.qc.bind(this),this.Sa.bind(this)):void 0!==s.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.l=new TextDecoder,as(this)):t.text().then(this.rc.bind(this),this.Sa.bind(this)))))},t.nc=function(t){if(this.a){var e=this.l.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?ls(this,!0):cs(this),3==this.readyState&&as(this)}},t.rc=function(t){this.a&&(this.response=this.responseText=t,ls(this,!0))},t.qc=function(t){this.a&&(this.response=t,ls(this,!0))},t.Sa=function(t){var e=this.h;e&&e.log(Zo,"Failed to fetch url "+this.g,t instanceof Error?t:Error(t)),this.a&&ls(this,!0)},t.setRequestHeader=function(t,e){this.i.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(Zo,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(Zo,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},S(us,mn);var hs="";us.prototype.b=ns("goog.net.XhrIo");var ds=/^https?$/i,fs=["POST","PUT"];function ps(t){return"content-type"==t.toLowerCase()}function gs(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,vs(t),ys(t)}function vs(t){t.N||(t.N=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function ms(t){if(t.c&&void 0!==o)if(t.B[1]&&4==xs(t)&&2==ws(t))is(t.b,Ss(t,"Local request error detected and ignored"));else if(t.i&&4==xs(t))wn(t.Sb,0,t);else if(t.dispatchEvent("readystatechange"),4==xs(t)){is(t.b,Ss(t,"Request complete")),t.c=!1;try{var e,n=ws(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break t;default:i=!1}if(!(e=i)){var r;if(r=0===n){var a=String(t.l).match(Tn)[1]||null;if(!a&&s.self&&s.self.location){var l=s.self.location.protocol;a=l.substr(0,l.length-1)}r=!ds.test(a?a.toLowerCase():"")}e=r}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<xs(t)?t.a.statusText:""}catch(u){is(t.b,"Can not get status: "+u.message),c=""}t.h=c+" ["+ws(t)+"]",vs(t)}}finally{ys(t)}}}function ys(t,e){if(t.a){bs(t);var n=t.a,i=t.B[0]?c:null;t.a=null,t.B=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=i}catch(r){(t=t.b)&&t.log(Ko,"Problem encountered resetting onreadystatechange: "+r.message,void 0)}}}function bs(t){t.a&&t.w&&(t.a.ontimeout=null),t.s&&(s.clearTimeout(t.s),t.s=null)}function xs(t){return t.a?t.a.readyState:0}function ws(t){try{return 2<xs(t)?t.a.status:-1}catch(e){return-1}}function Ss(t,e){return e+" ["+t.P+" "+t.l+" "+ws(t)+"]"}function As(t){var e=Ds;this.g=[],this.w=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.u=this.B=this.i=!1,this.h=0,this.b=null,this.l=0}function Es(t,e,n){t.a=!0,t.c=n,t.f=!e,Ts(t)}function ks(t){if(t.a){if(!t.u)throw new Is(t);t.u=!1}}function _s(t,e,n,i){t.g.push([e,n,i]),t.a&&Ts(t)}function Cs(t){return X(t.g,(function(t){return d(t[1])}))}function Ts(t){if(t.h&&t.a&&Cs(t)){var e=t.h,n=Ls[e];n&&(s.clearTimeout(n.a),delete Ls[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var i=n=!1;t.g.length&&!t.i;){var r=t.g.shift(),o=r[0],a=r[1];if(r=r[2],o=t.f?a:o)try{var l=o.call(r||t.s,e);void 0!==l&&(t.f=t.f&&(l==e||l instanceof Error),t.c=e=l),(N(e)||"function"==typeof s.Promise&&e instanceof s.Promise)&&(i=!0,t.i=!0)}catch(c){e=c,t.f=!0,Cs(t)||(n=!0)}}t.c=e,i&&(l=b(t.m,t,!0),i=b(t.m,t,!1),e instanceof As?(_s(e,l,i),e.B=!0):e.then(l,i)),n&&(e=new Ps(e),Ls[e.a]=e,t.h=e.a)}function Is(){P.call(this)}function Ns(){P.call(this)}function Ps(t){this.a=s.setTimeout(b(this.c,this),0),this.b=t}(t=us.prototype).Ka=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",is(this.b,Ss(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(is(this.b,Ss(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ys(this))},t.Ba=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),ys(this,!0)),us.Za.Ba.call(this)},t.Sb=function(){this.wa||(this.O||this.i||this.f?ms(this):this.Hc())},t.Hc=function(){ms(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case hs:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(Ko,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return is(this.b,"Can not get response: "+e.message),null}},As.prototype.cancel=function(t){if(this.a)this.c instanceof As&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.w?this.w.call(this.s,this):this.u=!0,this.a||(t=new Ns(this),ks(this),Es(this,!1,t))}},As.prototype.m=function(t,e){this.i=!1,Es(this,t,e)},As.prototype.then=function(t,e,n){var i,r,o=new me((function(t,e){i=t,r=e}));return _s(this,i,(function(t){t instanceof Ns?o.cancel():r(t)})),o.then(t,e,n)},As.prototype.$goog_Thenable=!0,S(Is,P),Is.prototype.message="Deferred has already fired",Is.prototype.name="AlreadyCalledError",S(Ns,P),Ns.prototype.message="Deferred was canceled",Ns.prototype.name="CanceledError",Ps.prototype.c=function(){throw delete Ls[this.a],this.b};var Ls={};function Os(t){var e={},n=e.document||document,i=St(t).toString(),r=ue(document,"SCRIPT"),o={Tb:r,Ka:void 0},c=new As(o),u=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(u=window.setTimeout((function(){Rs(r,!0);var t=new zs(Fs,"Timeout reached for loading script "+i);ks(c),Es(c,!1,t)}),h),o.Ka=u),r.onload=r.onreadystatechange=function(){r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(Rs(r,e.ud||!1,u),ks(c),Es(c,!0,null))},r.onerror=function(){Rs(r,!0,u);var t=new zs(Ms,"Error while loading script "+i);ks(c),Es(c,!1,t)},pt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),oe(r,o),function(t,e){gt(t,"HTMLScriptElement"),t.src=St(e),null===l&&(l=(e=(e=s.document).querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&a.test(e)?e:""),(e=l)&&t.setAttribute("nonce",e)}(r,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(r),c}function Ds(){if(this&&this.Tb){var t=this.Tb;t&&"SCRIPT"==t.tagName&&Rs(t,!0,this.Ka)}}function Rs(t,e,n){null!=n&&s.clearTimeout(n),t.onload=c,t.onerror=c,t.onreadystatechange=c,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Ms=0,Fs=1;function zs(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),P.call(this,n),this.code=t}function Vs(t){this.f=t}function js(t,e,n){if(this.c=t,this.u=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Bs,this.g=dt(t.secureTokenHeaders||Xs),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.l=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.i=t.firebaseTimeout||Ys,this.a=dt(t.firebaseHeaders||Ws),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==vi(),!(n=s.XMLHttpRequest||n&&Fp.a.INTERNAL.node&&Fp.a.INTERNAL.node.XMLHttpRequest)&&!gi())throw new A("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=gi()?new rs(self):mi()?new Vs(n):new Xo,this.b=null}S(zs,P),S(Vs,Uo),Vs.prototype.a=function(){return new this.f},Vs.prototype.b=function(){return{}};var Us,Hs="idToken",Bs=new Ri(3e4,6e4),Xs={"Content-Type":"application/x-www-form-urlencoded"},Ys=new Ri(3e4,6e4),Ws={"Content-Type":"application/json"};function Gs(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function qs(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function $s(t,e,n,i,r,o,a){(function(){var t=Si();return!((t="Chrome"!=bi(t)?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Yt&&te&&!(9<te))})()||gi()?t=b(t.w,t):(Us||(Us=new me((function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(s[Zs]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){_s(t,null,e,void 0)}(Os(At(Ks,{onload:Zs})),(function(){e(Error("CORS_UNSUPPORTED"))})))}(t,e)}))),t=b(t.s,t)),t(e,n,i,r,o,a)}js.prototype.S=function(){return this.b},js.prototype.w=function(t,e,n,i,r,o){if(gi()&&(void 0===s.fetch||void 0===s.Headers||void 0===s.Request))throw new A("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new us(this.f);if(o){a.g=Math.max(0,o);var l=setTimeout((function(){a.dispatchEvent("timeout")}),o)}yn(a,"complete",(function(){l&&clearTimeout(l);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return is(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)})),bn(a,"ready",(function(){l&&clearTimeout(l),Ue(this)})),bn(a,"timeout",(function(){l&&clearTimeout(l),Ue(this),e&&e(null)})),function(t,e,n,i,r){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.N=!1,t.c=!0,t.a=t.D?t.D.a():Mo.a(),t.B=function(t){return t.c||(t.c=t.b())}(t.D?t.D:Mo),t.a.onreadystatechange=b(t.Sb,t);try{is(t.b,Ss(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(a){return is(t.b,Ss(t,"Error opening Xhr: "+a.message)),void gs(t,a)}e=i||"";var o=new kn(t.headers);r&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(h(t)||"string"==typeof t)U(t,e,void 0);else for(var n=En(t),i=An(t),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],n&&n[o],t)}(r,(function(t,e){o.set(e,t)})),r=function(t){t:{for(var e=ps,n=t.length,i="string"==typeof t?t.split(""):t,r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t)){e=r;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.X()),i=s.FormData&&e instanceof s.FormData,!Y(fs,n)||r||i||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.R&&(t.a.withCredentials=t.R);try{bs(t),0<t.g&&(t.w=function(t){return Yt&&ne(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),is(t.b,Ss(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.w)),t.w?(t.a.timeout=t.g,t.a.ontimeout=b(t.Ka,t)):t.s=wn(t.Ka,t.g,t)),is(t.b,Ss(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(a){is(t.b,Ss(t,"Send error: "+a.message)),gs(t,a)}}(a,t,n,i,r)};var Ks=new vt(bt,"https://apis.google.com/js/client.js?onload=%{onload}"),Zs="__fcb"+Math.floor(1e6*Math.random()).toString();function Qs(t){if("string"!=typeof(t=t.email)||!hi.test(t))throw new A("invalid-email")}function Js(t){"email"in t&&Qs(t)}function ta(t){if(!t[Hs]){if(t.mfaPendingCredential)throw new A("multi-factor-auth-required",null,dt(t));throw new A("internal-error")}}function ea(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new A("internal-error")}else{if(!t.sessionInfo)throw new A("missing-verification-id");if(!t.code)throw new A("missing-verification-code")}}js.prototype.s=function(t,e,n,i,r){var o=this;Us.then((function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:i,headers:r,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},js.prototype.vb=function(){return Xa(this,La,{})},js.prototype.xb=function(t,e){return Xa(this,Na,{idToken:t,email:e})},js.prototype.yb=function(t,e){return Xa(this,Pa,{idToken:t,password:e})};var na={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ia(t){if(!t.phoneVerificationInfo)throw new A("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new A("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new A("missing-verification-code")}function ra(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new A("internal-error")}function oa(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&$n(t=new Yn(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function sa(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=jo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=jo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=jo(t)):t.errorMessage&&(e=Ya(t.errorMessage)),e)throw e;ta(t)}function aa(t,e){return e.returnIdpCredential=!0,Xa(t,Ra,e)}function la(t,e){return e.returnIdpCredential=!0,Xa(t,Fa,e)}function ca(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Xa(t,Ma,e)}function ua(t){if(!t.oobCode)throw new A("invalid-action-code")}(t=js.prototype).zb=function(t,e){var n={idToken:t},i=[];return ut(na,(function(t,r){var o=e[r];null===o?i.push(t):r in e&&(n[r]=o)})),i.length&&(n.deleteAttribute=i),Xa(this,Na,n)},t.rb=function(t,e){return pt(t={requestType:"PASSWORD_RESET",email:t},e),Xa(this,ka,t)},t.sb=function(t,e){return pt(t={requestType:"EMAIL_SIGNIN",email:t},e),Xa(this,Sa,t)},t.qb=function(t,e){return pt(t={requestType:"VERIFY_EMAIL",idToken:t},e),Xa(this,Aa,t)},t.Ab=function(t,e,n){return pt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),Xa(this,Ea,t)},t.cb=function(t){return Xa(this,ja,t)},t.jb=function(t,e){return Xa(this,Ta,{oobCode:t,newPassword:e})},t.Pa=function(t){return Xa(this,da,{oobCode:t})},t.fb=function(t){return Xa(this,ha,{oobCode:t})};var ha={endpoint:"setAccountInfo",A:ua,Y:"email",C:!0},da={endpoint:"resetPassword",A:ua,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new A("internal-error")},C:!0},fa={endpoint:"signupNewUser",A:function(t){if(Qs(t),!t.password)throw new A("weak-password")},G:ta,U:!0,C:!0},pa={endpoint:"createAuthUri",C:!0},ga={endpoint:"deleteAccount",M:["idToken"]},va={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],A:function(t){if("array"!=u(t.deleteProvider))throw new A("internal-error")}},ma={endpoint:"emailLinkSignin",M:["email","oobCode"],A:Qs,G:ta,U:!0,C:!0},ya={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],A:Qs,G:ta,U:!0},ba={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],A:ia,G:ta,C:!0,La:!0},xa={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],A:ia,G:ta,C:!0,La:!0},wa={endpoint:"getAccountInfo"},Sa={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new A("internal-error");Qs(t)},Y:"email",C:!0},Aa={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new A("internal-error")},Y:"email",C:!0},Ea={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new A("internal-error")},Y:"email",C:!0},ka={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new A("internal-error");Qs(t)},Y:"email",C:!0},_a={hb:!0,endpoint:"getProjectConfig",Rb:"GET"},Ca={hb:!0,endpoint:"getRecaptchaParam",Rb:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new A("internal-error")}},Ta={endpoint:"resetPassword",A:ua,Y:"email",C:!0},Ia={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Y:"sessionInfo",C:!0},Na={endpoint:"setAccountInfo",M:["idToken"],A:Js,U:!0},Pa={endpoint:"setAccountInfo",M:["idToken"],A:function(t){if(Js(t),!t.password)throw new A("weak-password")},G:ta,U:!0},La={endpoint:"signupNewUser",G:ta,U:!0,C:!0},Oa={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new A("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new A("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new A("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new A("internal-error")},C:!0,La:!0},Da={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new A("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new A("internal-error")},C:!0,La:!0},Ra={endpoint:"verifyAssertion",A:ra,Wa:oa,G:sa,U:!0,C:!0},Ma={endpoint:"verifyAssertion",A:ra,Wa:oa,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new A("user-not-found");if(t.errorMessage)throw Ya(t.errorMessage);ta(t)},U:!0,C:!0},Fa={endpoint:"verifyAssertion",A:function(t){if(ra(t),!t.idToken)throw new A("internal-error")},Wa:oa,G:sa,U:!0},za={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new A("invalid-custom-token")},G:ta,U:!0,C:!0},Va={endpoint:"verifyPassword",A:function(t){if(Qs(t),!t.password)throw new A("wrong-password")},G:ta,U:!0,C:!0},ja={endpoint:"verifyPhoneNumber",A:ea,G:ta,C:!0},Ua={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new A("internal-error");ea(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",jo(t);ta(t)}},Ha={Eb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ea,G:ta,C:!0},Ba={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Hs]^!!t.refreshToken)throw new A("internal-error")},C:!0,La:!0};function Xa(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var i=t[e[n]];if(null==i||""===i)return!1}return!0}(n,e.M))return ke(new A("internal-error"));var i,r=!!e.La,o=e.Rb||"POST";return Ee(n).then(e.A).then((function(){return e.U&&(n.returnSecureToken=!0),e.C&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,i,r,o,s){var a=Rn(e+n);On(a,"key",t.c),s&&On(a,"cb",w().toString());var l="GET"==i;if(l)for(var c in r)r.hasOwnProperty(c)&&On(a,c,r[c]);return new me((function(e,n){$s(t,a.toString(),(function(t){t?t.error?n(Wa(t,o||{})):e(t):n(new A("network-request-failed"))}),i,l?void 0:Jn(Ni(r)),t.a,t.i.get())}))}(t,r?t.l:t.h,e.endpoint,o,n,e.Eb,e.hb||!1)})).then((function(t){return i=t,e.Wa?e.Wa(n,i):i})).then(e.G).then((function(){if(!e.Y)return i;if(!(e.Y in i))throw new A("internal-error");return i[e.Y]}))}function Ya(t){return Wa({error:{errors:[{message:t}],code:400,message:t}})}function Wa(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",i={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=i[n]?new A(i[n]):null)return n;for(var r in n=t.error&&t.error.message||"",pt(i={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,i)if(0===n.indexOf(r))return new A(i[r],e);return!e&&t&&(e=Ii(t)),new A("internal-error",e)}function Ga(t){this.b=t,this.a=null,this.nb=function(t){return(Za||(Za=new me((function(t,e){function n(){Di(),Ai("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Di(),e(Error("Network Error"))},timeout:$a.get()})}if(Ai("gapi.iframes.Iframe"))t();else if(Ai("gapi.load"))n();else{var i="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[i]=function(){Ai("gapi.load")?n():e(Error("Network Error"))},Ee(Os(i=At(qa,{onload:i}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw Za=null,t})))).then((function(){return new me((function(e,n){Ai("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Ai("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(i){function r(){clearTimeout(o),e()}t.a=i,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),Ka.get());i.ping(r).then(r,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var qa=new vt(bt,"https://apis.google.com/js/api.js?onload=%{onload}"),$a=new Ri(3e4,6e4),Ka=new Ri(5e3,15e3),Za=null;function Qa(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=Mn(this.i,"/__/auth/iframe"),On(this.a,"apiKey",this.g),On(this.a,"appName",this.h),this.b=null,this.c=[]}function Ja(t,e,n,i,r){this.s=t,this.m=e,this.c=n,this.u=i,this.i=this.g=this.l=null,this.a=r,this.h=this.f=null}function tl(t){try{return Fp.a.app(t).auth().Ea()}catch(e){return[]}}function el(t,e,n,i,r){this.u=t,this.f=e,this.b=n,this.c=i||null,this.h=r||null,this.m=this.s=this.w=null,this.g=[],this.l=this.a=null}function nl(t){var e=oi();return function(t){return Xa(t,_a,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Rn(e),i=n.f;n=n.b;for(var r=0;r<t.length;r++){var o=t[r],s=n,a=i;if(0==o.indexOf("chrome-extension://")?s=Rn(o).b==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:ui.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new zo(oi())}))}function il(t){return t.l?t.l:(t.l=di().then((function(){if(!t.s){var e=t.c,n=t.h,i=tl(t.b),r=new Qa(t.u,t.f,t.b);r.f=e,r.b=n,r.c=$(i||[]),t.s=r.toString()}t.i=new Ga(t.s),function(t){if(!t.i)throw Error("IfcHandler must be initialized!");!function(t,e){t.nb.then((function(){t.a.register("authEvent",e,Ai("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.i,(function(e){var n={};if(e&&e.authEvent){var i=!1;for(e=Do(e.authEvent),n=0;n<t.g.length;n++)i=t.g[n](e)||i;return(n={}).status=i?"ACK":"ERROR",Ee(n)}return n.status="ERROR",Ee(n)}))}(t)})),t.l)}function rl(t){return t.m||(t.w=t.c?wi(t.c,tl(t.b)):null,t.m=new js(t.f,I(t.h),t.w)),t.m}function ol(t,e,n,i,r,o,s,a,l,c,u){return(t=new Ja(t,e,n,i,r)).l=o,t.g=s,t.i=a,t.b=dt(l||null),t.f=c,t.ub(u).toString()}function sl(t){if(this.a=t||Fp.a.INTERNAL.reactNative&&Fp.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new A("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function al(t){this.b=t,this.a={},this.f=b(this.c,this)}Qa.prototype.toString=function(){return this.f?On(this.a,"v",this.f):qn(this.a.a,"v"),this.b?On(this.a,"eid",this.b):qn(this.a.a,"eid"),this.c.length?On(this.a,"fw",this.c.join(",")):qn(this.a.a,"fw"),this.a.toString()},Ja.prototype.ub=function(t){return this.h=t,this},Ja.prototype.toString=function(){var t=Mn(this.s,"/__/auth/handler");if(On(t,"apiKey",this.m),On(t,"appName",this.c),On(t,"authType",this.u),this.a.isOAuthProvider){var e=this.a;try{var n=Fp.a.app(this.c).auth().ja()}catch(a){n=null}for(var i in e.kb=n,On(t,"providerId",this.a.providerId),n=Ni((e=this.a).Fb))n[i]=n[i].toString();i=e.Oc,n=dt(n);for(var r=0;r<i.length;r++){var o=i[r];o in n&&delete n[o]}e.lb&&e.kb&&!n[e.lb]&&(n[e.lb]=e.kb),ht(n)||On(t,"customParameters",Ii(n))}if("function"==typeof this.a.Nb&&(e=this.a.Nb()).length&&On(t,"scopes",e.join(",")),this.l?On(t,"redirectUrl",this.l):qn(t.a,"redirectUrl"),this.g?On(t,"eventId",this.g):qn(t.a,"eventId"),this.i?On(t,"v",this.i):qn(t.a,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Dn(t,s)&&On(t,s,this.b[s]);return this.h?On(t,"tid",this.h):qn(t.a,"tid"),this.f?On(t,"eid",this.f):qn(t.a,"eid"),(s=tl(this.c)).length&&On(t,"fw",s.join(",")),t.toString()},(t=el.prototype).Lb=function(t,e,n){var i=new A("popup-closed-by-user"),r=new A("web-storage-unsupported"),o=this,s=!1;return this.ka().then((function(){(function(t){var e={type:"webStorageSupport"};return il(t).then((function(){return function(t,e){return t.nb.then((function(){return new me((function(n){t.a.send(e.type,e,n,Ai("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.i,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&li(t),e(r),s=!0)}))})).o((function(){})).then((function(){if(!s)return function(t){return new me((function(e){return function n(){Sn(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!s)return Sn(n).then((function(){e(i)}))}))},t.Ub=function(){var t=Si();return!Ti(t)&&!Oi(t)},t.Qb=function(){return!1},t.Jb=function(t,e,n,i,r,o,s,a){if(!t)return ke(new A("popup-blocked"));if(s&&!Ti())return this.ka().o((function(e){li(t),r(e)})),i(),Ee();this.a||(this.a=nl(rl(this)));var l=this;return this.a.then((function(){var e=l.ka().o((function(e){throw li(t),r(e),e}));return i(),e})).then((function(){Lo(n),s||si(ol(l.u,l.f,l.b,e,n,null,o,l.c,void 0,l.h,a),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(l.a=null),t}))},t.Kb=function(t,e,n,i){this.a||(this.a=nl(rl(this)));var r=this;return this.a.then((function(){Lo(e),si(ol(r.u,r.f,r.b,t,e,oi(),n,r.c,void 0,r.h,i))})).o((function(t){throw"auth/network-request-failed"==t.code&&(r.a=null),t}))},t.ka=function(){var t=this;return il(this).then((function(){return t.i.nb})).o((function(){throw t.a=null,new A("network-request-failed")}))},t.Xb=function(){return!0},t.Ca=function(t){this.g.push(t)},t.Qa=function(t){G(this.g,(function(e){return e==t}))},(t=sl.prototype).get=function(t){return Ee(this.a.getItem(t)).then((function(t){return t&&Pi(t)}))},t.set=function(t,e){return Ee(this.a.setItem(t,Ii(e)))},t.T=function(t){return Ee(this.a.removeItem(t))},t.ba=function(){},t.ha=function(){};var ll,cl=[];function ul(t,e,n){ht(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function hl(t){this.a=t}function dl(t){this.c=t,this.b=!1,this.a=[]}function fl(t,e,n,i){var r,o,s,a,l=n||{},c=null;if(t.b)return ke(Error("connection_unavailable"));var u=i?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new me((function(n,i){h?(r=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),s=setTimeout((function(){i(Error("unsupported_event"))}),u),t.a.push(c={messageChannel:h,onMessage:o=function(t){t.data.eventId===r&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout((function(){i(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):i(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),i(Error("invalid_response"))))}}),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:r,data:l},[h.port2])):i(Error("connection_unavailable"))})).then((function(e){return pl(t,c),e})).o((function(e){throw pl(t,c),e}))}function pl(t,e){if(e){var n=e.messageChannel;n&&(n.port1.removeEventListener("message",e.onMessage),n.port1.close()),G(t.a,(function(t){return t==e}))}}function gl(){if(!ml())throw new A("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.u=s.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.s=!1,this.h=null;var t=this;gi()&&self?(this.l=function(){var t=gi()?self:null;if(U(cl,(function(n){n.b==t&&(e=n)})),!e){var e=new al(t);cl.push(e)}return e}(),ul(this.l,"keyChanged",(function(e,n){return Sl(t).then((function(e){return 0<e.length&&U(t.a,(function(t){t(e)})),{keyProcessed:Y(e,n.key)}}))})),ul(this.l,"ping",(function(){return Ee(["keyChanged"])}))):function(){var t=s.navigator;return t&&t.serviceWorker?Ee().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):Ee(null)}().then((function(e){(t.h=e)&&(t.g=new dl(new hl(e)),fl(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&Y(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function vl(t){return t.m||(t.m=function t(e){return new me((function(n,i){var r=e.u.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(e){}i(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){i(e)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?n(r):function(t){return new me((function(e,n){var i=t.u.deleteDatabase("firebaseLocalStorageDb");i.onsuccess=function(){e()},i.onerror=function(t){n(Error(t.target.error))}}))}(e).then((function(){return t(e)})).then((function(t){n(t)})).o((function(t){i(t)}))}}))}(t)),t.m}function ml(){try{return!!s.indexedDB}catch(Bt){return!1}}function yl(t){return t.objectStore("firebaseLocalStorage")}function bl(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function xl(t){return new me((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function wl(t,e){return t.g&&t.h&&function(){var t=s.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?fl(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):Ee()}function Sl(t){return vl(t).then((function(t){var e=yl(bl(t,!1));return e.getAll?xl(e.getAll()):new me((function(t,n){var i=[],r=e.openCursor();r.onsuccess=function(e){(e=e.target.result)?(i.push(e.value),e.continue()):t(i)},r.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},i=[];if(0==t.b){for(i=0;i<e.length;i++)n[e[i].fbase_key]=e[i].value;i=function t(e,n){var i,r=[];for(i in e)i in n?typeof e[i]!=typeof n[i]?r.push(i):"object"==typeof e[i]&&null!=e[i]&&null!=n[i]?0<t(e[i],n[i]).length&&r.push(i):e[i]!==n[i]&&r.push(i):r.push(i);for(i in n)i in e||r.push(i);return r}(t.c,n),t.c=n}return i}))}function Al(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function El(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Ee().then((function(){if(ml()){var t=Li(),i="__sak"+t;return ll||(ll=new gl),(n=ll).set(i,t).then((function(){return n.get(i)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.T(i)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ba((function(t){U(e.a,(function(e){e(t)}))})),t}))}function kl(){this.a={},this.type="inMemory"}function _l(){if(!function(){var t="Node"==vi();if(!(t=Cl()||t&&Fp.a.INTERNAL.node&&Fp.a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==vi())throw new A("internal-error","The LocalStorage compatibility library was not found.");throw new A("web-storage-unsupported")}this.a=Cl()||Fp.a.INTERNAL.node.localStorage,this.type="localStorage"}function Cl(){try{var t=s.localStorage,e=Li();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Tl(){this.type="nullStorage"}function Il(){if(!function(){var t="Node"==vi();if(!(t=Nl()||t&&Fp.a.INTERNAL.node&&Fp.a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==vi())throw new A("internal-error","The SessionStorage compatibility library was not found.");throw new A("web-storage-unsupported")}this.a=Nl()||Fp.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Nl(){try{var t=s.sessionStorage,e=Li();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Pl(){var t={};t.Browser=Dl,t.Node=Rl,t.ReactNative=Ml,t.Worker=Fl,this.a=t[vi()]}al.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,i=this.a[e];if(i&&0<i.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var r=[];U(i,(function(e){r.push(Ee().then((function(){return e(t.origin,t.data.data)})))})),Ce(r).then((function(i){var r=[];U(i,(function(t){r.push({fulfilled:t.Mb,value:t.value,reason:t.reason?t.reason.message:void 0})})),U(r,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:r})}))}},hl.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},dl.prototype.close=function(){for(;0<this.a.length;)pl(this,this.a[0]);this.b=!0},(t=gl.prototype).set=function(t,e){var n,i=!1,r=this;return vl(this).then((function(e){return xl((e=yl(bl(n=e,!0))).get(t))})).then((function(o){var s=yl(bl(n,!0));return o?(o.value=e,xl(s.put(o))):(r.b++,i=!0,(o={}).fbase_key=t,o.value=e,xl(s.add(o)))})).then((function(){return r.c[t]=e,wl(r,t)})).ma((function(){i&&r.b--}))},t.get=function(t){return vl(this).then((function(e){return xl(yl(bl(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.T=function(t){var e=!1,n=this;return vl(this).then((function(i){return e=!0,n.b++,xl(yl(bl(i,!0)).delete(t))})).then((function(){return delete n.c[t],wl(n,t)})).ma((function(){e&&n.b--}))},t.ba=function(t){0==this.a.length&&function(t){Al(t),function e(){t.f=setTimeout((function(){t.i=Sl(t).then((function(e){0<e.length&&U(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}()}(this),this.a.push(t)},t.ha=function(t){G(this.a,(function(e){return e==t})),0==this.a.length&&Al(this)},(t=El.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.T=function(t){return this.b.then((function(e){return e.T(t)}))},t.ba=function(t){this.a.push(t)},t.ha=function(t){G(this.a,(function(e){return e==t}))},(t=kl.prototype).get=function(t){return Ee(this.a[t])},t.set=function(t,e){return this.a[t]=e,Ee()},t.T=function(t){return delete this.a[t],Ee()},t.ba=function(){},t.ha=function(){},(t=_l.prototype).get=function(t){var e=this;return Ee().then((function(){return Pi(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Ee().then((function(){var i=Ii(e);null===i?n.T(t):n.a.setItem(t,i)}))},t.T=function(t){var e=this;return Ee().then((function(){e.a.removeItem(t)}))},t.ba=function(t){s.window&&on(s.window,"storage",t)},t.ha=function(t){s.window&&ln(s.window,"storage",t)},(t=Tl.prototype).get=function(){return Ee(null)},t.set=function(){return Ee()},t.T=function(){return Ee()},t.ba=function(){},t.ha=function(){},(t=Il.prototype).get=function(t){var e=this;return Ee().then((function(){return Pi(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Ee().then((function(){var i=Ii(e);null===i?n.T(t):n.a.setItem(t,i)}))},t.T=function(t){var e=this;return Ee().then((function(){e.a.removeItem(t)}))},t.ba=function(){},t.ha=function(){};var Ll,Ol,Dl={F:_l,$a:Il},Rl={F:_l,$a:Il},Ml={F:sl,$a:Tl},Fl={F:_l,$a:Tl},zl={od:"local",NONE:"none",qd:"session"};function Vl(){var t=!(Oi(Si())||!pi()),e=Ti(),n=Ei();this.m=t,this.h=e,this.l=n,this.a={},Ll||(Ll=new Pl),t=Ll;try{this.g=!ri()&&zi()||!s.indexedDB?new t.a.F:new El(gi()?new kl:new t.a.F)}catch(i){this.g=new kl,this.h=!0}try{this.i=new t.a.$a}catch(i){this.i=new kl}this.u=new kl,this.f=b(this.Vb,this),this.b={}}function jl(){return Ol||(Ol=new Vl),Ol}function Ul(t,e){switch(e){case"session":return t.i;case"none":return t.u;default:return t.g}}function Hl(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Bl(t,e,n){return n=Hl(e,n),"local"==e.F&&(t.b[n]=null),Ul(t,e.F).T(n)}function Xl(t){t.c&&(clearInterval(t.c),t.c=null)}function Yl(t){this.a=t,this.b=jl()}(t=Vl.prototype).get=function(t,e){return Ul(this,t.F).get(Hl(t,e))},t.set=function(t,e,n){var i=Hl(t,n),r=this,o=Ul(this,t.F);return o.set(i,e).then((function(){return o.get(i)})).then((function(e){"local"==t.F&&(r.b[i]=e)}))},t.addListener=function(t,e,n){t=Hl(t,e),this.l&&(this.b[t]=s.localStorage.getItem(t)),ht(this.a)&&(Ul(this,"local").ba(this.f),this.h||(ri()||!zi())&&s.indexedDB||!this.l||function(t){Xl(t),t.c=setInterval((function(){for(var e in t.a){var n=s.localStorage.getItem(e),i=t.b[e];n!=i&&(t.b[e]=n,n=new Ge({type:"storage",key:e,target:window,oldValue:i,newValue:n,a:!0}),t.Vb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=Hl(t,e),this.a[t]&&(G(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),ht(this.a)&&(Ul(this,"local").ha(this.f),Xl(this))},t.Vb=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var n in this.a){var i=this.b[n];void 0===i&&(i=null);var r=s.localStorage.getItem(n);r!==i&&(this.b[n]=r,this.ib(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Ul(this,"local").ha(this.f):Xl(this),this.m)if(n=s.localStorage.getItem(e),(i=t.a.newValue)!==n)null!==i?s.localStorage.setItem(e,i):s.localStorage.removeItem(e);else if(this.b[e]===i&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===s.localStorage.getItem(e)||(o.b[e]=s.localStorage.getItem(e),o.ib(e))},Yt&&te&&10==te&&s.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else U(t,b(this.ib,this))},t.ib=function(t){this.a[t]&&U(this.a[t],(function(t){t()}))};var Wl,Gl={name:"authEvent",F:"local"};function ql(){this.a=jl()}function $l(t,e){this.b=Kl,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0===Wl&&(Wl=s.Int32Array?new Int32Array(ic):ic),this.reset()}S($l,(function(){this.b=-1}));for(var Kl=64,Zl=Kl-1,Ql=[],Jl=0;Jl<Zl;Jl++)Ql[Jl]=0;var tc=q(128,Ql);function ec(t){for(var e=t.f,n=t.l,i=0,r=0;r<e.length;)n[i++]=e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3],r=4*i;for(e=16;64>e;e++){var o=(0|n[e-16])+(((r=0|n[e-15])>>>7|r<<25)^(r>>>18|r<<14)^r>>>3)|0,s=(0|n[e-7])+(((i=0|n[e-2])>>>17|i<<15)^(i>>>19|i<<13)^i>>>10)|0;n[e]=o+s|0}i=0|t.a[0],r=0|t.a[1];var a=0|t.a[2],l=0|t.a[3],c=0|t.a[4],u=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var d=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&r^i&a^r&a)|0;s=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((s=(s=c&u^~c&h)+(0|Wl[e])|0)+(0|n[e])|0)|0,o=h,h=u,u=c,c=l+s|0,l=a,a=r,r=i,i=s+d|0}t.a[0]=t.a[0]+i|0,t.a[1]=t.a[1]+r|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+l|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+u|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function nc(t,e,n){void 0===n&&(n=e.length);var i=0,r=t.c;if("string"==typeof e)for(;i<n;)t.f[r++]=e.charCodeAt(i++),r==t.b&&(ec(t),r=0);else{if(!h(e))throw Error("message must be string or array");for(;i<n;){var o=e[i++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[r++]=o,r==t.b&&(ec(t),r=0)}}t.c=r,t.g+=n}$l.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):$(this.h)};var ic=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function rc(){$l.call(this,8,oc)}S(rc,$l);var oc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function sc(t,e,n,i,r){this.u=t,this.i=e,this.l=n,this.m=i||null,this.s=r||null,this.h=e+":"+n,this.w=new ql,this.g=new Yl(this.h),this.f=null,this.b=[],this.a=this.c=null}function ac(t){return new A("invalid-cordova-configuration",t)}function lc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(i){}}function cc(t){return t.f||(t.f=t.ka().then((function(){return new me((function(e){t.Ca((function n(i){return e(i),t.Qa(n),!1})),function(t){function e(e){i=!0,r&&r.cancel(),uc(t).then((function(i){var r=n;if(i&&e&&e.url){var o=null;-1!=(r=Zr(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Pi(Dn(o=Rn(r),"firebaseError")||null))?E(o):null)?new Oo(i.c,i.b,null,null,o,null,i.S()):new Oo(i.c,i.b,r,i.f,null,null,i.S())),r=o||n}lc(t,r)}))}var n=new Oo("unknown",null,null,null,new A("no-auth-event")),i=!1,r=Sn(500).then((function(){return uc(t).then((function(){i||lc(t,n)}))})),o=s.handleOpenURL;s.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Ai("BuildInfo.packageName",s).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(n){console.error(n)}},Fo||(Fo=new Ro),function(t){var e=Fo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Ai("universalLinks.subscribe",s))&&t(null,e.b))}(e)}(t)}))}))),t.f}function uc(t){var e=null;return function(t){return t.b.get(Gl,t.a).then((function(t){return Do(t)}))}(t.g).then((function(n){return e=n,Bl((n=t.g).b,Gl,n.a)})).then((function(){return e}))}function hc(t){this.a=t,this.b=jl()}(t=sc.prototype).ka=function(){return this.Ga?this.Ga:this.Ga=(fi(void 0)?di().then((function(){return new me((function(t,e){var n=s.document,i=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(i),t()}),!1)}))})):ke(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Ai("universalLinks.subscribe",s))throw ac("cordova-universal-links-plugin-fix is not installed");if(void 0===Ai("BuildInfo.packageName",s))throw ac("cordova-plugin-buildinfo is not installed");if("function"!=typeof Ai("cordova.plugins.browsertab.openUrl",s))throw ac("cordova-plugin-browsertab is not installed");if("function"!=typeof Ai("cordova.InAppBrowser.open",s))throw ac("cordova-plugin-inappbrowser is not installed")}),(function(){throw new A("cordova-not-ready")}))},t.Lb=function(t,e){return e(new A("operation-not-supported-in-this-environment")),Ee()},t.Jb=function(){return ke(new A("operation-not-supported-in-this-environment"))},t.Xb=function(){return!1},t.Ub=function(){return!0},t.Qb=function(){return!0},t.Kb=function(t,e,n,i){if(this.c)return ke(new A("redirect-operation-pending"));var r=this,o=s.document,a=null,l=null,c=null,u=null;return this.c=Ee().then((function(){return Lo(e),cc(r)})).then((function(){return function(t,e,n,i,r){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new Oo(e,i,null,o,new A("no-auth-event"),null,r),l=Ai("BuildInfo.packageName",s);if("string"!=typeof l)throw new A("invalid-cordova-configuration");var c=Ai("BuildInfo.displayName",s),u={};if(Si().toLowerCase().match(/iphone|ipad|ipod/))u.ibi=l;else{if(!Si().toLowerCase().match(/android/))return ke(new A("operation-not-supported-in-this-environment"));u.apn=l}c&&(u.appDisplayName=c),o=function(t){var e=new rc;nc(e,t),t=[];var n=8*e.g;nc(e,tc,56>e.c?56-e.c:e.b-(e.c-56));for(var i=63;56<=i;i--)e.f[i]=255&n,n/=256;for(ec(e),i=n=0;i<e.i;i++)for(var r=24;0<=r;r-=8)t[n++]=e.a[i]>>r&255;return function(t){return B(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}(o),u.sessionId=o;var h=ol(t.u,t.i,t.l,e,n,null,i,t.m,u,t.s,r);return t.ka().then((function(){var e=t.h;return t.w.a.set(Gl,a.v(),e)})).then((function(){var e=Ai("cordova.plugins.browsertab.isAvailable",s);if("function"!=typeof e)throw new A("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=Ai("cordova.plugins.browsertab.openUrl",s)))throw new A("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Ai("cordova.InAppBrowser.open",s)))throw new A("invalid-cordova-configuration");e=Si(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(r,t,e,n,i)})).then((function(){return new me((function(t,e){l=function(){var e=Ai("cordova.plugins.browsertab.close",s);return t(),"function"==typeof e&&e(),r.a&&"function"==typeof r.a.close&&(r.a.close(),r.a=null),!1},r.Ca(l),u=function(){Mi()&&c()},o.addEventListener("resume",c=function(){a||(a=Sn(2e3).then((function(){e(new A("redirect-cancelled-by-user"))})))},!1),Si().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",u,!1)})).o((function(t){return uc(r).then((function(){throw t}))}))})).ma((function(){c&&o.removeEventListener("resume",c,!1),u&&o.removeEventListener("visibilitychange",u,!1),a&&a.cancel(),l&&r.Qa(l),r.c=null}))},t.Ca=function(t){this.b.push(t),cc(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Oo("unknown",null,null,null,new A("no-auth-event")),t(e))}))},t.Qa=function(t){G(this.b,(function(e){return e==t}))};var dc={name:"pendingRedirect",F:"session"};function fc(t){return Bl(t.b,dc,t.a)}function pc(t,e,n){this.i={},this.w=0,this.D=t,this.u=e,this.m=n,this.h=[],this.f=!1,this.l=b(this.s,this),this.b=new Tc,this.B=new Oc,this.g=new hc(this.u+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.B,this.c.linkViaPopup=this.B,this.c.reauthViaPopup=this.B,this.a=gc(this.D,this.u,this.m,k)}function gc(t,e,n,i){var r=Fp.a.SDK_VERSION||null;return fi()?new sc(t,e,n,r,i):new el(t,e,n,r,i)}function vc(t){t.f||(t.f=!0,t.a.Ca(t.l));var e=t.a;return t.a.ka().o((function(n){throw t.a==e&&t.reset(),n}))}function mc(t){t.a.Ub()&&vc(t).o((function(e){var n=new Oo("unknown",null,null,null,new A("operation-not-supported-in-this-environment"));Ac(e)&&t.s(n)})),t.a.Qb()||Ic(t.b)}function yc(t,e){Y(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(dc,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?fc(t.g).then((function(){vc(t).o((function(e){var n=new Oo("unknown",null,null,null,new A("operation-not-supported-in-this-environment"));Ac(e)&&t.s(n)}))})):mc(t)})).o((function(){mc(t)}))}function bc(t,e){G(t.h,(function(t){return t==e}))}pc.prototype.reset=function(){this.f=!1,this.a.Qa(this.l),this.a=gc(this.D,this.u,this.m),this.i={}},pc.prototype.s=function(t){if(!t)throw new A("invalid-auth-event");if(6e5<=w()-this.w&&(this.i={},this.w=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var i=this.h[n];if(i.Cb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,i),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.w=w())),e=!0;break}}return Ic(this.b),e};var xc=new Ri(2e3,1e4),wc=new Ri(3e4,6e4);function Sc(t,e,n,i,r,o,s){return t.a.Jb(e,n,i,(function(){t.f||(t.f=!0,t.a.Ca(t.l))}),(function(){t.reset()}),r,o,s)}function Ac(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Ec(t,e,n,i,r){var o;return function(t){return t.b.set(dc,"pending",t.a)}(t.g).then((function(){return t.a.Kb(e,n,i,r).o((function(e){if(Ac(e))throw new A("operation-not-supported-in-this-environment");return o=e,fc(t.g).then((function(){throw o}))})).then((function(){return t.a.Xb()?new me((function(){})):fc(t.g).then((function(){return t.pa()})).then((function(){})).o((function(){}))}))}))}function kc(t,e,n,i,r){return t.a.Lb(i,(function(t){e.la(n,null,t,r)}),xc.get())}pc.prototype.pa=function(){return this.b.pa()};var _c={};function Cc(t,e,n){var i=e+":"+n;return _c[i]||(_c[i]=new pc(t,e,n)),_c[i]}function Tc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Ic(t){t.g||(t.g=!0,Lc(t,!1,null,null))}function Nc(t){t.g&&!t.i&&Lc(t,!1,null,null)}function Pc(t,e){if(t.b=function(){return Ee(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Lc(t,e,n,i){e?i?function(t,e){if(t.b=function(){return ke(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,i):Pc(t,n):Pc(t,{user:null}),t.f=[],t.c=[]}function Oc(){}function Dc(){this.Bb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.Bb},set:function(t){this.Bb=t},enumerable:!1})}function Rc(t,e){this.a=e,Bi(this,"verificationId",t)}function Mc(t,e,n,i){return new Io(t).cb(e,n).then((function(t){return new Rc(t,i)}))}function Fc(t){var e=Fr(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new A("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Xi(this,{token:t,expirationTime:Fi(1e3*e.exp),authTime:Fi(1e3*e.auth_time),issuedAtTime:Fi(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function zc(t,e,n){var i=e&&e[jc];if(!i)throw new A("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=dt(e),this.g=n,this.c=new Qr(null,i),this.b=[];var r=this;U(e[Vc]||[],(function(t){(t=qi(t))&&r.b.push(t)})),Bi(this,"auth",this.a),Bi(this,"session",this.c),Bi(this,"hints",this.b)}Tc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Tc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,i=t.b,r=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!r&&!o),"unknown"!=n||r||o?t.a?(Lc(this,!0,null,t.a),Ee()):e.Da(n,i)?function(t,e,n){n=n.Da(e.c,e.b);var i=e.g,r=e.f,o=e.i,s=e.S(),a=!!e.c.match(/Redirect$/);n(i,r,s,o).then((function(e){Lc(t,a,e,null)})).o((function(e){Lc(t,a,null,e)}))}(this,t,e):ke(new A("invalid-auth-event")):(Lc(this,!1,null,null),Ee())}else ke(new A("invalid-auth-event"))},Tc.prototype.pa=function(){var t=this;return new me((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new A("timeout");t.a&&t.a.cancel(),t.a=Sn(wc.get()).then((function(){t.b||(t.g=!0,Lc(t,!0,null,e))}))}(t))}))},Oc.prototype.h=function(t,e){if(t){var n=t.c,i=t.b;t.a?(e.la(t.c,null,t.a,t.b),Ee()):e.Da(n,i)?function(t,e){var n=t.b,i=t.c;e.Da(i,n)(t.g,t.f,t.S(),t.i).then((function(t){e.la(i,t,null,n)})).o((function(t){e.la(i,null,t,n)}))}(t,e):ke(new A("invalid-auth-event"))}else ke(new A("invalid-auth-event"))},Rc.prototype.confirm=function(t){return t=No(this.verificationId,t),this.a(t)};var Vc="mfaInfo",jc="mfaPendingCredential";function Uc(t,e,n,i){A.call(this,"multi-factor-auth-required",i,e),this.b=new zc(t,e,n),Bi(this,"resolver",this.b)}function Hc(t,e,n){if(t&&f(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new Uc(e,t.serverResponse,n,t.message)}catch(i){}return null}function Bc(){}function Xc(t){Bi(this,"factorId",t.ea),this.a=t}function Yc(t){if(Xc.call(this,t),this.a.ea!=Io.PROVIDER_ID)throw new A("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function Wc(t,e){for(var n in We.call(this,t),e)this[n]=e[n]}function Gc(t,e){this.a=t,this.b=[],this.c=b(this.wc,this),on(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&U(e.multiFactor.enrolledFactors,(function(t){var e=null,i={};if(t){t.uid&&(i[Zi]=t.uid),t.displayName&&(i[$i]=t.displayName),t.enrollmentTime&&(i[Ki]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(i[Qi]=t.phoneNumber);try{e=new Ji(i)}catch(r){}t=e}else t=null;t&&n.push(t)})),qc(this,n)}function qc(t,e){t.b=e,Bi(t,"enrolledFactors",e)}function $c(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function Kc(t){this.c=t,this.b=this.a=null}function Zc(t){return t.b&&1e3*t.b.c||0}function Qc(t,e){var n=e.refreshToken;t.b=Mr(e[Hs]||""),t.a=n}function Jc(t,e){this.a=t||null,this.b=e||null,Xi(this,{lastSignInTime:Fi(e||null),creationTime:Fi(t||null)})}function tu(t,e,n,i,r,o){Xi(this,{uid:t,displayName:i||null,photoURL:r||null,email:n||null,phoneNumber:o||null,providerId:e})}function eu(t,e,n){this.N=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null,t=Fp.a.SDK_VERSION?wi(Fp.a.SDK_VERSION):null,this.a=new js(this.l,I(k),t),this.b=new Kc(this.a),lu(this,e[Hs]),Qc(this.b,e),Bi(this,"refreshToken",this.b.a),hu(this,n||{}),mn.call(this),this.P=!1,this.s&&ki()&&(this.i=Cc(this.s,this.l,this.m)),this.R=[],this.h=null,this.B=function(t){return new $c((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=Zc(t.b)-w()-3e5;return 0<e?e:0}))}(this),this.Z=b(this.Ma,this);var i=this;this.oa=null,this.za=function(t){i.va(t.g)},this.aa=null,this.W=[],this.ya=function(t){iu(i,t.c)},this.$=null,this.O=new Gc(this,n),Bi(this,"multiFactor",this.O)}function nu(t,e){t.aa&&ln(t.aa,"languageCodeChanged",t.za),(t.aa=e)&&on(e,"languageCodeChanged",t.za)}function iu(t,e){t.W=e,qs(t.a,Fp.a.SDK_VERSION?wi(Fp.a.SDK_VERSION,t.W):null)}function ru(t,e){t.$&&ln(t.$,"frameworkChanged",t.ya),(t.$=e)&&on(e,"frameworkChanged",t.ya)}function ou(t){try{return Fp.a.app(t.m).auth()}catch(e){throw new A("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function su(t){t.D||t.B.b||(t.B.start(),ln(t,"tokenChanged",t.Z),on(t,"tokenChanged",t.Z))}function au(t){ln(t,"tokenChanged",t.Z),t.B.stop()}function lu(t,e){t.xa=e,Bi(t,"_lat",e)}function cu(t){for(var e=[],n=0;n<t.R.length;n++)e.push(t.R[n](t));return Ce(e).then((function(){return t}))}function uu(t){t.i&&!t.P&&(t.P=!0,yc(t.i,t))}function hu(t,e){Xi(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new Jc(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function du(){}function fu(t){return Ee().then((function(){if(t.D)throw new A("app-deleted")}))}function pu(t){return B(t.providerData,(function(t){return t.providerId}))}function gu(t,e){e&&(vu(t,e.providerId),t.providerData.push(e))}function vu(t,e){G(t.providerData,(function(t){return t.providerId==e}))}function mu(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Bi(t,e,n)}function yu(t,e){t!=e&&(Xi(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),Bi(t,"metadata",e.metadata?function(t){return new Jc(t.a,t.b)}(e.metadata):new Jc),U(e.providerData,(function(e){gu(t,e)})),function(t,e){t.b=e.b,t.a=e.a}(t.b,e.b),Bi(t,"refreshToken",t.b.a),qc(t.O,e.O.b))}function bu(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return Xa(t.a,wa,{idToken:e}).then(b(t.Ic,t))}(t,e).then((function(){return n||mu(t,"isAnonymous",!1),e}))}))}function xu(t,e){e[Hs]&&t.xa!=e[Hs]&&(Qc(t.b,e),t.dispatchEvent(new Wc("tokenChanged")),lu(t,e[Hs]),mu(t,"refreshToken",t.b.a))}function wu(t,e){return bu(t).then((function(){if(Y(pu(t),e))return cu(t).then((function(){throw new A("provider-already-linked")}))}))}function Su(t,e,n){return Yi({user:t,credential:Po(e),additionalUserInfo:e=Hr(e),operationType:n})}function Au(t,e){return xu(t,e),t.reload().then((function(){return t}))}function Eu(t,e,n,i,r){if(!ki())return ke(new A("operation-not-supported-in-this-environment"));if(t.h&&!r)return ke(t.h);var o=Ur(n.providerId),s=Li(t.uid+":::"),a=null;(!Ti()||pi())&&t.s&&n.isOAuthProvider&&(a=ol(t.s,t.l,t.m,e,n,null,s,Fp.a.SDK_VERSION||null,null,null,t.tenantId));var l=ci(a,o&&o.ta,o&&o.sa);return i=i().then((function(){if(_u(t),!r)return t.I().then((function(){}))})).then((function(){return Sc(t.i,l,e,n,s,!!a,t.tenantId)})).then((function(){return new me((function(n,i){t.la(e,null,new A("cancelled-popup-request"),t.g||null),t.f=n,t.w=i,t.g=s,t.c=kc(t.i,t,e,l,s)}))})).then((function(t){return l&&li(l),t?Yi(t):null})).o((function(t){throw l&&li(l),t})),Cu(t,i,r)}function ku(t,e,n,i,r){if(!ki())return ke(new A("operation-not-supported-in-this-environment"));if(t.h&&!r)return ke(t.h);var o=null,s=Li(t.uid+":::");return i=i().then((function(){if(_u(t),!r)return t.I().then((function(){}))})).then((function(){return t.fa=s,cu(t)})).then((function(e){return t.ga&&(e=(e=t.ga).b.set(Nu,t.v(),e.a)),e})).then((function(){return Ec(t.i,e,n,s,t.tenantId)})).o((function(e){if(o=e,t.ga)return Pu(t.ga);throw o})).then((function(){if(o)throw o})),Cu(t,i,r)}function _u(t){if(!t.i||!t.P){if(t.i&&!t.P)throw new A("internal-error");throw new A("auth-domain-config-required")}}function Cu(t,e,n){var i=function(t,e,n){return t.h&&!n?(e.cancel(),ke(t.h)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new Wc("userInvalidated")),t.h=e),e}))}(t,e,n);return t.N.push(i),i.ma((function(){W(t.N,i)})),i.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Hc(e.v(),ou(t),b(t.hc,t))),n||e}))}function Tu(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Hs]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var i=new eu(e,n,t);return t.providerData&&U(t.providerData,(function(t){t&&gu(i,Yi(t))})),t.redirectEventId&&(i.fa=t.redirectEventId),i}function Iu(t){this.a=t,this.b=jl()}zc.prototype.Pc=function(t){var e=this;return t.ob(this.a.b,this.c).then((function(t){var n=dt(e.f);return delete n[Vc],delete n[jc],pt(n,t),e.g(n)}))},S(Uc,A),Bc.prototype.ob=function(t,e,n){return e.type==Jr?function(t,e,n,i){return n.Fa().then((function(n){return n={idToken:n},void 0!==i&&(n.displayName=i),pt(n,{phoneVerificationInfo:To(t.a)}),Xa(e,ba,n)}))}(this,t,e,n):function(t,e,n){return n.Fa().then((function(n){return pt(n={mfaPendingCredential:n},{phoneVerificationInfo:To(t.a)}),Xa(e,xa,n)}))}(this,t,e)},S(Xc,Bc),S(Yc,Xc),S(Wc,We),(t=Gc.prototype).wc=function(t){qc(this,function(t){var e=[];return U(t.mfaInfo||[],(function(t){(t=qi(t))&&e.push(t)})),e}(t.ed))},t.Ob=function(){return this.a.I().then((function(t){return new Qr(t,null)}))},t.dc=function(t,e){var n=this,i=this.a.a;return this.Ob().then((function(n){return t.ob(i,n,e)})).then((function(t){return xu(n.a,t),n.a.reload()}))},t.$c=function(t){var e=this,n="string"==typeof t?t:t.uid,i=this.a.a;return this.a.I().then((function(t){return Xa(i,Ba,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var i=H(e.b,(function(t){return t.uid!=n}));return qc(e,i),xu(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.v=function(){return{multiFactor:{enrolledFactors:B(this.b,(function(t){return t.v()}))}}},$c.prototype.start=function(){this.a=this.c,function t(e,n){e.stop(),e.b=Sn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then((function(){return function(){var t=s.document,e=null;return Mi()||!t?Ee():new me((function(n){e=function(){Mi()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return e.h()})).then((function(){t(e,!0)})).o((function(n){e.i(n)&&t(e,!1)}))}(this,!0)},$c.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},Kc.prototype.v=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:Zc(this)}},Kc.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?ke(new A("user-token-expired")):t||!this.b||w()>Zc(this)-3e4?this.a?function(t,e){return function(t,e){return new me((function(n,i){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?$s(t,t.u+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?i(Wa(t)):t.access_token&&t.refresh_token?n(t):i(new A("internal-error")):i(new A("network-request-failed"))}),"POST",Gn(e).toString(),t.g,t.m.get()):i(new A("internal-error"))}))}(t.c,e).then((function(e){return t.b=Mr(e.access_token),t.a=e.refresh_token,{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}(this,{grant_type:"refresh_token",refresh_token:this.a}):Ee(null):Ee({accessToken:this.b.toString(),refreshToken:this.a})},Jc.prototype.v=function(){return{lastLoginAt:this.b,createdAt:this.a}},S(eu,mn),eu.prototype.va=function(t){this.oa=t,Gs(this.a,t)},eu.prototype.ja=function(){return this.oa},eu.prototype.Ea=function(){return $(this.W)},eu.prototype.Ma=function(){this.B.b&&(this.B.stop(),this.B.start())},Bi(eu.prototype,"providerId","firebase"),(t=eu.prototype).reload=function(){var t=this;return Cu(this,fu(this).then((function(){return bu(t).then((function(){return cu(t)})).then(du)})))},t.mc=function(t){return this.I(t).then((function(t){return new Fc(t)}))},t.I=function(t){var e=this;return Cu(this,fu(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new A("internal-error");return t.accessToken!=e.xa&&(lu(e,t.accessToken),e.dispatchEvent(new Wc("tokenChanged"))),mu(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Ic=function(t){if(!(t=t.users)||!t.length)throw new A("internal-error");hu(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?B(t,(function(t){return new tu(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)gu(this,e[n]);mu(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new Wc("userReloaded",{ed:t}))},t.Jc=function(t){return Ui("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.pb(t)},t.pb=function(t){var e=this,n=null;return Cu(this,t.c(this.a,this.uid).then((function(t){return xu(e,t),n=Su(e,t,"reauthenticate"),e.h=null,e.reload()})).then((function(){return n})),!0)},t.Ac=function(t){return Ui("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.mb(t)},t.mb=function(t){var e=this,n=null;return Cu(this,wu(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Su(e,t,"link"),Au(e,t)})).then((function(){return n})))},t.Bc=function(t,e){var n=this;return Cu(this,wu(this,"phone").then((function(){return Mc(ou(n),t,e,b(n.mb,n))})))},t.Kc=function(t,e){var n=this;return Cu(this,Ee().then((function(){return Mc(ou(n),t,e,b(n.pb,n))})),!0)},t.xb=function(t){var e=this;return Cu(this,this.I().then((function(n){return e.a.xb(n,t)})).then((function(t){return xu(e,t),e.reload()})))},t.cd=function(t){var e=this;return Cu(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return xu(e,t),e.reload()})))},t.yb=function(t){var e=this;return Cu(this,this.I().then((function(n){return e.a.yb(n,t)})).then((function(t){return xu(e,t),e.reload()})))},t.zb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return fu(this);var e=this;return Cu(this,this.I().then((function(n){return e.a.zb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return xu(e,t),mu(e,"displayName",t.displayName||null),mu(e,"photoURL",t.photoUrl||null),U(e.providerData,(function(t){"password"===t.providerId&&(Bi(t,"displayName",e.displayName),Bi(t,"photoURL",e.photoURL))})),cu(e)})).then(du))},t.ad=function(t){var e=this;return Cu(this,bu(this).then((function(n){return Y(pu(e),t)?function(t,e,n){return Xa(t,va,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return U(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),U(pu(e),(function(t){n[t]||vu(e,t)})),n[Io.PROVIDER_ID]||Bi(e,"phoneNumber",null),cu(e)})):cu(e).then((function(){throw new A("no-such-provider")}))})))},t.delete=function(){var t=this;return Cu(this,this.I().then((function(e){return Xa(t.a,ga,{idToken:e})})).then((function(){t.dispatchEvent(new Wc("userDeleted"))}))).then((function(){for(var e=0;e<t.N.length;e++)t.N[e].cancel("app-deleted");nu(t,null),ru(t,null),t.N=[],t.D=!0,au(t),Bi(t,"refreshToken",null),t.i&&bc(t.i,t)}))},t.Cb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.fa||null)==e||"reauthViaRedirect"==t&&(this.fa||null)==e)},t.la=function(t,e,n,i){"linkViaPopup"!=t&&"reauthViaPopup"!=t||i!=(this.g||null)||(n&&this.w?this.w(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},t.Da=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?b(this.Hb,this):"reauthViaPopup"==t&&e==(this.g||null)?b(this.Ib,this):"linkViaRedirect"==t&&(this.fa||null)==e?b(this.Hb,this):"reauthViaRedirect"==t&&(this.fa||null)==e?b(this.Ib,this):null},t.Cc=function(t){var e=this;return Eu(this,"linkViaPopup",t,(function(){return wu(e,t.providerId).then((function(){return cu(e)}))}),!1)},t.Lc=function(t){return Eu(this,"reauthViaPopup",t,(function(){return Ee()}),!0)},t.Dc=function(t){var e=this;return ku(this,"linkViaRedirect",t,(function(){return wu(e,t.providerId)}),!1)},t.Mc=function(t){return ku(this,"reauthViaRedirect",t,(function(){return Ee()}),!0)},t.Hb=function(t,e,n,i){var r=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Cu(this,this.I().then((function(n){return la(r.a,{requestUri:t,postBody:i,sessionId:e,idToken:n})})).then((function(t){return o=Su(r,t,"link"),Au(r,t)})).then((function(){return o})))},t.Ib=function(t,e,n,i){var r=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Cu(this,Ee().then((function(){return no(ca(r.a,{requestUri:t,sessionId:e,postBody:i,tenantId:n}),r.uid)})).then((function(t){return o=Su(r,t,"reauthenticate"),xu(r,t),r.h=null,r.reload()})).then((function(){return o})),!0)},t.qb=function(t){var e=this,n=null;return Cu(this,this.I().then((function(e){return n=e,void 0===t||ht(t)?{}:Or(new Ar(t))})).then((function(t){return e.a.qb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Ab=function(t,e){var n=this,i=null;return Cu(this,this.I().then((function(t){return i=t,void 0===e||ht(e)?{}:Or(new Ar(e))})).then((function(e){return n.a.Ab(i,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.hc=function(t){var e=null,n=this;return Cu(this,t=no(Ee(t),n.uid).then((function(t){return e=Su(n,t,"reauthenticate"),xu(n,t),n.h=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.v()},t.v=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.v(),redirectEventId:this.fa||null};return this.metadata&&pt(t,this.metadata.v()),U(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),pt(t,this.O.v()),t};var Nu={name:"redirectUser",F:"session"};function Pu(t){return Bl(t.b,Nu,t.a)}function Lu(t){this.a=t,this.b=jl(),this.c=null,this.f=function(t){var e=Ru("local"),n=Ru("session"),i=Ru("none");return function(t,e,n){var i=Hl(e,n),r=Ul(t,e.F);return t.get(e,n).then((function(o){var a=null;try{a=Pi(s.localStorage.getItem(i))}catch(l){}if(a&&!o)return s.localStorage.removeItem(i),t.set(e,a,n);a&&o&&"localStorage"!=r.type&&s.localStorage.removeItem(i)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(r){return r?n:t.b.get(i,t.a).then((function(n){return n?i:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(Du,t.a).then((function(t){return t?Ru(t):e}))}))}))})).then((function(e){return t.c=e,Ou(t,e.F)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(Ru("local"),this.a,b(this.g,this))}function Ou(t,e){var n,i=[];for(n in zl)zl[n]!==e&&i.push(Bl(t.b,Ru(zl[n]),t.a));return i.push(Bl(t.b,Du,t.a)),function(t){return new me((function(e,n){var i=t.length,r=[];if(i)for(var o=function(t,n){i--,r[t]=n,0==i&&e(r)},s=function(t){n(t)},a=0;a<t.length;a++)_e(t[a],x(o,a),s);else e(r)}))}(i)}Lu.prototype.g=function(){var t=this,e=Ru("local");Vu(this,(function(){return Ee().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return Ou(t,"local").then((function(){t.c=e}))}))}))};var Du={name:"persistence",F:"session"};function Ru(t){return{name:"authUser",F:t}}function Mu(t,e){return Vu(t,(function(){return t.b.set(t.c,e.v(),t.a)}))}function Fu(t){return Vu(t,(function(){return Bl(t.b,t.c,t.a)}))}function zu(t,e){return Vu(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),Tu(t||{})}))}))}function Vu(t,e){return t.f=t.f.then(e,e),t.f}function ju(t){if(this.l=!1,Bi(this,"settings",new Dc),Bi(this,"app",t),!Gu(this).options||!Gu(this).options.apiKey)throw new A("invalid-api-key");t=Fp.a.SDK_VERSION?wi(Fp.a.SDK_VERSION):null,this.b=new js(Gu(this).options&&Gu(this).options.apiKey,I(k),t),this.P=[],this.m=[],this.O=[],this.$b=Fp.a.INTERNAL.createSubscribe(b(this.xc,this)),this.W=void 0,this.ac=Fp.a.INTERNAL.createSubscribe(b(this.yc,this)),Yu(this,null),this.i=new Lu(Gu(this).options.apiKey+":"+Gu(this).name),this.B=new Iu(Gu(this).options.apiKey+":"+Gu(this).name),this.Z=Zu(this,function(t){var e=Gu(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Nu,t.a).then((function(t){return t&&e&&(t.authDomain=e),Tu(t||{})}))}(t.B,Gu(t).options.authDomain).then((function(e){return(t.D=e)&&(e.ga=t.B),Pu(t.B)}));return Zu(t,e)}(t).then((function(){return zu(t.i,e)})).then((function(e){return e?(e.ga=t.B,t.D&&(t.D.fa||null)==(e.fa||null)?e:e.reload().then((function(){return Mu(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:Fu(t.i)}))):null})).then((function(e){Yu(t,e||null)}));return Zu(t,n)}(this)),this.h=Zu(this,function(t){return t.Z.then((function(){return Xu(t)})).o((function(){})).then((function(){if(!t.l)return t.oa()})).o((function(){})).then((function(){if(!t.l){t.aa=!0;var e=t.i;e.b.addListener(Ru("local"),e.a,t.oa)}}))}(this)),this.aa=!1,this.oa=b(this.Xc,this),this.Ma=b(this.ca,this),this.xa=b(this.jc,this),this.ya=b(this.uc,this),this.za=b(this.vc,this),this.a=null,function(t){var e=Gu(t).options.authDomain,n=Gu(t).options.apiKey;e&&ki()&&(t.Zb=t.Z.then((function(){if(!t.l){if(t.a=Cc(e,n,Gu(t).name),yc(t.a,t),qu(t)&&uu(qu(t)),t.D){uu(t.D);var i=t.D;i.va(t.ja()),nu(i,t),iu(i=t.D,t.N),ru(i,t),t.D=null}return t.a}})))}(this),this.INTERNAL={},this.INTERNAL.delete=b(this.delete,this),this.INTERNAL.logFramework=b(this.Ec,this),this.s=0,mn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ja()},set:function(t){this.va(t)},enumerable:!1}),t.$=null,Object.defineProperty(t,"ti",{get:function(){return this.S()},set:function(t){this.ub(t)},enumerable:!1}),t.R=null}(this),this.N=[]}function Uu(t){We.call(this,"languageCodeChanged"),this.g=t}function Hu(t){We.call(this,"frameworkChanged"),this.c=t}function Bu(t){return t.Zb||ke(new A("auth-domain-config-required"))}function Xu(t){if(!ki())return ke(new A("operation-not-supported-in-this-environment"));var e=Bu(t).then((function(){return t.a.pa()})).then((function(t){return t?Yi(t):null}));return Zu(t,e)}function Yu(t,e){qu(t)&&(function(t,e){G(t.R,(function(t){return t==e}))}(qu(t),t.Ma),ln(qu(t),"tokenChanged",t.xa),ln(qu(t),"userDeleted",t.ya),ln(qu(t),"userInvalidated",t.za),au(qu(t))),e&&(e.R.push(t.Ma),on(e,"tokenChanged",t.xa),on(e,"userDeleted",t.ya),on(e,"userInvalidated",t.za),0<t.s&&su(e)),Bi(t,"currentUser",e),e&&(e.va(t.ja()),nu(e,t),iu(e,t.N),ru(e,t))}function Wu(t,e){var n=null,i=null;return Zu(t,e.then((function(e){return n=Po(e),i=Hr(e),function(t,e){var n={};return n.apiKey=Gu(t).options.apiKey,n.authDomain=Gu(t).options.authDomain,n.appName=Gu(t).name,t.Z.then((function(){return function(t,e,n,i){var r=new eu(t,e);return n&&(r.ga=n),i&&iu(r,i),r.reload().then((function(){return r}))}(n,e,t.B,t.Ea())})).then((function(e){return qu(t)&&e.uid==qu(t).uid?(yu(qu(t),e),t.ca(e)):(Yu(t,e),uu(e),t.ca(e))})).then((function(){Ku(t)}))}(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Hc(e.v(),t,b(t.ic,t))),n||e})).then((function(){return Yi({user:qu(t),credential:n,additionalUserInfo:i,operationType:"signIn"})})))}function Gu(t){return t.app}function qu(t){return t.currentUser}function $u(t){return qu(t)&&qu(t)._lat||null}function Ku(t){if(t.aa){for(var e=0;e<t.m.length;e++)t.m[e]&&t.m[e]($u(t));if(t.W!==t.getUid()&&t.O.length)for(t.W=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e]($u(t))}}function Zu(t,e){return t.P.push(e),e.ma((function(){W(t.P,e)})),e}function Qu(){}function Ju(){this.a={},this.b=1e12}Lu.prototype.tb=function(t){var e=null,n=this;return function(t){var e=new A("invalid-persistence-type"),n=new A("unsupported-persistence-type");t:{for(i in zl)if(zl[i]==t){var i=!0;break t}i=!1}if(!i||"string"!=typeof t)throw e;switch(vi()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!ml()&&"none"!==t)throw n;break;default:if(!Ei()&&"none"!==t)throw n}}(t),Vu(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(i){return e=i,Ou(n,t)})).then((function(){if(n.c=Ru(t),e)return n.b.set(n.c,e,n.a)})):Ee()}))},S(ju,mn),S(Uu,We),S(Hu,We),(t=ju.prototype).tb=function(t){return Zu(this,t=this.i.tb(t))},t.va=function(t){this.$===t||this.l||(this.$=t,Gs(this.b,this.$),this.dispatchEvent(new Uu(this.ja())))},t.ja=function(){return this.$},t.dd=function(){var t=s.navigator;this.va(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.Ec=function(t){this.N.push(t),qs(this.b,Fp.a.SDK_VERSION?wi(Fp.a.SDK_VERSION,this.N):null),this.dispatchEvent(new Hu(this.N))},t.Ea=function(){return $(this.N)},t.ub=function(t){this.R===t||this.l||(this.R=t,this.b.b=this.R)},t.S=function(){return this.R},t.toJSON=function(){return{apiKey:Gu(this).options.apiKey,authDomain:Gu(this).options.authDomain,appName:Gu(this).name,currentUser:qu(this)&&qu(this).v()}},t.Cb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.la=function(t,e,n,i){"signInViaPopup"==t&&this.g==i&&(n&&this.w?this.w(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},t.Da=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?b(this.gc,this):null},t.gc=function(t,e,n,i){var r=this,o={requestUri:t,postBody:i,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),r.Z.then((function(){return Wu(r,aa(r.b,o))}))},t.Vc=function(t){if(!ki())return ke(new A("operation-not-supported-in-this-environment"));var e=this,n=Ur(t.providerId),i=Li(),r=null;(!Ti()||pi())&&Gu(this).options.authDomain&&t.isOAuthProvider&&(r=ol(Gu(this).options.authDomain,Gu(this).options.apiKey,Gu(this).name,"signInViaPopup",t,null,i,Fp.a.SDK_VERSION||null,null,null,this.S()));var o=ci(r,n&&n.ta,n&&n.sa);return Zu(this,n=Bu(this).then((function(n){return Sc(n,o,"signInViaPopup",t,i,!!r,e.S())})).then((function(){return new me((function(t,n){e.la("signInViaPopup",null,new A("cancelled-popup-request"),e.g),e.f=t,e.w=n,e.g=i,e.c=kc(e.a,e,"signInViaPopup",o,i)}))})).then((function(t){return o&&li(o),t?Yi(t):null})).o((function(t){throw o&&li(o),t})))},t.Wc=function(t){if(!ki())return ke(new A("operation-not-supported-in-this-environment"));var e=this;return Zu(this,Bu(this).then((function(){return function(t){return Vu(t,(function(){return t.b.set(Du,t.c.F,t.a)}))}(e.i)})).then((function(){return Ec(e.a,"signInViaRedirect",t,void 0,e.S())})))},t.pa=function(){var t=this;return Xu(this).then((function(e){return t.a&&Nc(t.a.b),e})).o((function(e){throw t.a&&Nc(t.a.b),e}))},t.bd=function(t){if(!t)return ke(new A("null-user"));if(this.R!=t.tenantId)return ke(new A("tenant-id-mismatch"));var e=this,n={};n.apiKey=Gu(this).options.apiKey,n.authDomain=Gu(this).options.authDomain,n.appName=Gu(this).name;var i=function(t,e,n,i){var r=t.b,o={};return o[Hs]=r.b&&r.b.toString(),o.refreshToken=r.a,e=new eu(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ga=n),i&&iu(e,i),yu(e,t),e}(t,n,e.B,e.Ea());return Zu(this,this.h.then((function(){if(Gu(e).options.apiKey!=t.l)return i.reload()})).then((function(){return qu(e)&&t.uid==qu(e).uid?(yu(qu(e),t),e.ca(t)):(Yu(e,i),uu(i),e.ca(i))})).then((function(){Ku(e)})))},t.wb=function(){var t=this;return Zu(this,this.h.then((function(){return t.a&&Nc(t.a.b),qu(t)?(Yu(t,null),Fu(t.i).then((function(){Ku(t)}))):Ee()})))},t.Xc=function(){var t=this;return zu(this.i,Gu(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=qu(t)&&e){n=qu(t).uid;var i=e.uid;n=null!=n&&""!==n&&null!=i&&""!==i&&n==i}if(n)return yu(qu(t),e),qu(t).I();(qu(t)||e)&&(Yu(t,e),e&&(uu(e),e.ga=t.B),t.a&&yc(t.a,t),Ku(t))}}))},t.ca=function(t){return Mu(this.i,t)},t.jc=function(){Ku(this),this.ca(qu(this))},t.uc=function(){this.wb()},t.vc=function(){this.wb()},t.ic=function(t){var e=this;return this.h.then((function(){return Wu(e,Ee(t))}))},t.xc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(qu(e))}))},t.yc=function(t){var e=this;!function(t,e){t.O.push(e),Zu(t,t.h.then((function(){!t.l&&Y(t.O,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e($u(t)))})))}(this,(function(){t.next(qu(e))}))},t.Gc=function(t,e,n){var i=this;return this.aa&&Promise.resolve().then((function(){d(t)?t(qu(i)):d(t.next)&&t.next(qu(i))})),this.$b(t,e,n)},t.Fc=function(t,e,n){var i=this;return this.aa&&Promise.resolve().then((function(){i.W=i.getUid(),d(t)?t(qu(i)):d(t.next)&&t.next(qu(i))})),this.ac(t,e,n)},t.kc=function(t){var e=this;return Zu(this,this.h.then((function(){return qu(e)?qu(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Rc=function(t){var e=this;return this.h.then((function(){return Wu(e,Xa(e.b,za,{token:t}))})).then((function(t){var n=t.user;return mu(n,"isAnonymous",!1),e.ca(n),t}))},t.Sc=function(t,e){var n=this;return this.h.then((function(){return Wu(n,Xa(n.b,Va,{email:t,password:e}))}))},t.cc=function(t,e){var n=this;return this.h.then((function(){return Wu(n,Xa(n.b,fa,{email:t,password:e}))}))},t.Ya=function(t){var e=this;return this.h.then((function(){return Wu(e,t.ia(e.b))}))},t.Qc=function(t){return Ui("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Ya(t)},t.vb=function(){var t=this;return this.h.then((function(){var e=qu(t);if(e&&e.isAnonymous){var n=Yi({providerId:null,isNewUser:!1});return Yi({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return Wu(t,t.b.vb()).then((function(e){var n=e.user;return mu(n,"isAnonymous",!0),t.ca(n),e}))}))},t.getUid=function(){return qu(this)&&qu(this).uid||null},t.bc=function(t){this.addAuthTokenListener(t),this.s++,0<this.s&&qu(this)&&su(qu(this))},t.Nc=function(t){var e=this;U(this.m,(function(n){n==t&&e.s--})),0>this.s&&(this.s=0),0==this.s&&qu(this)&&au(qu(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.m.push(t),Zu(this,this.h.then((function(){e.l||Y(e.m,t)&&t($u(e))})))},t.removeAuthTokenListener=function(t){G(this.m,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel("app-deleted");return this.P=[],this.i&&(t=this.i).b.removeListener(Ru("local"),t.a,this.oa),this.a&&(bc(this.a,this),Nc(this.a.b)),Promise.resolve()},t.fc=function(t){return Zu(this,function(t,e){return Xa(t,pa,{identifier:e,continueUri:_i()?oi():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.b,t))},t.zc=function(t){return!!ko(t)},t.sb=function(t,e){var n=this;return Zu(this,Ee().then((function(){var t=new Ar(e);if(!t.c)throw new A("argument-error",_r+" must be true when sending sign in link to email");return Or(t)})).then((function(e){return n.b.sb(t,e)})).then((function(){})))},t.fd=function(t){return this.Pa(t).then((function(t){return t.data.email}))},t.jb=function(t,e){return Zu(this,this.b.jb(t,e).then((function(){})))},t.Pa=function(t){return Zu(this,this.b.Pa(t).then((function(t){return new tr(t)})))},t.fb=function(t){return Zu(this,this.b.fb(t).then((function(){})))},t.rb=function(t,e){var n=this;return Zu(this,Ee().then((function(){return void 0===e||ht(e)?{}:Or(new Ar(e))})).then((function(e){return n.b.rb(t,e)})).then((function(){})))},t.Uc=function(t,e){return Zu(this,Mc(this,t,e,b(this.Ya,this)))},t.Tc=function(t,e){var n=this;return Zu(this,Ee().then((function(){var i=e||oi(),r=Eo(t,i);if(!(i=ko(i)))throw new A("argument-error","Invalid email link!");if(i.tenantId!==n.S())throw new A("tenant-id-mismatch");return n.Ya(r)})))},Qu.prototype.render=function(){},Qu.prototype.reset=function(){},Qu.prototype.getResponse=function(){},Qu.prototype.execute=function(){};var th=null;function eh(t,e){return(e=nh(e))&&t.a[e]||null}function nh(t){return(t=void 0===t?1e12:t)?t.toString():null}function ih(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=re(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():on(this.f,"click",this.i)}function rh(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function oh(){}function sh(){}Ju.prototype.render=function(t,e){return this.a[this.b.toString()]=new ih(t,e),this.b++},Ju.prototype.reset=function(t){var e=eh(this,t);t=nh(t),e&&t&&(e.delete(),delete this.a[t])},Ju.prototype.getResponse=function(t){return(t=eh(this,t))?t.getResponse():null},Ju.prototype.execute=function(t){(t=eh(this,t))&&t.execute()},ih.prototype.getResponse=function(){return rh(this),this.b},ih.prototype.execute=function(){rh(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(i){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(i){}t.h&&t.execute()}),6e4)}),500))},ih.prototype.delete=function(){rh(this),this.g=!0,clearTimeout(this.a),this.a=null,ln(this.f,"click",this.i)},Bi(oh,"FACTOR_ID","phone"),sh.prototype.g=function(){return th||(th=new Ju),Ee(th)},sh.prototype.c=function(){};var ah=null;function lh(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var ch=new vt(bt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),uh=new Ri(3e4,6e4);lh.prototype.g=function(t){var e=this;return new me((function(n,i){var r=setTimeout((function(){i(new A("network-request-failed"))}),uh.get());!s.grecaptcha||t!==e.f&&!e.b?(s[e.a]=function(){if(s.grecaptcha){e.f=t;var o=s.grecaptcha.render;s.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(r),n(s.grecaptcha)}else clearTimeout(r),i(new A("internal-error"));delete s[e.a]},Ee(Os(At(ch,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(r),i(new A("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(r),n(s.grecaptcha))}))},lh.prototype.c=function(){this.b--};var hh=null;function dh(t,e,n,i,r,o,a){if(Bi(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.u=e,this.g=null,a?(ah||(ah=new sh),a=ah):(hh||(hh=new lh),a=hh),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[gh])throw new A("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[vh],!s.document)throw new A("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!re(e)||!this.i&&re(e).hasChildNodes())throw new A("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new js(t,o||null,r||null),this.w=i||function(){return null};var l=this;this.l=[];var c=this.a[fh];this.a[fh]=function(t){if(mh(l,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=Ai(c,s);"function"==typeof e&&e(t)}};var u=this.a[ph];this.a[ph]=function(){if(mh(l,null),"function"==typeof u)u();else if("string"==typeof u){var t=Ai(u,s);"function"==typeof t&&t()}}}var fh="callback",ph="expired-callback",gh="sitekey",vh="size";function mh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(i){}}function yh(t,e){return t.h.push(e),e.ma((function(){W(t.h,e)})),e}function bh(t){if(t.D)throw new A("internal-error","RecaptchaVerifier instance has been destroyed.")}function xh(t,e,n){var i=!1;try{this.b=n||Fp.a.app()}catch(s){throw new A("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new A("invalid-api-key");n=this.b.options.apiKey;var r=this,o=null;try{o=this.b.auth().Ea()}catch(s){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(s){}o=Fp.a.SDK_VERSION?wi(Fp.a.SDK_VERSION,o):null,dh.call(this,n,t,e,(function(){try{var t=r.b.auth().ja()}catch(e){t=null}return t}),o,I(k),i)}function wh(t,e,n,i){t:{n=Array.prototype.slice.call(n);for(var r=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new A("internal-error","Argument validator encountered a required argument after an optional argument.");r++}if(o=e.length,n.length<r||o<n.length)i="Expected "+(r==o?1==r?"1 argument":r+" arguments":r+"-"+o+" arguments")+" but got "+n.length+".";else{for(r=0;r<n.length;r++)if(o=e[r].optional&&void 0===n[r],!e[r].K(n[r])&&!o){if(e=e[r],0>r||r>=Sh.length)throw new A("internal-error","Argument validator received an unsupported number of arguments.");n=Sh[r],i=(i?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.J+".";break t}i=null}}if(i)throw new A("argument-error",t+" failed: "+i)}(t=dh.prototype).Ga=function(){var t=this;return this.f?this.f:this.f=yh(this,Ee().then((function(){if(_i()&&!gi())return di();throw new A("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.w())})).then((function(e){return t.g=e,Xa(t.s,Ca,{})})).then((function(e){t.a[gh]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){bh(this);var t=this;return yh(this,this.Ga().then((function(){if(null===t.c){var e=t.u;if(!t.i){var n=re(e);e=function(t,e,n){var i=arguments,r=document,o=String(i[0]),s=i[1];if(!ie&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',jt(s.name),'"'),s.type){o.push(' type="',jt(s.type),'"');var a={};pt(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=ue(r,o),s&&("string"==typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):oe(o,s)),2<i.length&&ce(r,o,i),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){bh(this);var t=this;return yh(this,this.render().then((function(e){return new me((function(n){var i=t.g.getResponse(e);if(i)n(i);else{var r=function(e){e&&(function(t,e){G(t.l,(function(t){return t==e}))}(t,r),n(e))};t.l.push(r),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){bh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){bh(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=re(this.u);for(var e;e=t.firstChild;)t.removeChild(e)}},S(xh,dh);var Sh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Ah(t,e){return{name:t||"",J:"a valid string",optional:!!e,K:function(t){return"string"==typeof t}}}function Eh(t,e){return{name:t||"",J:"a boolean",optional:!!e,K:function(t){return"boolean"==typeof t}}}function kh(t,e){return{name:t||"",J:"a valid object",optional:!!e,K:f}}function _h(t,e){return{name:t||"",J:"a function",optional:!!e,K:d}}function Ch(t,e){return{name:t||"",J:"null",optional:!!e,K:function(t){return null===t}}}function Th(t){return{name:t?t+"Credential":"credential",J:t?"a valid "+t+" credential":"a valid credential",optional:!1,K:function(e){return!!e&&!(!e.ia||t&&e.providerId!==t)}}}function Ih(t,e){return f(t)&&"string"==typeof t.type&&t.type===e&&d(t.Fa)}function Nh(t){return f(t)&&"string"==typeof t.uid}function Ph(){return{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||!d(t.verify))}}}function Lh(t,e,n,i){return{name:n||"",J:t.J+" or "+e.J,optional:!!i,K:function(n){return t.K(n)||e.K(n)}}}function Oh(t,e){for(var n in e){var i=e[n].name;t[i]=Mh(i,t[n],e[n].j)}}function Dh(t,e){for(var n in e){var i=e[n].name;i!==n&&Object.defineProperty(t,i,{get:x((function(t){return this[t]}),n),set:x((function(t,e,n,i){wh(t,[n],[i],!0),this[e]=i}),i,n,e[n].gb),enumerable:!0})}}function Rh(t,e,n,i){t[e]=Mh(e,n,i)}function Mh(t,e,n){function i(){var t=Array.prototype.slice.call(arguments);return wh(o,n,t),e.apply(this,t)}if(!n)return e;var r,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(r in e)i[r]=e[r];for(r in e.prototype)i.prototype[r]=e.prototype[r];return i}Oh(ju.prototype,{fb:{name:"applyActionCode",j:[Ah("code")]},Pa:{name:"checkActionCode",j:[Ah("code")]},jb:{name:"confirmPasswordReset",j:[Ah("code"),Ah("newPassword")]},cc:{name:"createUserWithEmailAndPassword",j:[Ah("email"),Ah("password")]},fc:{name:"fetchSignInMethodsForEmail",j:[Ah("email")]},pa:{name:"getRedirectResult",j:[]},zc:{name:"isSignInWithEmailLink",j:[Ah("emailLink")]},Fc:{name:"onAuthStateChanged",j:[Lh(kh(),_h(),"nextOrObserver"),_h("opt_error",!0),_h("opt_completed",!0)]},Gc:{name:"onIdTokenChanged",j:[Lh(kh(),_h(),"nextOrObserver"),_h("opt_error",!0),_h("opt_completed",!0)]},rb:{name:"sendPasswordResetEmail",j:[Ah("email"),Lh(kh("opt_actionCodeSettings",!0),Ch(null,!0),"opt_actionCodeSettings",!0)]},sb:{name:"sendSignInLinkToEmail",j:[Ah("email"),kh("actionCodeSettings")]},tb:{name:"setPersistence",j:[Ah("persistence")]},Qc:{name:"signInAndRetrieveDataWithCredential",j:[Th()]},vb:{name:"signInAnonymously",j:[]},Ya:{name:"signInWithCredential",j:[Th()]},Rc:{name:"signInWithCustomToken",j:[Ah("token")]},Sc:{name:"signInWithEmailAndPassword",j:[Ah("email"),Ah("password")]},Tc:{name:"signInWithEmailLink",j:[Ah("email"),Ah("emailLink",!0)]},Uc:{name:"signInWithPhoneNumber",j:[Ah("phoneNumber"),Ph()]},Vc:{name:"signInWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Wc:{name:"signInWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},bd:{name:"updateCurrentUser",j:[Lh({name:"user",J:"an instance of Firebase User",optional:!1,K:function(t){return!!(t&&t instanceof eu)}},Ch(),"user")]},wb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Ah(null,!0)]},dd:{name:"useDeviceLanguage",j:[]},fd:{name:"verifyPasswordResetCode",j:[Ah("code")]}}),Dh(ju.prototype,{lc:{name:"languageCode",gb:Lh(Ah(),Ch(),"languageCode")},ti:{name:"tenantId",gb:Lh(Ah(),Ch(),"tenantId")}}),(ju.Persistence=zl).LOCAL="local",ju.Persistence.SESSION="session",ju.Persistence.NONE="none",Oh(eu.prototype,{delete:{name:"delete",j:[]},mc:{name:"getIdTokenResult",j:[Eh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Eh("opt_forceRefresh",!0)]},Ac:{name:"linkAndRetrieveDataWithCredential",j:[Th()]},mb:{name:"linkWithCredential",j:[Th()]},Bc:{name:"linkWithPhoneNumber",j:[Ah("phoneNumber"),Ph()]},Cc:{name:"linkWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Dc:{name:"linkWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Jc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Th()]},pb:{name:"reauthenticateWithCredential",j:[Th()]},Kc:{name:"reauthenticateWithPhoneNumber",j:[Ah("phoneNumber"),Ph()]},Lc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Mc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},qb:{name:"sendEmailVerification",j:[Lh(kh("opt_actionCodeSettings",!0),Ch(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Ah(null,!0)]},ad:{name:"unlink",j:[Ah("provider")]},xb:{name:"updateEmail",j:[Ah("email")]},yb:{name:"updatePassword",j:[Ah("password")]},cd:{name:"updatePhoneNumber",j:[Th("phone")]},zb:{name:"updateProfile",j:[kh("profile")]},Ab:{name:"verifyBeforeUpdateEmail",j:[Ah("email"),Lh(kh("opt_actionCodeSettings",!0),Ch(null,!0),"opt_actionCodeSettings",!0)]}}),Oh(Ju.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Oh(Qu.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Oh(me.prototype,{ma:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Dh(Dc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",gb:Eh("appVerificationDisabledForTesting")}}),Oh(Rc.prototype,{confirm:{name:"confirm",j:[Ah("verificationCode")]}}),Rh(eo,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[lo,So,Co,oo],i=0;i<n.length;i++)if(e=n[i](t))return e;return null}),[Lh(Ah(),kh(),"json")]),Rh(Ao,"credential",(function(t,e){return new wo(t,e)}),[Ah("email"),Ah("password")]),Oh(wo.prototype,{v:{name:"toJSON",j:[Ah(null,!0)]}}),Oh(fo.prototype,{Aa:{name:"addScope",j:[Ah("scope")]},Ia:{name:"setCustomParameters",j:[kh("customOAuthParameters")]}}),Rh(fo,"credential",po,[Lh(Ah(),kh(),"token")]),Rh(Ao,"credentialWithLink",Eo,[Ah("email"),Ah("emailLink")]),Oh(go.prototype,{Aa:{name:"addScope",j:[Ah("scope")]},Ia:{name:"setCustomParameters",j:[kh("customOAuthParameters")]}}),Rh(go,"credential",vo,[Lh(Ah(),kh(),"token")]),Oh(mo.prototype,{Aa:{name:"addScope",j:[Ah("scope")]},Ia:{name:"setCustomParameters",j:[kh("customOAuthParameters")]}}),Rh(mo,"credential",yo,[Lh(Ah(),Lh(kh(),Ch()),"idToken"),Lh(Ah(),Ch(),"accessToken",!0)]),Oh(bo.prototype,{Ia:{name:"setCustomParameters",j:[kh("customOAuthParameters")]}}),Rh(bo,"credential",xo,[Lh(Ah(),kh(),"token"),Ah("secret",!0)]),Oh(ho.prototype,{Aa:{name:"addScope",j:[Ah("scope")]},credential:{name:"credential",j:[Lh(Ah(),Lh(kh(),Ch()),"optionsOrIdToken"),Lh(Ah(),Ch(),"accessToken",!0)]},Ia:{name:"setCustomParameters",j:[kh("customOAuthParameters")]}}),Oh(so.prototype,{v:{name:"toJSON",j:[Ah(null,!0)]}}),Oh(io.prototype,{v:{name:"toJSON",j:[Ah(null,!0)]}}),Rh(Io,"credential",No,[Ah("verificationId"),Ah("verificationCode")]),Oh(Io.prototype,{cb:{name:"verifyPhoneNumber",j:[Lh(Ah(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(t){return!!t&&(t.session&&t.phoneNumber?Ih(t.session,Jr)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Ih(t.session,to)&&Nh(t.multiFactorHint):t.session&&t.multiFactorUid?Ih(t.session,to)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),Ph()]}}),Oh(_o.prototype,{v:{name:"toJSON",j:[Ah(null,!0)]}}),Oh(A.prototype,{toJSON:{name:"toJSON",j:[Ah(null,!0)]}}),Oh(Vo.prototype,{toJSON:{name:"toJSON",j:[Ah(null,!0)]}}),Oh(zo.prototype,{toJSON:{name:"toJSON",j:[Ah(null,!0)]}}),Oh(Uc.prototype,{toJSON:{name:"toJSON",j:[Ah(null,!0)]}}),Oh(zc.prototype,{Pc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.ob}}]}}),Oh(Gc.prototype,{Ob:{name:"getSession",j:[]},dc:{name:"enroll",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.ob}},Ah("displayName",!0)]},$c:{name:"unenroll",j:[Lh({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:Nh},Ah(),"multiFactorInfoIdentifier")]}}),Oh(xh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Rh(pr,"parseLink",Sr,[Ah("link")]),Rh(oh,"assertion",(function(t){return new Yc(t)}),[Th("phone")]),function(){if(void 0===Fp.a||!Fp.a.INTERNAL||!Fp.a.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:nr,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:er,VERIFY_AND_CHANGE_EMAIL:ir,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:ju,AuthCredential:eo,Error:A};Rh(t,"EmailAuthProvider",Ao,[]),Rh(t,"FacebookAuthProvider",fo,[]),Rh(t,"GithubAuthProvider",go,[]),Rh(t,"GoogleAuthProvider",mo,[]),Rh(t,"TwitterAuthProvider",bo,[]),Rh(t,"OAuthProvider",ho,[Ah("providerId")]),Rh(t,"SAMLAuthProvider",uo,[Ah("providerId")]),Rh(t,"PhoneAuthProvider",Io,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(t){return!!(t&&t instanceof ju)}}]),Rh(t,"RecaptchaVerifier",xh,[Lh(Ah(),{name:"",J:"an HTML element",optional:!1,K:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),kh("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(t){return!!(t&&t instanceof Fp.a.app.App)}}]),Rh(t,"ActionCodeURL",pr,[]),Rh(t,"PhoneMultiFactorGenerator",oh,[]),Fp.a.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new ju(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),Fp.a.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:b((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:b(t.kc,t),addAuthTokenListener:b(t.bc,t),removeAuthTokenListener:b(t.Nc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Fp.a.registerVersion("@firebase/auth","0.14.6"),Fp.a.INTERNAL.extendNamespace({User:eu})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});let zp=class{};var Vp;n("6Joi");let jp=Vp=class{static enablePersistence(t){return{ngModule:Vp,providers:[{provide:dp,useValue:!0},{provide:fp,useValue:t}]}}};class Up{}var Hp=qs(Ks,[Zs],(function(t){return function(t){const e={},n=[];let i=!1;for(let r=0;r<t.length;r++){const o=t[r];o.token===Ae&&!0===o.value&&(i=!0),1073741824&o.flags&&n.push(o.token),o.index=r,e[jn(o.token)]=o}return{factory:null,providersByKey:e,providers:t,modules:n,isRoot:i}}([yi(512,qe,$e,[[8,[zd,Bd,Ep,Np,Dp]],[3,qe],Dt]),yi(5120,Cr,ko,[[3,Cr]]),yi(4608,Da,Ra,[Cr,[2,Oa]]),yi(5120,ur,_o,[Xr]),yi(5120,xr,wr,[]),yi(5120,yn,Ao,[]),yi(5120,bn,Eo,[]),yi(4608,Rc,Mc,[Xa]),yi(6144,ge,null,[Rc]),yi(4608,Tc,Nc,[]),yi(5120,ic,(function(t,e,n,i,r,o,s,a){return[new _c(t,e,n),new Dc(i),new Pc(r,o,s,a)]}),[Xa,Xr,Er,Xa,Xa,Tc,_r,[2,Ic]]),yi(4608,rc,rc,[ic,Xr]),yi(135680,ac,ac,[Xa]),yi(4608,dc,dc,[rc,ac,xr]),yi(6144,en,null,[dc]),yi(6144,sc,null,[ac]),yi(4608,Zr,Zr,[Xr]),yi(5120,lp,up,[rp,Xr,[2,op]]),yi(4608,Rp,Rp,[rp,[2,op],Er,Xr]),yi(4608,yp,yp,[rp,[2,op],[2,dp],[2,pp],Er,Xr,[2,fp]]),yi(5120,Qu,Nd,[ld]),yi(4608,md,md,[]),yi(6144,gd,null,[md]),yi(135680,yd,yd,[ld,uo,Or,ke,gd]),yi(4608,vd,vd,[]),yi(5120,bd,kd,[ld,Wa,xd]),yi(5120,Dd,Od,[Pd]),yi(5120,kr,(function(t){return[t]}),[Dd]),yi(1073742336,Ba,Ba,[]),yi(1024,Bt,Xc,[]),yi(1024,io,(function(){return[Ad()]}),[]),yi(512,Pd,Pd,[ke]),yi(1024,yr,(function(t,e){return[(n=t,tc("probe",nc),tc("coreTokens",Object.assign({},ec,(n||[]).reduce((t,e)=>(t[e.name]=e.token,t),{}))),()=>nc),Ld(e)];var n}),[[2,io],Pd]),yi(512,br,br,[[2,yr]]),yi(131584,lo,lo,[Xr,_r,ke,Bt,qe,br]),yi(1073742336,Co,Co,[lo]),yi(1073742336,Yc,Yc,[[3,Yc]]),yi(1073742336,hp,hp,[Er]),yi(1073742336,zp,zp,[]),yi(1073742336,jp,jp,[]),yi(1024,wd,Cd,[[3,ld]]),yi(512,Nu,Pu,[]),yi(512,dd,dd,[]),yi(256,xd,{},[]),yi(1024,ta,_d,[Qs,[2,ea],xd]),yi(512,na,na,[ta,Qs]),yi(512,Or,Or,[]),yi(512,uo,po,[Or,[2,ho]]),yi(1024,ed,(function(){return[[{path:"home",component:Vd},{path:"admin",component:xf},{path:"a",component:_p},{path:"",redirectTo:"/admin",pathMatch:"full"},{path:"**",component:Vd}]]}),[]),yi(1024,ld,Id,[lo,Nu,dd,na,ke,uo,Or,ed,xd,[2,id],[2,Jh]]),yi(1073742336,Ed,Ed,[[2,wd],[2,ld]]),yi(1073742336,Up,Up,[]),yi(1073742336,Ks,Ks,[]),yi(256,Ae,!0,[]),yi(256,rp,{apiKey:"AIzaSyAt3giWV5IWj0FMKWn7oO47ZhcKkgzoTWs",authDomain:"ocloud-77b52.firebaseapp.com",databaseURL:"https://iocloud-77b52.firebaseio.com/",projectId:"iocloud-77b52",storageBucket:"<your-storage-bucket>",messagingSenderId:"267434257483"},[]),yi(256,op,void 0,[])])}));(function(){if(Yt)throw new Error("Cannot enable prod mode after platform setup.");Xt=!1})(),Bc().bootstrapModuleFactory(Hp).catch(t=>console.error(t))},zVF4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("+7AZ"),r={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw s(e)},s=function(t){return new Error("Firebase Database ("+r.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},a=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):55296==(64512&r)&&i+1<t.length&&56320==(64512&t.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&t.charCodeAt(++i)),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e},l={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[],r=0;r<t.length;r+=3){var o=t[r],s=r+1<t.length,a=s?t[r+1]:0,l=r+2<t.length,c=l?t[r+2]:0,u=(15&a)<<2|c>>6,h=63&c;l||(h=64,s||(u=64)),i.push(n[o>>2],n[(3&o)<<4|a>>4],n[u],n[h])}return i.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,i=0;n<t.length;){var r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){var o=t[n++];e[i++]=String.fromCharCode((31&r)<<6|63&o)}else if(r>239&&r<365){var s=((7&r)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[i++]=String.fromCharCode(55296+(s>>10)),e[i++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[i++]=String.fromCharCode((15&r)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[],r=0;r<t.length;){var o=n[t.charAt(r++)],s=r<t.length?n[t.charAt(r)]:0,a=++r<t.length?n[t.charAt(r)]:64,l=++r<t.length?n[t.charAt(r)]:64;if(++r,null==o||null==s||null==a||null==l)throw Error();i.push(o<<2|s>>4),64!==a&&(i.push(s<<4&240|a>>2),64!==l&&i.push(a<<6&192|l))}return i},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},c=function(t){try{return l.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function u(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=u(t[n],e[n]));return t}var h=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,i){n?e.reject(n):e.resolve(i),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,i))}},t}();function d(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var f=function(t){function e(n,i){var r=t.call(this,i)||this;return r.code=n,r.name="FirebaseError",Object.setPrototypeOf(r,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(r,p.prototype.create),r}return i.__extends(e,t),e}(Error),p=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=e[0]||{},r=this.service+"/"+t,o=this.errors[t],s=o?g(o,i):"Error",a=this.serviceName+": "+s+" ("+r+").",l=new f(r,a),c=0,u=Object.keys(i);c<u.length;c++){var h=u[c];"_"!==h.slice(-1)&&(h in l&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),l[h]=i[h])}return l},t}();function g(t,e){return t.replace(v,(function(t,n){var i=e[n];return null!=i?i.toString():"<"+n+"?>"}))}var v=/\{\$([^}]+)}/g;function m(t){return JSON.parse(t)}var y=function(t){var e={},n={},i={},r="";try{var o=t.split(".");e=m(c(o[0])||""),n=m(c(o[1])||""),r=o[2],i=n.d||{},delete n.d}catch(s){}return{header:e,claims:n,data:i,signature:r}},b=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var i=0;i<16;i++)n[i]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(i=0;i<16;i++)n[i]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(i=16;i<80;i++)n[i]=4294967295&((h=n[i-3]^n[i-8]^n[i-14]^n[i-16])<<1|h>>>31);var r,o,s=this.chain_[0],a=this.chain_[1],l=this.chain_[2],c=this.chain_[3],u=this.chain_[4];for(i=0;i<80;i++){i<40?i<20?(r=c^a&(l^c),o=1518500249):(r=a^l^c,o=1859775393):i<60?(r=a&l|c&(a|l),o=2400959708):(r=a^l^c,o=3395469782);var h=(s<<5|s>>>27)+r+u+o+n[i]&4294967295;u=c,c=l,l=4294967295&(a<<30|a>>>2),a=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,i=0,r=this.buf_,o=this.inbuf_;i<e;){if(0===o)for(;i<=n;)this.compress_(t,i),i+=this.blockSize;if("string"==typeof t){for(;i<e;)if(r[o]=t.charCodeAt(i),++i,++o===this.blockSize){this.compress_(r),o=0;break}}else for(;i<e;)if(r[o]=t[i],++i,++o===this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var i=0;for(n=0;n<5;n++)for(var r=24;r>=0;r-=8)t[i]=this.chain_[n]>>r&255,++i;return t},t}(),x=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var i,r=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(i=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,i=["next","error","complete"];n<i.length;n++){var r=i[n];if(r in t&&"function"==typeof t[r])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(i.next=w),void 0===i.error&&(i.error=w),void 0===i.complete&&(i.complete=w);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{r.finalError?i.error(r.finalError):i.complete()}catch(t){}})),this.observers.push(i),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(i){"undefined"!=typeof console&&console.error&&console.error(i)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function w(){}function S(t,e,n){var i="";switch(e){case 1:i=n?"first":"First";break;case 2:i=n?"second":"Second";break;case 3:i=n?"third":"Third";break;case 4:i=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+i+" argument "}e.CONSTANTS=r,e.Deferred=h,e.ErrorFactory=p,e.FirebaseError=f,e.Sha1=b,e.assert=o,e.assertionError=s,e.async=function(t,e){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}},e.base64=l,e.base64Decode=c,e.base64Encode=function(t){var e=a(t);return l.encodeByteArray(e,!0)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new x(t,e);return n.subscribe.bind(n)},e.decode=y,e.deepCopy=function(t){return u(void 0,t)},e.deepExtend=u,e.errorPrefix=S,e.getUA=d,e.isAdmin=function(t){var e=y(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isBrowserExtension=function(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id},e.isElectron=function(){return d().indexOf("Electron/")>=0},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isIE=function(){var t=d();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())},e.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}},e.isNodeSdk=function(){return!0===r.NODE_CLIENT||!0===r.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isUWP=function(){return d().indexOf("MSAppHost/")>=0},e.isValidFormat=function(t){var e=y(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=y(t).claims,n=Math.floor((new Date).getTime()/1e3),i=0,r=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?i=e.nbf:e.hasOwnProperty("iat")&&(i=e.iat),r=e.hasOwnProperty("exp")?e.exp:i+86400),!!n&&!!i&&!!r&&n>=i&&n<=r},e.issuedAtTime=function(t){var e=y(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=m,e.map=function(t,e,n){var i={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=e.call(n,t[r],r,t));return i},e.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},i=0,r=Object.entries(t);i<r.length;i++){var o=r[i];n(o[0],o[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}})),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var r=t.charCodeAt(i);if(r>=55296&&r<=56319){var s=r-55296;i++,o(i<t.length,"Surrogate pair missing trail surrogate."),r=65536+(s<<10)+(t.charCodeAt(i)-56320)}r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):r<65536?(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,i){var r;if(i<e?r="at least "+e:i>n&&(r=0===n?"none":"no more than "+n),r)throw new Error(t+" failed: Was called with "+i+(1===i?" argument.":" arguments.")+" Expects "+r+".")},e.validateCallback=function(t,e,n,i){if((!i||n)&&"function"!=typeof n)throw new Error(S(t,e,i)+"must be a valid function.")},e.validateContextObject=function(t,e,n,i){if((!i||n)&&("object"!=typeof n||null===n))throw new Error(S(t,e,i)+"must be a valid context object.")},e.validateNamespace=function(t,e,n,i){if((!i||n)&&"string"!=typeof n)throw new Error(S(t,e,i)+"must be a valid firebase namespace.")}},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);